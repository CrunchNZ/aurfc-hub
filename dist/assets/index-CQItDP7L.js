(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function VE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var PE={exports:{}},Uc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb=Symbol.for("react.transitional.element"),Tb=Symbol.for("react.fragment");function xE(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var r in t)r!=="key"&&(n[r]=t[r])}else n=t;return t=n.ref,{$$typeof:Eb,type:e,key:i,ref:t!==void 0?t:null,props:n}}Uc.Fragment=Tb;Uc.jsx=xE;Uc.jsxs=xE;PE.exports=Uc;var z=PE.exports,kE={exports:{}},J={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vm=Symbol.for("react.transitional.element"),Ab=Symbol.for("react.portal"),Sb=Symbol.for("react.fragment"),wb=Symbol.for("react.strict_mode"),Rb=Symbol.for("react.profiler"),bb=Symbol.for("react.consumer"),Ib=Symbol.for("react.context"),Cb=Symbol.for("react.forward_ref"),Db=Symbol.for("react.suspense"),Nb=Symbol.for("react.memo"),UE=Symbol.for("react.lazy"),Ay=Symbol.iterator;function Ob(e){return e===null||typeof e!="object"?null:(e=Ay&&e[Ay]||e["@@iterator"],typeof e=="function"?e:null)}var LE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BE=Object.assign,zE={};function aa(e,t,n){this.props=e,this.context=t,this.refs=zE,this.updater=n||LE}aa.prototype.isReactComponent={};aa.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};aa.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function jE(){}jE.prototype=aa.prototype;function Em(e,t,n){this.props=e,this.context=t,this.refs=zE,this.updater=n||LE}var Tm=Em.prototype=new jE;Tm.constructor=Em;BE(Tm,aa.prototype);Tm.isPureReactComponent=!0;var Sy=Array.isArray,Rt={H:null,A:null,T:null,S:null,V:null},qE=Object.prototype.hasOwnProperty;function Am(e,t,n,i,r,s){return n=s.ref,{$$typeof:vm,type:e,key:t,ref:n!==void 0?n:null,props:s}}function Mb(e,t){return Am(e.type,t,void 0,void 0,void 0,e.props)}function Sm(e){return typeof e=="object"&&e!==null&&e.$$typeof===vm}function Vb(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wy=/\/+/g;function Xh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vb(""+e.key):t.toString(36)}function Ry(){}function Pb(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Ry,Ry):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function ls(e,t,n,i,r){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vm:case Ab:a=!0;break;case UE:return a=e._init,ls(a(e._payload),t,n,i,r)}}if(a)return r=r(e),a=i===""?"."+Xh(e,0):i,Sy(r)?(n="",a!=null&&(n=a.replace(wy,"$&/")+"/"),ls(r,t,n,"",function(c){return c})):r!=null&&(Sm(r)&&(r=Mb(r,n+(r.key==null||e&&e.key===r.key?"":(""+r.key).replace(wy,"$&/")+"/")+a)),t.push(r)),1;a=0;var l=i===""?".":i+":";if(Sy(e))for(var u=0;u<e.length;u++)i=e[u],s=l+Xh(i,u),a+=ls(i,t,n,s,r);else if(u=Ob(e),typeof u=="function")for(e=u.call(e),u=0;!(i=e.next()).done;)i=i.value,s=l+Xh(i,u++),a+=ls(i,t,n,s,r);else if(s==="object"){if(typeof e.then=="function")return ls(Pb(e),t,n,i,r);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Kl(e,t,n){if(e==null)return e;var i=[],r=0;return ls(e,i,"","",function(s){return t.call(n,s,r++)}),i}function xb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var by=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function kb(){}J.Children={map:Kl,forEach:function(e,t,n){Kl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Kl(e,function(){t++}),t},toArray:function(e){return Kl(e,function(t){return t})||[]},only:function(e){if(!Sm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=aa;J.Fragment=Sb;J.Profiler=Rb;J.PureComponent=Em;J.StrictMode=wb;J.Suspense=Db;J.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Rt;J.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Rt.H.useMemoCache(e)}};J.cache=function(e){return function(){return e.apply(null,arguments)}};J.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=BE({},e.props),r=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(r=""+t.key),t)!qE.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}return Am(e.type,r,void 0,void 0,s,i)};J.createContext=function(e){return e={$$typeof:Ib,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:bb,_context:e},e};J.createElement=function(e,t,n){var i,r={},s=null;if(t!=null)for(i in t.key!==void 0&&(s=""+t.key),t)qE.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=t[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return Am(e,s,void 0,void 0,null,r)};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Cb,render:e}};J.isValidElement=Sm;J.lazy=function(e){return{$$typeof:UE,_payload:{_status:-1,_result:e},_init:xb}};J.memo=function(e,t){return{$$typeof:Nb,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=Rt.T,n={};Rt.T=n;try{var i=e(),r=Rt.S;r!==null&&r(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(kb,by)}catch(s){by(s)}finally{Rt.T=t}};J.unstable_useCacheRefresh=function(){return Rt.H.useCacheRefresh()};J.use=function(e){return Rt.H.use(e)};J.useActionState=function(e,t,n){return Rt.H.useActionState(e,t,n)};J.useCallback=function(e,t){return Rt.H.useCallback(e,t)};J.useContext=function(e){return Rt.H.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e,t){return Rt.H.useDeferredValue(e,t)};J.useEffect=function(e,t,n){var i=Rt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)};J.useId=function(){return Rt.H.useId()};J.useImperativeHandle=function(e,t,n){return Rt.H.useImperativeHandle(e,t,n)};J.useInsertionEffect=function(e,t){return Rt.H.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return Rt.H.useLayoutEffect(e,t)};J.useMemo=function(e,t){return Rt.H.useMemo(e,t)};J.useOptimistic=function(e,t){return Rt.H.useOptimistic(e,t)};J.useReducer=function(e,t,n){return Rt.H.useReducer(e,t,n)};J.useRef=function(e){return Rt.H.useRef(e)};J.useState=function(e){return Rt.H.useState(e)};J.useSyncExternalStore=function(e,t,n){return Rt.H.useSyncExternalStore(e,t,n)};J.useTransition=function(){return Rt.H.useTransition()};J.version="19.1.0";kE.exports=J;var P=kE.exports;const Ub=VE(P);var HE={exports:{}},Lc={},FE={exports:{}},GE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,Z){var X=H.length;H.push(Z);t:for(;0<X;){var Et=X-1>>>1,Ut=H[Et];if(0<r(Ut,Z))H[Et]=Z,H[X]=Ut,X=Et;else break t}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var Z=H[0],X=H.pop();if(X!==Z){H[0]=X;t:for(var Et=0,Ut=H.length,es=Ut>>>1;Et<es;){var Oe=2*(Et+1)-1,jt=H[Oe],Un=Oe+1,mn=H[Un];if(0>r(jt,X))Un<Ut&&0>r(mn,jt)?(H[Et]=mn,H[Un]=X,Et=Un):(H[Et]=jt,H[Oe]=X,Et=Oe);else if(Un<Ut&&0>r(mn,X))H[Et]=mn,H[Un]=X,Et=Un;else break t}}return Z}function r(H,Z){var X=H.sortIndex-Z.sortIndex;return X!==0?X:H.id-Z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],c=[],f=1,p=null,m=3,y=!1,b=!1,C=!1,N=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function D(H){for(var Z=n(c);Z!==null;){if(Z.callback===null)i(c);else if(Z.startTime<=H)i(c),Z.sortIndex=Z.expirationTime,t(u,Z);else break;Z=n(c)}}function L(H){if(C=!1,D(H),!b)if(n(u)!==null)b=!0,j||(j=!0,O());else{var Z=n(c);Z!==null&&kn(L,Z.startTime-H)}}var j=!1,A=-1,v=5,T=-1;function w(){return N?!0:!(e.unstable_now()-T<v)}function I(){if(N=!1,j){var H=e.unstable_now();T=H;var Z=!0;try{t:{b=!1,C&&(C=!1,_(A),A=-1),y=!0;var X=m;try{e:{for(D(H),p=n(u);p!==null&&!(p.expirationTime>H&&w());){var Et=p.callback;if(typeof Et=="function"){p.callback=null,m=p.priorityLevel;var Ut=Et(p.expirationTime<=H);if(H=e.unstable_now(),typeof Ut=="function"){p.callback=Ut,D(H),Z=!0;break e}p===n(u)&&i(u),D(H)}else i(u);p=n(u)}if(p!==null)Z=!0;else{var es=n(c);es!==null&&kn(L,es.startTime-H),Z=!1}}break t}finally{p=null,m=X,y=!1}Z=void 0}}finally{Z?O():j=!1}}}var O;if(typeof S=="function")O=function(){S(I)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,rn=R.port2;R.port1.onmessage=I,O=function(){rn.postMessage(null)}}else O=function(){E(I,0)};function kn(H,Z){A=E(function(){H(e.unstable_now())},Z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_next=function(H){switch(m){case 1:case 2:case 3:var Z=3;break;default:Z=m}var X=m;m=Z;try{return H()}finally{m=X}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(H,Z){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=m;m=H;try{return Z()}finally{m=X}},e.unstable_scheduleCallback=function(H,Z,X){var Et=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?Et+X:Et):X=Et,H){case 1:var Ut=-1;break;case 2:Ut=250;break;case 5:Ut=1073741823;break;case 4:Ut=1e4;break;default:Ut=5e3}return Ut=X+Ut,H={id:f++,callback:Z,priorityLevel:H,startTime:X,expirationTime:Ut,sortIndex:-1},X>Et?(H.sortIndex=X,t(c,H),n(u)===null&&H===n(c)&&(C?(_(A),A=-1):C=!0,kn(L,X-Et))):(H.sortIndex=Ut,t(u,H),b||y||(b=!0,j||(j=!0,O()))),H},e.unstable_shouldYield=w,e.unstable_wrapCallback=function(H){var Z=m;return function(){var X=m;m=Z;try{return H.apply(this,arguments)}finally{m=X}}}})(GE);FE.exports=GE;var Lb=FE.exports,KE={exports:{}},Se={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb=P;function QE(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _i(){}var Ae={d:{f:_i,r:function(){throw Error(QE(522))},D:_i,C:_i,L:_i,m:_i,X:_i,S:_i,M:_i},p:0,findDOMNode:null},zb=Symbol.for("react.portal");function jb(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zb,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var eo=Bb.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Bc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Se.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ae;Se.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(QE(299));return jb(e,t,null,n)};Se.flushSync=function(e){var t=eo.T,n=Ae.p;try{if(eo.T=null,Ae.p=2,e)return e()}finally{eo.T=t,Ae.p=n,Ae.d.f()}};Se.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ae.d.C(e,t))};Se.prefetchDNS=function(e){typeof e=="string"&&Ae.d.D(e)};Se.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Bc(n,t.crossOrigin),r=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Ae.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):n==="script"&&Ae.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Se.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Bc(t.as,t.crossOrigin);Ae.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ae.d.M(e)};Se.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Bc(n,t.crossOrigin);Ae.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Se.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Bc(t.as,t.crossOrigin);Ae.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ae.d.m(e)};Se.requestFormReset=function(e){Ae.d.r(e)};Se.unstable_batchedUpdates=function(e,t){return e(t)};Se.useFormState=function(e,t,n){return eo.H.useFormState(e,t,n)};Se.useFormStatus=function(){return eo.H.useHostTransitionStatus()};Se.version="19.1.0";function YE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(YE)}catch(e){console.error(e)}}YE(),KE.exports=Se;var qb=KE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xt=Lb,$E=P,Hb=qb;function U(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function XE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function WE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iy(e){if($o(e)!==e)throw Error(U(188))}function Fb(e){var t=e.alternate;if(!t){if(t=$o(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Iy(r),e;if(s===i)return Iy(r),t;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function ZE(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=ZE(e),t!==null)return t;e=e.sibling}return null}var St=Object.assign,Gb=Symbol.for("react.element"),Ql=Symbol.for("react.transitional.element"),Ga=Symbol.for("react.portal"),gs=Symbol.for("react.fragment"),JE=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),Kb=Symbol.for("react.provider"),tT=Symbol.for("react.consumer"),Gn=Symbol.for("react.context"),wm=Symbol.for("react.forward_ref"),$f=Symbol.for("react.suspense"),Xf=Symbol.for("react.suspense_list"),Rm=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),Wf=Symbol.for("react.activity"),Qb=Symbol.for("react.memo_cache_sentinel"),Cy=Symbol.iterator;function xa(e){return e===null||typeof e!="object"?null:(e=Cy&&e[Cy]||e["@@iterator"],typeof e=="function"?e:null)}var Yb=Symbol.for("react.client.reference");function Zf(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Yb?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gs:return"Fragment";case Yf:return"Profiler";case JE:return"StrictMode";case $f:return"Suspense";case Xf:return"SuspenseList";case Wf:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ga:return"Portal";case Gn:return(e.displayName||"Context")+".Provider";case tT:return(e._context.displayName||"Context")+".Consumer";case wm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Rm:return t=e.displayName||null,t!==null?t:Zf(e.type)||"Memo";case Ai:t=e._payload,e=e._init;try{return Zf(e(t))}catch{}}return null}var Ka=Array.isArray,Y=$E.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct=Hb.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,br={pending:!1,data:null,method:null,action:null},Jf=[],ys=-1;function Mn(e){return{current:e}}function ee(e){0>ys||(e.current=Jf[ys],Jf[ys]=null,ys--)}function bt(e,t){ys++,Jf[ys]=e.current,e.current=t}var En=Mn(null),wo=Mn(null),Li=Mn(null),ju=Mn(null);function qu(e,t){switch(bt(Li,t),bt(wo,e),bt(En,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?V_(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=V_(t),e=yA(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(En),bt(En,e)}function qs(){ee(En),ee(wo),ee(Li)}function td(e){e.memoizedState!==null&&bt(ju,e);var t=En.current,n=yA(t,e.type);t!==n&&(bt(wo,e),bt(En,n))}function Hu(e){wo.current===e&&(ee(En),ee(wo)),ju.current===e&&(ee(ju),Po._currentValue=br)}var ed=Object.prototype.hasOwnProperty,bm=Xt.unstable_scheduleCallback,Wh=Xt.unstable_cancelCallback,$b=Xt.unstable_shouldYield,Xb=Xt.unstable_requestPaint,Tn=Xt.unstable_now,Wb=Xt.unstable_getCurrentPriorityLevel,eT=Xt.unstable_ImmediatePriority,nT=Xt.unstable_UserBlockingPriority,Fu=Xt.unstable_NormalPriority,Zb=Xt.unstable_LowPriority,iT=Xt.unstable_IdlePriority,Jb=Xt.log,t1=Xt.unstable_setDisableYieldValue,Xo=null,ze=null;function Vi(e){if(typeof Jb=="function"&&t1(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Xo,e)}catch{}}var je=Math.clz32?Math.clz32:i1,e1=Math.log,n1=Math.LN2;function i1(e){return e>>>=0,e===0?32:31-(e1(e)/n1|0)|0}var Yl=256,$l=4194304;function Tr(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function zc(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~s,i!==0?r=Tr(i):(a&=l,a!==0?r=Tr(a):n||(n=l&~e,n!==0&&(r=Tr(n))))):(l=i&~s,l!==0?r=Tr(l):a!==0?r=Tr(a):n||(n=i&~e,n!==0&&(r=Tr(n)))),r===0?0:t!==0&&t!==r&&!(t&s)&&(s=r&-r,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:r}function Wo(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function r1(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rT(){var e=Yl;return Yl<<=1,!(Yl&4194048)&&(Yl=256),e}function sT(){var e=$l;return $l<<=1,!($l&62914560)&&($l=4194304),e}function Zh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Zo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function s1(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var f=31-je(n),p=1<<f;l[f]=0,u[f]=-1;var m=c[f];if(m!==null)for(c[f]=null,f=0;f<m.length;f++){var y=m[f];y!==null&&(y.lane&=-536870913)}n&=~p}i!==0&&aT(e,i,0),s!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function aT(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-je(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&4194090}function oT(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-je(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Im(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Cm(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function lT(){var e=ct.p;return e!==0?e:(e=window.event,e===void 0?32:IA(e.type))}function a1(e,t){var n=ct.p;try{return ct.p=e,t()}finally{ct.p=n}}var lr=Math.random().toString(36).slice(2),pe="__reactFiber$"+lr,De="__reactProps$"+lr,oa="__reactContainer$"+lr,nd="__reactEvents$"+lr,o1="__reactListeners$"+lr,l1="__reactHandles$"+lr,Dy="__reactResources$"+lr,Jo="__reactMarker$"+lr;function Dm(e){delete e[pe],delete e[De],delete e[nd],delete e[o1],delete e[l1]}function _s(e){var t=e[pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oa]||n[pe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=k_(e);e!==null;){if(n=e[pe])return n;e=k_(e)}return t}e=n,n=e.parentNode}return null}function la(e){if(e=e[pe]||e[oa]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Qa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(U(33))}function Ds(e){var t=e[Dy];return t||(t=e[Dy]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Jt(e){e[Jo]=!0}var uT=new Set,cT={};function Kr(e,t){Hs(e,t),Hs(e+"Capture",t)}function Hs(e,t){for(cT[e]=t,e=0;e<t.length;e++)uT.add(t[e])}var u1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ny={},Oy={};function c1(e){return ed.call(Oy,e)?!0:ed.call(Ny,e)?!1:u1.test(e)?Oy[e]=!0:(Ny[e]=!0,!1)}function gu(e,t,n){if(c1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Xl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function zn(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}var Jh,My;function us(e){if(Jh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Jh=t&&t[1]||"",My=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jh+e+My}var tf=!1;function ef(e,t){if(!e||tf)return"";tf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(y){var m=y}Reflect.construct(e,[],p)}else{try{p.call()}catch(y){m=y}e.call(p.prototype)}}else{try{throw Error()}catch(y){m=y}(p=e())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(y){if(y&&m&&typeof y.stack=="string")return[y.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],l=s[1];if(a&&l){var u=a.split(`
`),c=l.split(`
`);for(r=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===u.length||r===c.length)for(i=u.length-1,r=c.length-1;1<=i&&0<=r&&u[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(u[i]!==c[r]){if(i!==1||r!==1)do if(i--,r--,0>r||u[i]!==c[r]){var f=`
`+u[i].replace(" at new "," at ");return e.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",e.displayName)),f}while(1<=i&&0<=r);break}}}finally{tf=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?us(n):""}function h1(e){switch(e.tag){case 26:case 27:case 5:return us(e.type);case 16:return us("Lazy");case 13:return us("Suspense");case 19:return us("SuspenseList");case 0:case 15:return ef(e.type,!1);case 11:return ef(e.type.render,!1);case 1:return ef(e.type,!0);case 31:return us("Activity");default:return""}}function Vy(e){try{var t="";do t+=h1(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hT(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f1(e){var t=hT(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gu(e){e._valueTracker||(e._valueTracker=f1(e))}function fT(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=hT(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Ku(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var d1=/[\n"\\]/g;function Xe(e){return e.replace(d1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function id(e,t,n,i,r,s,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Qe(t)):e.value!==""+Qe(t)&&(e.value=""+Qe(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?rd(e,a,Qe(t)):n!=null?rd(e,a,Qe(n)):i!=null&&e.removeAttribute("value"),r==null&&s!=null&&(e.defaultChecked=!!s),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Qe(l):e.removeAttribute("name")}function dT(e,t,n,i,r,s,a,l){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+Qe(n):"",t=t!=null?""+Qe(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function rd(e,t,n){t==="number"&&Ku(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ns(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Qe(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function mT(e,t,n){if(t!=null&&(t=""+Qe(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Qe(n):""}function pT(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(U(92));if(Ka(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=Qe(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i)}function Fs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var m1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Py(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||m1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function gT(e,t,n){if(t!=null&&typeof t!="object")throw Error(U(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&Py(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&Py(e,s,t[s])}function Nm(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),g1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yu(e){return g1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var sd=null;function Om(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vs=null,Os=null;function xy(e){var t=la(e);if(t&&(e=t.stateNode)){var n=e[De]||null;t:switch(e=t.stateNode,t.type){case"input":if(id(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Xe(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[De]||null;if(!r)throw Error(U(90));id(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&fT(i)}break t;case"textarea":mT(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Ns(e,!!n.multiple,t,!1)}}}var nf=!1;function yT(e,t,n){if(nf)return e(t,n);nf=!0;try{var i=e(t);return i}finally{if(nf=!1,(vs!==null||Os!==null)&&(Xc(),vs&&(t=vs,e=Os,Os=vs=null,xy(t),e)))for(t=0;t<e.length;t++)xy(e[t])}}function Ro(e,t){var n=e.stateNode;if(n===null)return null;var i=n[De]||null;if(i===null)return null;n=i[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ad=!1;if(ni)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){ad=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{ad=!1}var Pi=null,Mm=null,_u=null;function _T(){if(_u)return _u;var e,t=Mm,n=t.length,i,r="value"in Pi?Pi.value:Pi.textContent,s=r.length;for(e=0;e<n&&t[e]===r[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===r[s-i];i++);return _u=r.slice(e,1<i?1-i:void 0)}function vu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wl(){return!0}function ky(){return!1}function Ne(e){function t(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wl:ky,this.isPropagationStopped=ky,this}return St(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wl)},persist:function(){},isPersistent:Wl}),t}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=Ne(Qr),tl=St({},Qr,{view:0,detail:0}),y1=Ne(tl),rf,sf,Ua,qc=St({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ua&&(Ua&&e.type==="mousemove"?(rf=e.screenX-Ua.screenX,sf=e.screenY-Ua.screenY):sf=rf=0,Ua=e),rf)},movementY:function(e){return"movementY"in e?e.movementY:sf}}),Uy=Ne(qc),_1=St({},qc,{dataTransfer:0}),v1=Ne(_1),E1=St({},tl,{relatedTarget:0}),af=Ne(E1),T1=St({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),A1=Ne(T1),S1=St({},Qr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),w1=Ne(S1),R1=St({},Qr,{data:0}),Ly=Ne(R1),b1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=C1[e])?!!t[e]:!1}function Vm(){return D1}var N1=St({},tl,{key:function(e){if(e.key){var t=b1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?I1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vm,charCode:function(e){return e.type==="keypress"?vu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O1=Ne(N1),M1=St({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),By=Ne(M1),V1=St({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vm}),P1=Ne(V1),x1=St({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),k1=Ne(x1),U1=St({},qc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L1=Ne(U1),B1=St({},Qr,{newState:0,oldState:0}),z1=Ne(B1),j1=[9,13,27,32],Pm=ni&&"CompositionEvent"in window,no=null;ni&&"documentMode"in document&&(no=document.documentMode);var q1=ni&&"TextEvent"in window&&!no,vT=ni&&(!Pm||no&&8<no&&11>=no),zy=" ",jy=!1;function ET(e,t){switch(e){case"keyup":return j1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Es=!1;function H1(e,t){switch(e){case"compositionend":return TT(t);case"keypress":return t.which!==32?null:(jy=!0,zy);case"textInput":return e=t.data,e===zy&&jy?null:e;default:return null}}function F1(e,t){if(Es)return e==="compositionend"||!Pm&&ET(e,t)?(e=_T(),_u=Mm=Pi=null,Es=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vT&&t.locale!=="ko"?null:t.data;default:return null}}var G1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G1[e.type]:t==="textarea"}function AT(e,t,n,i){vs?Os?Os.push(i):Os=[i]:vs=i,t=cc(t,"onChange"),0<t.length&&(n=new jc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var io=null,bo=null;function K1(e){mA(e,0)}function Hc(e){var t=Qa(e);if(fT(t))return e}function Hy(e,t){if(e==="change")return t}var ST=!1;if(ni){var of;if(ni){var lf="oninput"in document;if(!lf){var Fy=document.createElement("div");Fy.setAttribute("oninput","return;"),lf=typeof Fy.oninput=="function"}of=lf}else of=!1;ST=of&&(!document.documentMode||9<document.documentMode)}function Gy(){io&&(io.detachEvent("onpropertychange",wT),bo=io=null)}function wT(e){if(e.propertyName==="value"&&Hc(bo)){var t=[];AT(t,bo,e,Om(e)),yT(K1,t)}}function Q1(e,t,n){e==="focusin"?(Gy(),io=t,bo=n,io.attachEvent("onpropertychange",wT)):e==="focusout"&&Gy()}function Y1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hc(bo)}function $1(e,t){if(e==="click")return Hc(t)}function X1(e,t){if(e==="input"||e==="change")return Hc(t)}function W1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fe=typeof Object.is=="function"?Object.is:W1;function Io(e,t){if(Fe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ed.call(t,r)||!Fe(e[r],t[r]))return!1}return!0}function Ky(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qy(e,t){var n=Ky(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Ky(n)}}function RT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?RT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function bT(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ku(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ku(e.document)}return t}function xm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Z1=ni&&"documentMode"in document&&11>=document.documentMode,Ts=null,od=null,ro=null,ld=!1;function Yy(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ld||Ts==null||Ts!==Ku(i)||(i=Ts,"selectionStart"in i&&xm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ro&&Io(ro,i)||(ro=i,i=cc(od,"onSelect"),0<i.length&&(t=new jc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ts)))}function vr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var As={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionrun:vr("Transition","TransitionRun"),transitionstart:vr("Transition","TransitionStart"),transitioncancel:vr("Transition","TransitionCancel"),transitionend:vr("Transition","TransitionEnd")},uf={},IT={};ni&&(IT=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Yr(e){if(uf[e])return uf[e];if(!As[e])return e;var t=As[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in IT)return uf[e]=t[n];return e}var CT=Yr("animationend"),DT=Yr("animationiteration"),NT=Yr("animationstart"),J1=Yr("transitionrun"),tI=Yr("transitionstart"),eI=Yr("transitioncancel"),OT=Yr("transitionend"),MT=new Map,ud="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ud.push("scrollEnd");function dn(e,t){MT.set(e,t),Kr(t,[e])}var $y=new WeakMap;function We(e,t){if(typeof e=="object"&&e!==null){var n=$y.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Vy(t)},$y.set(e,t),t)}return{value:e,source:t,stack:Vy(t)}}var Ke=[],Ss=0,km=0;function Fc(){for(var e=Ss,t=km=Ss=0;t<e;){var n=Ke[t];Ke[t++]=null;var i=Ke[t];Ke[t++]=null;var r=Ke[t];Ke[t++]=null;var s=Ke[t];if(Ke[t++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&VT(n,r,s)}}function Gc(e,t,n,i){Ke[Ss++]=e,Ke[Ss++]=t,Ke[Ss++]=n,Ke[Ss++]=i,km|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Um(e,t,n,i){return Gc(e,t,n,i),Qu(e)}function ua(e,t){return Gc(e,null,null,t),Qu(e)}function VT(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var r=!1,s=e.return;s!==null;)s.childLanes|=n,i=s.alternate,i!==null&&(i.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(r=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,r&&t!==null&&(r=31-je(n),e=s.hiddenUpdates,i=e[r],i===null?e[r]=[t]:i.push(t),t.lane=n|536870912),s):null}function Qu(e){if(50<po)throw po=0,Nd=null,Error(U(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ws={};function nI(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ke(e,t,n,i){return new nI(e,t,n,i)}function Lm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zn(e,t){var n=e.alternate;return n===null?(n=ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function PT(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Eu(e,t,n,i,r,s){var a=0;if(i=e,typeof e=="function")Lm(e)&&(a=1);else if(typeof e=="string")a=rC(e,n,En.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Wf:return e=ke(31,n,t,r),e.elementType=Wf,e.lanes=s,e;case gs:return Ir(n.children,r,s,t);case JE:a=8,r|=24;break;case Yf:return e=ke(12,n,t,r|2),e.elementType=Yf,e.lanes=s,e;case $f:return e=ke(13,n,t,r),e.elementType=$f,e.lanes=s,e;case Xf:return e=ke(19,n,t,r),e.elementType=Xf,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Kb:case Gn:a=10;break t;case tT:a=9;break t;case wm:a=11;break t;case Rm:a=14;break t;case Ai:a=16,i=null;break t}a=29,n=Error(U(130,e===null?"null":typeof e,"")),i=null}return t=ke(a,n,t,r),t.elementType=e,t.type=i,t.lanes=s,t}function Ir(e,t,n,i){return e=ke(7,e,i,t),e.lanes=n,e}function cf(e,t,n){return e=ke(6,e,null,t),e.lanes=n,e}function hf(e,t,n){return t=ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Rs=[],bs=0,Yu=null,$u=0,Ye=[],$e=0,Cr=null,Kn=1,Qn="";function Ar(e,t){Rs[bs++]=$u,Rs[bs++]=Yu,Yu=e,$u=t}function xT(e,t,n){Ye[$e++]=Kn,Ye[$e++]=Qn,Ye[$e++]=Cr,Cr=e;var i=Kn;e=Qn;var r=32-je(i)-1;i&=~(1<<r),n+=1;var s=32-je(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Kn=1<<32-je(t)+r|n<<r|i,Qn=s+e}else Kn=1<<s|n<<r|i,Qn=e}function Bm(e){e.return!==null&&(Ar(e,1),xT(e,1,0))}function zm(e){for(;e===Yu;)Yu=Rs[--bs],Rs[bs]=null,$u=Rs[--bs],Rs[bs]=null;for(;e===Cr;)Cr=Ye[--$e],Ye[$e]=null,Qn=Ye[--$e],Ye[$e]=null,Kn=Ye[--$e],Ye[$e]=null}var Te=null,Ot=null,ut=!1,Dr=null,yn=!1,cd=Error(U(519));function xr(e){var t=Error(U(418,""));throw Co(We(t,e)),cd}function Xy(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[pe]=e,t[De]=i,n){case"dialog":et("cancel",t),et("close",t);break;case"iframe":case"object":case"embed":et("load",t);break;case"video":case"audio":for(n=0;n<Oo.length;n++)et(Oo[n],t);break;case"source":et("error",t);break;case"img":case"image":case"link":et("error",t),et("load",t);break;case"details":et("toggle",t);break;case"input":et("invalid",t),dT(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Gu(t);break;case"select":et("invalid",t);break;case"textarea":et("invalid",t),pT(t,i.value,i.defaultValue,i.children),Gu(t)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||gA(t.textContent,n)?(i.popover!=null&&(et("beforetoggle",t),et("toggle",t)),i.onScroll!=null&&et("scroll",t),i.onScrollEnd!=null&&et("scrollend",t),i.onClick!=null&&(t.onclick=Jc),t=!0):t=!1,t||xr(e)}function Wy(e){for(Te=e.return;Te;)switch(Te.tag){case 5:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:Te=Te.return}}function La(e){if(e!==Te)return!1;if(!ut)return Wy(e),ut=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||kd(e.type,e.memoizedProps)),n=!n),n&&Ot&&xr(e),Wy(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Ot=ln(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Ot=null}}else t===27?(t=Ot,ur(e.type)?(e=Bd,Bd=null,Ot=e):Ot=t):Ot=Te?ln(e.stateNode.nextSibling):null;return!0}function el(){Ot=Te=null,ut=!1}function Zy(){var e=Dr;return e!==null&&(be===null?be=e:be.push.apply(be,e),Dr=null),e}function Co(e){Dr===null?Dr=[e]:Dr.push(e)}var hd=Mn(null),$r=null,Yn=null;function wi(e,t,n){bt(hd,t._currentValue),t._currentValue=n}function Jn(e){e._currentValue=hd.current,ee(hd)}function fd(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function dd(e,t,n,i){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;t:for(;s!==null;){var l=s;s=r;for(var u=0;u<t.length;u++)if(l.context===t[u]){s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),fd(s.return,n,e),i||(a=null);break t}s=l.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(U(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),fd(a,n,e),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function nl(e,t,n,i){e=null;for(var r=t,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var l=r.type;Fe(r.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(r===ju.current){if(a=r.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Po):e=[Po])}r=r.return}e!==null&&dd(t,e,n,i),t.flags|=262144}function Xu(e){for(e=e.firstContext;e!==null;){if(!Fe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){$r=e,Yn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ge(e){return kT($r,e)}function Zl(e,t){return $r===null&&kr(e),kT(e,t)}function kT(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Yn===null){if(e===null)throw Error(U(308));Yn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Yn=Yn.next=t;return n}var iI=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},rI=Xt.unstable_scheduleCallback,sI=Xt.unstable_NormalPriority,Qt={$$typeof:Gn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new iI,data:new Map,refCount:0}}function il(e){e.refCount--,e.refCount===0&&rI(sI,function(){e.controller.abort()})}var so=null,md=0,Gs=0,Ms=null;function aI(e,t){if(so===null){var n=so=[];md=0,Gs=cp(),Ms={status:"pending",value:void 0,then:function(i){n.push(i)}}}return md++,t.then(Jy,Jy),t}function Jy(){if(--md===0&&so!==null){Ms!==null&&(Ms.status="fulfilled");var e=so;so=null,Gs=0,Ms=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function oI(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(i.status="rejected",i.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),i}var t_=Y.S;Y.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&aI(e,t),t_!==null&&t_(e,t)};var Nr=Mn(null);function qm(){var e=Nr.current;return e!==null?e:vt.pooledCache}function Tu(e,t){t===null?bt(Nr,Nr.current):bt(Nr,t.pool)}function UT(){var e=qm();return e===null?null:{parent:Qt._currentValue,pool:e}}var rl=Error(U(460)),LT=Error(U(474)),Kc=Error(U(542)),pd={then:function(){}};function e_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jl(){}function BT(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Jl,Jl),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,i_(e),e;default:if(typeof t.status=="string")t.then(Jl,Jl);else{if(e=vt,e!==null&&100<e.shellSuspendCounter)throw Error(U(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=i}},function(i){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,i_(e),e}throw ao=t,rl}}var ao=null;function n_(){if(ao===null)throw Error(U(459));var e=ao;return ao=null,e}function i_(e){if(e===rl||e===Kc)throw Error(U(483))}var Si=!1;function Hm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zi(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,dt&2){var r=i.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Qu(e),VT(e,null,n),t}return Gc(e,i,t,n),Qu(e)}function oo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,oT(e,n)}}function ff(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var yd=!1;function lo(){if(yd){var e=Ms;if(e!==null)throw e}}function uo(e,t,n,i){yd=!1;var r=e.updateQueue;Si=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(l!==null){r.shared.pending=null;var u=l,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(s!==null){var p=r.baseState;a=0,f=c=u=null,l=s;do{var m=l.lane&-536870913,y=m!==l.lane;if(y?(ot&m)===m:(i&m)===m){m!==0&&m===Gs&&(yd=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});t:{var b=e,C=l;m=t;var N=n;switch(C.tag){case 1:if(b=C.payload,typeof b=="function"){p=b.call(N,p,m);break t}p=b;break t;case 3:b.flags=b.flags&-65537|128;case 0:if(b=C.payload,m=typeof b=="function"?b.call(N,p,m):b,m==null)break t;p=St({},p,m);break t;case 2:Si=!0}}m=l.callback,m!==null&&(e.flags|=64,y&&(e.flags|=8192),y=r.callbacks,y===null?r.callbacks=[m]:y.push(m))}else y={lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=y,u=p):f=f.next=y,a|=m;if(l=l.next,l===null){if(l=r.shared.pending,l===null)break;y=l,l=y.next,y.next=null,r.lastBaseUpdate=y,r.shared.pending=null}}while(!0);f===null&&(u=p),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=f,s===null&&(r.shared.lanes=0),Ji|=a,e.lanes=a,e.memoizedState=p}}function zT(e,t){if(typeof e!="function")throw Error(U(191,e));e.call(t)}function jT(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)zT(n[e],t)}var Ks=Mn(null),Wu=Mn(0);function r_(e,t){e=si,bt(Wu,e),bt(Ks,t),si=e|t.baseLanes}function _d(){bt(Wu,si),bt(Ks,Ks.current)}function Fm(){si=Wu.current,ee(Ks),ee(Wu)}var Wi=0,tt=null,pt=null,Ht=null,Zu=!1,Vs=!1,Ur=!1,Ju=0,Do=0,Ps=null,lI=0;function Lt(){throw Error(U(321))}function Gm(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Fe(e[n],t[n]))return!1;return!0}function Km(e,t,n,i,r,s){return Wi=s,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Y.H=e===null||e.memoizedState===null?_0:v0,Ur=!1,s=n(i,r),Ur=!1,Vs&&(s=HT(t,n,i,r)),qT(e),s}function qT(e){Y.H=tc;var t=pt!==null&&pt.next!==null;if(Wi=0,Ht=pt=tt=null,Zu=!1,Do=0,Ps=null,t)throw Error(U(300));e===null||te||(e=e.dependencies,e!==null&&Xu(e)&&(te=!0))}function HT(e,t,n,i){tt=e;var r=0;do{if(Vs&&(Ps=null),Do=0,Vs=!1,25<=r)throw Error(U(301));if(r+=1,Ht=pt=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Y.H=pI,s=t(n,i)}while(Vs);return s}function uI(){var e=Y.H,t=e.useState()[0];return t=typeof t.then=="function"?sl(t):t,e=e.useState()[0],(pt!==null?pt.memoizedState:null)!==e&&(tt.flags|=1024),t}function Qm(){var e=Ju!==0;return Ju=0,e}function Ym(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function $m(e){if(Zu){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Zu=!1}Wi=0,Ht=pt=tt=null,Vs=!1,Do=Ju=0,Ps=null}function we(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?tt.memoizedState=Ht=e:Ht=Ht.next=e,Ht}function Kt(){if(pt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=pt.next;var t=Ht===null?tt.memoizedState:Ht.next;if(t!==null)Ht=t,pt=e;else{if(e===null)throw tt.alternate===null?Error(U(467)):Error(U(310));pt=e,e={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Ht===null?tt.memoizedState=Ht=e:Ht=Ht.next=e}return Ht}function Xm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(e){var t=Do;return Do+=1,Ps===null&&(Ps=[]),e=BT(Ps,e,t),t=tt,(Ht===null?t.memoizedState:Ht.next)===null&&(t=t.alternate,Y.H=t===null||t.memoizedState===null?_0:v0),e}function Qc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sl(e);if(e.$$typeof===Gn)return ge(e)}throw Error(U(438,String(e)))}function Wm(e){var t=null,n=tt.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=tt.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Xm(),tt.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Qb;return t.index++,n}function ii(e,t){return typeof t=="function"?t(e):t}function Au(e){var t=Kt();return Zm(t,pt,e)}function Zm(e,t,n){var i=e.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,r===null)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,c=t,f=!1;do{var p=c.lane&-536870913;if(p!==c.lane?(ot&p)===p:(Wi&p)===p){var m=c.revertLane;if(m===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Gs&&(f=!0);else if((Wi&m)===m){c=c.next,m===Gs&&(f=!0);continue}else p={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=p,a=s):u=u.next=p,tt.lanes|=m,Ji|=m;p=c.action,Ur&&n(s,p),s=c.hasEagerState?c.eagerState:n(s,p)}else m={lane:p,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=m,a=s):u=u.next=m,tt.lanes|=p,Ji|=p;c=c.next}while(c!==null&&c!==t);if(u===null?a=s:u.next=l,!Fe(s,e.memoizedState)&&(te=!0,f&&(n=Ms,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return r===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function df(e){var t=Kt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);Fe(s,t.memoizedState)||(te=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function FT(e,t,n){var i=tt,r=Kt(),s=ut;if(s){if(n===void 0)throw Error(U(407));n=n()}else n=t();var a=!Fe((pt||r).memoizedState,n);a&&(r.memoizedState=n,te=!0),r=r.queue;var l=QT.bind(null,i,r,e);if(al(2048,8,l,[e]),r.getSnapshot!==t||a||Ht!==null&&Ht.memoizedState.tag&1){if(i.flags|=2048,Qs(9,Yc(),KT.bind(null,i,r,n,t),null),vt===null)throw Error(U(349));s||Wi&124||GT(i,t,n)}return n}function GT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=tt.updateQueue,t===null?(t=Xm(),tt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function KT(e,t,n,i){t.value=n,t.getSnapshot=i,YT(t)&&$T(e)}function QT(e,t,n){return n(function(){YT(t)&&$T(e)})}function YT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fe(e,n)}catch{return!0}}function $T(e){var t=ua(e,2);t!==null&&He(t,e,2)}function vd(e){var t=we();if(typeof e=="function"){var n=e;if(e=n(),Ur){Vi(!0);try{n()}finally{Vi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:e},t}function XT(e,t,n,i){return e.baseState=n,Zm(e,pt,typeof i=="function"?i:ii)}function cI(e,t,n,i,r){if($c(e))throw Error(U(485));if(e=t.action,e!==null){var s={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Y.T!==null?n(!0):s.isTransition=!1,i(s),n=t.pending,n===null?(s.next=t.pending=s,WT(t,s)):(s.next=n.next,t.pending=n.next=s)}}function WT(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=Y.T,a={};Y.T=a;try{var l=n(r,i),u=Y.S;u!==null&&u(a,l),s_(e,t,l)}catch(c){Ed(e,t,c)}finally{Y.T=s}}else try{s=n(r,i),s_(e,t,s)}catch(c){Ed(e,t,c)}}function s_(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){a_(e,t,i)},function(i){return Ed(e,t,i)}):a_(e,t,n)}function a_(e,t,n){t.status="fulfilled",t.value=n,ZT(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,WT(e,n)))}function Ed(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,ZT(t),t=t.next;while(t!==i)}e.action=null}function ZT(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function JT(e,t){return t}function o_(e,t){if(ut){var n=vt.formState;if(n!==null){t:{var i=tt;if(ut){if(Ot){e:{for(var r=Ot,s=yn;r.nodeType!==8;){if(!s){r=null;break e}if(r=ln(r.nextSibling),r===null){r=null;break e}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){Ot=ln(r.nextSibling),i=r.data==="F!";break t}}xr(i)}i=!1}i&&(t=n[0])}}return n=we(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JT,lastRenderedState:t},n.queue=i,n=p0.bind(null,tt,i),i.dispatch=n,i=vd(!1),s=np.bind(null,tt,!1,i.queue),i=we(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=cI.bind(null,tt,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function l_(e){var t=Kt();return t0(t,pt,e)}function t0(e,t,n){if(t=Zm(e,t,JT)[0],e=Au(ii)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=sl(t)}catch(a){throw a===rl?Kc:a}else i=t;t=Kt();var r=t.queue,s=r.dispatch;return n!==t.memoizedState&&(tt.flags|=2048,Qs(9,Yc(),hI.bind(null,r,n),null)),[i,s,e]}function hI(e,t){e.action=t}function u_(e){var t=Kt(),n=pt;if(n!==null)return t0(t,n,e);Kt(),t=t.memoizedState,n=Kt();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Qs(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=tt.updateQueue,t===null&&(t=Xm(),tt.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Yc(){return{destroy:void 0,resource:void 0}}function e0(){return Kt().memoizedState}function Su(e,t,n,i){var r=we();i=i===void 0?null:i,tt.flags|=e,r.memoizedState=Qs(1|t,Yc(),n,i)}function al(e,t,n,i){var r=Kt();i=i===void 0?null:i;var s=r.memoizedState.inst;pt!==null&&i!==null&&Gm(i,pt.memoizedState.deps)?r.memoizedState=Qs(t,s,n,i):(tt.flags|=e,r.memoizedState=Qs(1|t,s,n,i))}function c_(e,t){Su(8390656,8,e,t)}function n0(e,t){al(2048,8,e,t)}function i0(e,t){return al(4,2,e,t)}function r0(e,t){return al(4,4,e,t)}function s0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function a0(e,t,n){n=n!=null?n.concat([e]):null,al(4,4,s0.bind(null,t,e),n)}function Jm(){}function o0(e,t){var n=Kt();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Gm(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function l0(e,t){var n=Kt();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Gm(t,i[1]))return i[0];if(i=e(),Ur){Vi(!0);try{e()}finally{Vi(!1)}}return n.memoizedState=[i,t],i}function tp(e,t,n){return n===void 0||Wi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Z0(),tt.lanes|=e,Ji|=e,n)}function u0(e,t,n,i){return Fe(n,t)?n:Ks.current!==null?(e=tp(e,n,i),Fe(e,t)||(te=!0),e):Wi&42?(e=Z0(),tt.lanes|=e,Ji|=e,t):(te=!0,e.memoizedState=n)}function c0(e,t,n,i,r){var s=ct.p;ct.p=s!==0&&8>s?s:8;var a=Y.T,l={};Y.T=l,np(e,!1,t,n);try{var u=r(),c=Y.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=oI(u,i);co(e,t,f,qe(e))}else co(e,t,i,qe(e))}catch(p){co(e,t,{then:function(){},status:"rejected",reason:p},qe())}finally{ct.p=s,Y.T=a}}function fI(){}function Td(e,t,n,i){if(e.tag!==5)throw Error(U(476));var r=h0(e).queue;c0(e,r,t,br,n===null?fI:function(){return f0(e),n(i)})}function h0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:br,baseState:br,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:br},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function f0(e){var t=h0(e).next.queue;co(e,t,{},qe())}function ep(){return ge(Po)}function d0(){return Kt().memoizedState}function m0(){return Kt().memoizedState}function dI(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=qe();e=Bi(n);var i=zi(t,e,n);i!==null&&(He(i,t,n),oo(i,t,n)),t={cache:jm()},e.payload=t;return}t=t.return}}function mI(e,t,n){var i=qe();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},$c(e)?g0(t,n):(n=Um(e,t,n,i),n!==null&&(He(n,e,i),y0(n,t,i)))}function p0(e,t,n){var i=qe();co(e,t,n,i)}function co(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if($c(e))g0(t,r);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,n);if(r.hasEagerState=!0,r.eagerState=l,Fe(l,a))return Gc(e,t,r,0),vt===null&&Fc(),!1}catch{}finally{}if(n=Um(e,t,r,i),n!==null)return He(n,e,i),y0(n,t,i),!0}return!1}function np(e,t,n,i){if(i={lane:2,revertLane:cp(),action:i,hasEagerState:!1,eagerState:null,next:null},$c(e)){if(t)throw Error(U(479))}else t=Um(e,n,i,2),t!==null&&He(t,e,2)}function $c(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function g0(e,t){Vs=Zu=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function y0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,oT(e,n)}}var tc={readContext:ge,use:Qc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt},_0={readContext:ge,use:Qc,useCallback:function(e,t){return we().memoizedState=[e,t===void 0?null:t],e},useContext:ge,useEffect:c_,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Su(4194308,4,s0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Su(4194308,4,e,t)},useInsertionEffect:function(e,t){Su(4,2,e,t)},useMemo:function(e,t){var n=we();t=t===void 0?null:t;var i=e();if(Ur){Vi(!0);try{e()}finally{Vi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=we();if(n!==void 0){var r=n(t);if(Ur){Vi(!0);try{n(t)}finally{Vi(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=mI.bind(null,tt,e),[i.memoizedState,e]},useRef:function(e){var t=we();return e={current:e},t.memoizedState=e},useState:function(e){e=vd(e);var t=e.queue,n=p0.bind(null,tt,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Jm,useDeferredValue:function(e,t){var n=we();return tp(n,e,t)},useTransition:function(){var e=vd(!1);return e=c0.bind(null,tt,e.queue,!0,!1),we().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=tt,r=we();if(ut){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),vt===null)throw Error(U(349));ot&124||GT(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,c_(QT.bind(null,i,s,e),[e]),i.flags|=2048,Qs(9,Yc(),KT.bind(null,i,s,n,t),null),n},useId:function(){var e=we(),t=vt.identifierPrefix;if(ut){var n=Qn,i=Kn;n=(i&~(1<<32-je(i)-1)).toString(32)+n,t="«"+t+"R"+n,n=Ju++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=lI++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:ep,useFormState:o_,useActionState:o_,useOptimistic:function(e){var t=we();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=np.bind(null,tt,!0,n),n.dispatch=t,[e,t]},useMemoCache:Wm,useCacheRefresh:function(){return we().memoizedState=dI.bind(null,tt)}},v0={readContext:ge,use:Qc,useCallback:o0,useContext:ge,useEffect:n0,useImperativeHandle:a0,useInsertionEffect:i0,useLayoutEffect:r0,useMemo:l0,useReducer:Au,useRef:e0,useState:function(){return Au(ii)},useDebugValue:Jm,useDeferredValue:function(e,t){var n=Kt();return u0(n,pt.memoizedState,e,t)},useTransition:function(){var e=Au(ii)[0],t=Kt().memoizedState;return[typeof e=="boolean"?e:sl(e),t]},useSyncExternalStore:FT,useId:d0,useHostTransitionStatus:ep,useFormState:l_,useActionState:l_,useOptimistic:function(e,t){var n=Kt();return XT(n,pt,e,t)},useMemoCache:Wm,useCacheRefresh:m0},pI={readContext:ge,use:Qc,useCallback:o0,useContext:ge,useEffect:n0,useImperativeHandle:a0,useInsertionEffect:i0,useLayoutEffect:r0,useMemo:l0,useReducer:df,useRef:e0,useState:function(){return df(ii)},useDebugValue:Jm,useDeferredValue:function(e,t){var n=Kt();return pt===null?tp(n,e,t):u0(n,pt.memoizedState,e,t)},useTransition:function(){var e=df(ii)[0],t=Kt().memoizedState;return[typeof e=="boolean"?e:sl(e),t]},useSyncExternalStore:FT,useId:d0,useHostTransitionStatus:ep,useFormState:u_,useActionState:u_,useOptimistic:function(e,t){var n=Kt();return pt!==null?XT(n,pt,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Wm,useCacheRefresh:m0},xs=null,No=0;function tu(e){var t=No;return No+=1,xs===null&&(xs=[]),BT(xs,e,t)}function Ba(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function eu(e,t){throw t.$$typeof===Gb?Error(U(525)):(e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function h_(e){var t=e._init;return t(e._payload)}function E0(e){function t(E,_){if(e){var S=E.deletions;S===null?(E.deletions=[_],E.flags|=16):S.push(_)}}function n(E,_){if(!e)return null;for(;_!==null;)t(E,_),_=_.sibling;return null}function i(E){for(var _=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function r(E,_){return E=Zn(E,_),E.index=0,E.sibling=null,E}function s(E,_,S){return E.index=S,e?(S=E.alternate,S!==null?(S=S.index,S<_?(E.flags|=67108866,_):S):(E.flags|=67108866,_)):(E.flags|=1048576,_)}function a(E){return e&&E.alternate===null&&(E.flags|=67108866),E}function l(E,_,S,D){return _===null||_.tag!==6?(_=cf(S,E.mode,D),_.return=E,_):(_=r(_,S),_.return=E,_)}function u(E,_,S,D){var L=S.type;return L===gs?f(E,_,S.props.children,D,S.key):_!==null&&(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ai&&h_(L)===_.type)?(_=r(_,S.props),Ba(_,S),_.return=E,_):(_=Eu(S.type,S.key,S.props,null,E.mode,D),Ba(_,S),_.return=E,_)}function c(E,_,S,D){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=hf(S,E.mode,D),_.return=E,_):(_=r(_,S.children||[]),_.return=E,_)}function f(E,_,S,D,L){return _===null||_.tag!==7?(_=Ir(S,E.mode,D,L),_.return=E,_):(_=r(_,S),_.return=E,_)}function p(E,_,S){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=cf(""+_,E.mode,S),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ql:return S=Eu(_.type,_.key,_.props,null,E.mode,S),Ba(S,_),S.return=E,S;case Ga:return _=hf(_,E.mode,S),_.return=E,_;case Ai:var D=_._init;return _=D(_._payload),p(E,_,S)}if(Ka(_)||xa(_))return _=Ir(_,E.mode,S,null),_.return=E,_;if(typeof _.then=="function")return p(E,tu(_),S);if(_.$$typeof===Gn)return p(E,Zl(E,_),S);eu(E,_)}return null}function m(E,_,S,D){var L=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return L!==null?null:l(E,_,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ql:return S.key===L?u(E,_,S,D):null;case Ga:return S.key===L?c(E,_,S,D):null;case Ai:return L=S._init,S=L(S._payload),m(E,_,S,D)}if(Ka(S)||xa(S))return L!==null?null:f(E,_,S,D,null);if(typeof S.then=="function")return m(E,_,tu(S),D);if(S.$$typeof===Gn)return m(E,_,Zl(E,S),D);eu(E,S)}return null}function y(E,_,S,D,L){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return E=E.get(S)||null,l(_,E,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ql:return E=E.get(D.key===null?S:D.key)||null,u(_,E,D,L);case Ga:return E=E.get(D.key===null?S:D.key)||null,c(_,E,D,L);case Ai:var j=D._init;return D=j(D._payload),y(E,_,S,D,L)}if(Ka(D)||xa(D))return E=E.get(S)||null,f(_,E,D,L,null);if(typeof D.then=="function")return y(E,_,S,tu(D),L);if(D.$$typeof===Gn)return y(E,_,S,Zl(_,D),L);eu(_,D)}return null}function b(E,_,S,D){for(var L=null,j=null,A=_,v=_=0,T=null;A!==null&&v<S.length;v++){A.index>v?(T=A,A=null):T=A.sibling;var w=m(E,A,S[v],D);if(w===null){A===null&&(A=T);break}e&&A&&w.alternate===null&&t(E,A),_=s(w,_,v),j===null?L=w:j.sibling=w,j=w,A=T}if(v===S.length)return n(E,A),ut&&Ar(E,v),L;if(A===null){for(;v<S.length;v++)A=p(E,S[v],D),A!==null&&(_=s(A,_,v),j===null?L=A:j.sibling=A,j=A);return ut&&Ar(E,v),L}for(A=i(A);v<S.length;v++)T=y(A,E,v,S[v],D),T!==null&&(e&&T.alternate!==null&&A.delete(T.key===null?v:T.key),_=s(T,_,v),j===null?L=T:j.sibling=T,j=T);return e&&A.forEach(function(I){return t(E,I)}),ut&&Ar(E,v),L}function C(E,_,S,D){if(S==null)throw Error(U(151));for(var L=null,j=null,A=_,v=_=0,T=null,w=S.next();A!==null&&!w.done;v++,w=S.next()){A.index>v?(T=A,A=null):T=A.sibling;var I=m(E,A,w.value,D);if(I===null){A===null&&(A=T);break}e&&A&&I.alternate===null&&t(E,A),_=s(I,_,v),j===null?L=I:j.sibling=I,j=I,A=T}if(w.done)return n(E,A),ut&&Ar(E,v),L;if(A===null){for(;!w.done;v++,w=S.next())w=p(E,w.value,D),w!==null&&(_=s(w,_,v),j===null?L=w:j.sibling=w,j=w);return ut&&Ar(E,v),L}for(A=i(A);!w.done;v++,w=S.next())w=y(A,E,v,w.value,D),w!==null&&(e&&w.alternate!==null&&A.delete(w.key===null?v:w.key),_=s(w,_,v),j===null?L=w:j.sibling=w,j=w);return e&&A.forEach(function(O){return t(E,O)}),ut&&Ar(E,v),L}function N(E,_,S,D){if(typeof S=="object"&&S!==null&&S.type===gs&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Ql:t:{for(var L=S.key;_!==null;){if(_.key===L){if(L=S.type,L===gs){if(_.tag===7){n(E,_.sibling),D=r(_,S.props.children),D.return=E,E=D;break t}}else if(_.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ai&&h_(L)===_.type){n(E,_.sibling),D=r(_,S.props),Ba(D,S),D.return=E,E=D;break t}n(E,_);break}else t(E,_);_=_.sibling}S.type===gs?(D=Ir(S.props.children,E.mode,D,S.key),D.return=E,E=D):(D=Eu(S.type,S.key,S.props,null,E.mode,D),Ba(D,S),D.return=E,E=D)}return a(E);case Ga:t:{for(L=S.key;_!==null;){if(_.key===L)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(E,_.sibling),D=r(_,S.children||[]),D.return=E,E=D;break t}else{n(E,_);break}else t(E,_);_=_.sibling}D=hf(S,E.mode,D),D.return=E,E=D}return a(E);case Ai:return L=S._init,S=L(S._payload),N(E,_,S,D)}if(Ka(S))return b(E,_,S,D);if(xa(S)){if(L=xa(S),typeof L!="function")throw Error(U(150));return S=L.call(S),C(E,_,S,D)}if(typeof S.then=="function")return N(E,_,tu(S),D);if(S.$$typeof===Gn)return N(E,_,Zl(E,S),D);eu(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint"?(S=""+S,_!==null&&_.tag===6?(n(E,_.sibling),D=r(_,S),D.return=E,E=D):(n(E,_),D=cf(S,E.mode,D),D.return=E,E=D),a(E)):n(E,_)}return function(E,_,S,D){try{No=0;var L=N(E,_,S,D);return xs=null,L}catch(A){if(A===rl||A===Kc)throw A;var j=ke(29,A,null,E.mode);return j.lanes=D,j.return=E,j}finally{}}}var Ys=E0(!0),T0=E0(!1),tn=Mn(null),An=null;function Ri(e){var t=e.alternate;bt(Yt,Yt.current&1),bt(tn,e),An===null&&(t===null||Ks.current!==null||t.memoizedState!==null)&&(An=e)}function A0(e){if(e.tag===22){if(bt(Yt,Yt.current),bt(tn,e),An===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(An=e)}}else bi()}function bi(){bt(Yt,Yt.current),bt(tn,tn.current)}function $n(e){ee(tn),An===e&&(An=null),ee(Yt)}var Yt=Mn(0);function ec(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Ld(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function mf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:St({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ad={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=qe(),r=Bi(i);r.payload=t,n!=null&&(r.callback=n),t=zi(e,r,i),t!==null&&(He(t,e,i),oo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=qe(),r=Bi(i);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=zi(e,r,i),t!==null&&(He(t,e,i),oo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=qe(),i=Bi(n);i.tag=2,t!=null&&(i.callback=t),t=zi(e,i,n),t!==null&&(He(t,e,n),oo(t,e,n))}};function f_(e,t,n,i,r,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,s,a):t.prototype&&t.prototype.isPureReactComponent?!Io(n,i)||!Io(r,s):!0}function d_(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Ad.enqueueReplaceState(t,t.state,null)}function Lr(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=St({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}var nc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function S0(e){nc(e)}function w0(e){console.error(e)}function R0(e){nc(e)}function ic(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function m_(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Sd(e,t,n){return n=Bi(n),n.tag=3,n.payload={element:null},n.callback=function(){ic(e,t)},n}function b0(e){return e=Bi(e),e.tag=3,e}function I0(e,t,n,i){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){m_(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){m_(t,n,i),typeof r!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function gI(e,t,n,i,r){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&nl(t,n,r,!0),n=tn.current,n!==null){switch(n.tag){case 13:return An===null?Od():n.alternate===null&&Mt===0&&(Mt=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===pd?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Rf(e,i,r)),!1;case 22:return n.flags|=65536,i===pd?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Rf(e,i,r)),!1}throw Error(U(435,n.tag))}return Rf(e,i,r),Od(),!1}if(ut)return t=tn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==cd&&(e=Error(U(422),{cause:i}),Co(We(e,n)))):(i!==cd&&(t=Error(U(423),{cause:i}),Co(We(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,i=We(i,n),r=Sd(e.stateNode,i,r),ff(e,r),Mt!==4&&(Mt=2)),!1;var s=Error(U(520),{cause:i});if(s=We(s,n),mo===null?mo=[s]:mo.push(s),Mt!==4&&(Mt=2),t===null)return!0;i=We(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Sd(n.stateNode,i,e),ff(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ji===null||!ji.has(s))))return n.flags|=65536,r&=-r,n.lanes|=r,r=b0(r),I0(r,e,n,i),ff(n,r),!1}n=n.return}while(n!==null);return!1}var C0=Error(U(461)),te=!1;function ie(e,t,n,i){t.child=e===null?T0(t,null,n,i):Ys(t,e.child,n,i)}function p_(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return kr(t),i=Km(e,t,n,a,s,r),l=Qm(),e!==null&&!te?(Ym(e,t,r),ri(e,t,r)):(ut&&l&&Bm(t),t.flags|=1,ie(e,t,i,r),t.child)}function g_(e,t,n,i,r){if(e===null){var s=n.type;return typeof s=="function"&&!Lm(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,D0(e,t,s,i,r)):(e=Eu(n.type,null,i,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!ip(e,r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Io,n(a,i)&&e.ref===t.ref)return ri(e,t,r)}return t.flags|=1,e=Zn(s,i),e.ref=t.ref,e.return=t,t.child=e}function D0(e,t,n,i,r){if(e!==null){var s=e.memoizedProps;if(Io(s,i)&&e.ref===t.ref)if(te=!1,t.pendingProps=i=s,ip(e,r))e.flags&131072&&(te=!0);else return t.lanes=e.lanes,ri(e,t,r)}return wd(e,t,n,i,r)}function N0(e,t,n){var i=t.pendingProps,r=i.children,s=e!==null?e.memoizedState:null;if(i.mode==="hidden"){if(t.flags&128){if(i=s!==null?s.baseLanes|n:n,e!==null){for(r=t.child=e.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;t.childLanes=s&~i}else t.childLanes=0,t.child=null;return y_(e,t,i,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Tu(t,s!==null?s.cachePool:null),s!==null?r_(t,s):_d(),A0(t);else return t.lanes=t.childLanes=536870912,y_(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(Tu(t,s.cachePool),r_(t,s),bi(),t.memoizedState=null):(e!==null&&Tu(t,null),_d(),bi());return ie(e,t,r,n),t.child}function y_(e,t,n,i){var r=qm();return r=r===null?null:{parent:Qt._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&Tu(t,null),_d(),A0(t),e!==null&&nl(e,t,i,!0),null}function wu(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function wd(e,t,n,i,r){return kr(t),n=Km(e,t,n,i,void 0,r),i=Qm(),e!==null&&!te?(Ym(e,t,r),ri(e,t,r)):(ut&&i&&Bm(t),t.flags|=1,ie(e,t,n,r),t.child)}function __(e,t,n,i,r,s){return kr(t),t.updateQueue=null,n=HT(t,i,n,r),qT(e),i=Qm(),e!==null&&!te?(Ym(e,t,s),ri(e,t,s)):(ut&&i&&Bm(t),t.flags|=1,ie(e,t,n,s),t.child)}function v_(e,t,n,i,r){if(kr(t),t.stateNode===null){var s=ws,a=n.contextType;typeof a=="object"&&a!==null&&(s=ge(a)),s=new n(i,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ad,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=i,s.state=t.memoizedState,s.refs={},Hm(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?ge(a):ws,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(mf(t,n,a,i),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Ad.enqueueReplaceState(s,s.state,null),uo(t,i,s,r),lo(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){s=t.stateNode;var l=t.memoizedProps,u=Lr(n,l);s.props=u;var c=s.context,f=n.contextType;a=ws,typeof f=="object"&&f!==null&&(a=ge(f));var p=n.getDerivedStateFromProps;f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l||c!==a)&&d_(t,s,i,a),Si=!1;var m=t.memoizedState;s.state=m,uo(t,i,s,r),lo(),c=t.memoizedState,l||m!==c||Si?(typeof p=="function"&&(mf(t,n,p,i),c=t.memoizedState),(u=Si||f_(t,n,u,i,m,c,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=a,i=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,gd(e,t),a=t.memoizedProps,f=Lr(n,a),s.props=f,p=t.pendingProps,m=s.context,c=n.contextType,u=ws,typeof c=="object"&&c!==null&&(u=ge(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||m!==u)&&d_(t,s,i,u),Si=!1,m=t.memoizedState,s.state=m,uo(t,i,s,r),lo();var y=t.memoizedState;a!==p||m!==y||Si||e!==null&&e.dependencies!==null&&Xu(e.dependencies)?(typeof l=="function"&&(mf(t,n,l,i),y=t.memoizedState),(f=Si||f_(t,n,f,i,m,y,u)||e!==null&&e.dependencies!==null&&Xu(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,y,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,y,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=y),s.props=i,s.state=y,s.context=u,i=f):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,wu(e,t),i=(t.flags&128)!==0,s||i?(s=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&i?(t.child=Ys(t,e.child,null,r),t.child=Ys(t,null,n,r)):ie(e,t,n,r),t.memoizedState=s.state,e=t.child):e=ri(e,t,r),e}function E_(e,t,n,i){return el(),t.flags|=256,ie(e,t,n,i),t.child}var pf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gf(e){return{baseLanes:e,cachePool:UT()}}function yf(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Je),e}function O0(e,t,n){var i=t.pendingProps,r=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(Yt.current&2)!==0),a&&(r=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(ut){if(r?Ri(t):bi(),ut){var l=Ot,u;if(u=l){t:{for(u=l,l=yn;u.nodeType!==8;){if(!l){l=null;break t}if(u=ln(u.nextSibling),u===null){l=null;break t}}l=u}l!==null?(t.memoizedState={dehydrated:l,treeContext:Cr!==null?{id:Kn,overflow:Qn}:null,retryLane:536870912,hydrationErrors:null},u=ke(18,null,null,0),u.stateNode=l,u.return=t,t.child=u,Te=t,Ot=null,u=!0):u=!1}u||xr(t)}if(l=t.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return Ld(l)?t.lanes=32:t.lanes=536870912,null;$n(t)}return l=i.children,i=i.fallback,r?(bi(),r=t.mode,l=rc({mode:"hidden",children:l},r),i=Ir(i,r,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,r=t.child,r.memoizedState=gf(n),r.childLanes=yf(e,a,n),t.memoizedState=pf,i):(Ri(t),Rd(t,l))}if(u=e.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(s)t.flags&256?(Ri(t),t.flags&=-257,t=_f(e,t,n)):t.memoizedState!==null?(bi(),t.child=e.child,t.flags|=128,t=null):(bi(),r=i.fallback,l=t.mode,i=rc({mode:"visible",children:i.children},l),r=Ir(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,Ys(t,e.child,null,n),i=t.child,i.memoizedState=gf(n),i.childLanes=yf(e,a,n),t.memoizedState=pf,t=r);else if(Ri(t),Ld(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var c=a.dgst;a=c,i=Error(U(419)),i.stack="",i.digest=a,Co({value:i,source:null,stack:null}),t=_f(e,t,n)}else if(te||nl(e,t,n,!1),a=(n&e.childLanes)!==0,te||a){if(a=vt,a!==null&&(i=n&-n,i=i&42?1:Im(i),i=i&(a.suspendedLanes|n)?0:i,i!==0&&i!==u.retryLane))throw u.retryLane=i,ua(e,i),He(a,e,i),C0;l.data==="$?"||Od(),t=_f(e,t,n)}else l.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Ot=ln(l.nextSibling),Te=t,ut=!0,Dr=null,yn=!1,e!==null&&(Ye[$e++]=Kn,Ye[$e++]=Qn,Ye[$e++]=Cr,Kn=e.id,Qn=e.overflow,Cr=t),t=Rd(t,i.children),t.flags|=4096);return t}return r?(bi(),r=i.fallback,l=t.mode,u=e.child,c=u.sibling,i=Zn(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,c!==null?r=Zn(c,r):(r=Ir(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,i=r,r=t.child,l=e.child.memoizedState,l===null?l=gf(n):(u=l.cachePool,u!==null?(c=Qt._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=UT(),l={baseLanes:l.baseLanes|n,cachePool:u}),r.memoizedState=l,r.childLanes=yf(e,a,n),t.memoizedState=pf,i):(Ri(t),n=e.child,e=n.sibling,n=Zn(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function Rd(e,t){return t=rc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function rc(e,t){return e=ke(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function _f(e,t,n){return Ys(t,e.child,null,n),e=Rd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function T_(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),fd(e.return,t,n)}function vf(e,t,n,i,r){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function M0(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(ie(e,t,i.children,n),i=Yt.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&T_(e,n,t);else if(e.tag===19)T_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(bt(Yt,i),r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&ec(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),vf(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&ec(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}vf(t,!0,n,null,s);break;case"together":vf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ri(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ji|=t.lanes,!(n&t.childLanes))if(e!==null){if(nl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=Zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ip(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Xu(e)))}function yI(e,t,n){switch(t.tag){case 3:qu(t,t.stateNode.containerInfo),wi(t,Qt,e.memoizedState.cache),el();break;case 27:case 5:td(t);break;case 4:qu(t,t.stateNode.containerInfo);break;case 10:wi(t,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Ri(t),t.flags|=128,null):n&t.child.childLanes?O0(e,t,n):(Ri(t),e=ri(e,t,n),e!==null?e.sibling:null);Ri(t);break;case 19:var r=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(nl(e,t,n,!1),i=(n&t.childLanes)!==0),r){if(i)return M0(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),bt(Yt,Yt.current),i)break;return null;case 22:case 23:return t.lanes=0,N0(e,t,n);case 24:wi(t,Qt,e.memoizedState.cache)}return ri(e,t,n)}function V0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)te=!0;else{if(!ip(e,n)&&!(t.flags&128))return te=!1,yI(e,t,n);te=!!(e.flags&131072)}else te=!1,ut&&t.flags&1048576&&xT(t,$u,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,typeof i=="function")Lm(i)?(e=Lr(i,e),t.tag=1,t=v_(null,t,i,e,n)):(t.tag=0,t=wd(null,t,i,e,n));else{if(i!=null){if(r=i.$$typeof,r===wm){t.tag=11,t=p_(null,t,i,e,n);break t}else if(r===Rm){t.tag=14,t=g_(null,t,i,e,n);break t}}throw t=Zf(i)||i,Error(U(306,t,""))}}return t;case 0:return wd(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,r=Lr(i,t.pendingProps),v_(e,t,i,r,n);case 3:t:{if(qu(t,t.stateNode.containerInfo),e===null)throw Error(U(387));i=t.pendingProps;var s=t.memoizedState;r=s.element,gd(e,t),uo(t,i,null,n);var a=t.memoizedState;if(i=a.cache,wi(t,Qt,i),i!==s.cache&&dd(t,[Qt],n,!0),lo(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=E_(e,t,i,n);break t}else if(i!==r){r=We(Error(U(424)),t),Co(r),t=E_(e,t,i,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ot=ln(e.firstChild),Te=t,ut=!0,Dr=null,yn=!0,n=T0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(el(),i===r){t=ri(e,t,n);break t}ie(e,t,i,n)}t=t.child}return t;case 26:return wu(e,t),e===null?(n=L_(t.type,null,t.pendingProps,null))?t.memoizedState=n:ut||(n=t.type,e=t.pendingProps,i=hc(Li.current).createElement(n),i[pe]=t,i[De]=e,oe(i,n,e),Jt(i),t.stateNode=i):t.memoizedState=L_(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return td(t),e===null&&ut&&(i=t.stateNode=vA(t.type,t.pendingProps,Li.current),Te=t,yn=!0,r=Ot,ur(t.type)?(Bd=r,Ot=ln(i.firstChild)):Ot=r),ie(e,t,t.pendingProps.children,n),wu(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ut&&((r=i=Ot)&&(i=GI(i,t.type,t.pendingProps,yn),i!==null?(t.stateNode=i,Te=t,Ot=ln(i.firstChild),yn=!1,r=!0):r=!1),r||xr(t)),td(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,kd(r,s)?i=null:a!==null&&kd(r,a)&&(t.flags|=32),t.memoizedState!==null&&(r=Km(e,t,uI,null,null,n),Po._currentValue=r),wu(e,t),ie(e,t,i,n),t.child;case 6:return e===null&&ut&&((e=n=Ot)&&(n=KI(n,t.pendingProps,yn),n!==null?(t.stateNode=n,Te=t,Ot=null,e=!0):e=!1),e||xr(t)),null;case 13:return O0(e,t,n);case 4:return qu(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ys(t,null,i,n):ie(e,t,i,n),t.child;case 11:return p_(e,t,t.type,t.pendingProps,n);case 7:return ie(e,t,t.pendingProps,n),t.child;case 8:return ie(e,t,t.pendingProps.children,n),t.child;case 12:return ie(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,wi(t,t.type,i.value),ie(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,kr(t),r=ge(r),i=i(r),t.flags|=1,ie(e,t,i,n),t.child;case 14:return g_(e,t,t.type,t.pendingProps,n);case 15:return D0(e,t,t.type,t.pendingProps,n);case 19:return M0(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},e===null?(n=rc(i,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Zn(e.child,i),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return N0(e,t,n);case 24:return kr(t),i=ge(Qt),e===null?(r=qm(),r===null&&(r=vt,s=jm(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},Hm(t),wi(t,Qt,r)):(e.lanes&n&&(gd(e,t),uo(t,null,null,n),lo()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),wi(t,Qt,i)):(i=s.cache,wi(t,Qt,i),i!==r.cache&&dd(t,[Qt],n,!0))),ie(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(U(156,t.tag))}function jn(e){e.flags|=4}function A_(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!AA(t)){if(t=tn.current,t!==null&&((ot&4194048)===ot?An!==null:(ot&62914560)!==ot&&!(ot&536870912)||t!==An))throw ao=pd,LT;e.flags|=8192}}function nu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?sT():536870912,e.lanes|=t,$s|=t)}function za(e,t){if(!ut)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function It(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function _I(e,t,n){var i=t.pendingProps;switch(zm(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(t),null;case 1:return It(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Jn(Qt),qs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(La(t)?jn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Zy())),It(t),null;case 26:return n=t.memoizedState,e===null?(jn(t),n!==null?(It(t),A_(t,n)):(It(t),t.flags&=-16777217)):n?n!==e.memoizedState?(jn(t),It(t),A_(t,n)):(It(t),t.flags&=-16777217):(e.memoizedProps!==i&&jn(t),It(t),t.flags&=-16777217),null;case 27:Hu(t),n=Li.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==i&&jn(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return It(t),null}e=En.current,La(t)?Xy(t):(e=vA(r,i,n),t.stateNode=e,jn(t))}return It(t),null;case 5:if(Hu(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&jn(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return It(t),null}if(e=En.current,La(t))Xy(t);else{switch(r=hc(Li.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e=typeof i.is=="string"?r.createElement(n,{is:i.is}):r.createElement(n)}}e[pe]=t,e[De]=i;t:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break t;for(;r.sibling===null;){if(r.return===null||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;t:switch(oe(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&jn(t)}}return It(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&jn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(U(166));if(e=Li.current,La(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,r=Te,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}e[pe]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||gA(e.nodeValue,n)),e||xr(t)}else e=hc(e).createTextNode(i),e[pe]=t,t.stateNode=e}return It(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=La(t),i!==null&&i.dehydrated!==null){if(e===null){if(!r)throw Error(U(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(U(317));r[pe]=t}else el(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;It(t),r=!1}else r=Zy(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?($n(t),t):($n(t),null)}if($n(t),t.flags&128)return t.lanes=n,t;if(n=i!==null,e=e!==null&&e.memoizedState!==null,n){i=t.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),nu(t,t.updateQueue),It(t),null;case 4:return qs(),e===null&&hp(t.stateNode.containerInfo),It(t),null;case 10:return Jn(t.type),It(t),null;case 19:if(ee(Yt),r=t.memoizedState,r===null)return It(t),null;if(i=(t.flags&128)!==0,s=r.rendering,s===null)if(i)za(r,!1);else{if(Mt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ec(e),s!==null){for(t.flags|=128,za(r,!1),e=s.updateQueue,t.updateQueue=e,nu(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)PT(n,e),n=n.sibling;return bt(Yt,Yt.current&1|2),t.child}e=e.sibling}r.tail!==null&&Tn()>ac&&(t.flags|=128,i=!0,za(r,!1),t.lanes=4194304)}else{if(!i)if(e=ec(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,nu(t,e),za(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!ut)return It(t),null}else 2*Tn()-r.renderingStartTime>ac&&n!==536870912&&(t.flags|=128,i=!0,za(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(e=r.last,e!==null?e.sibling=s:t.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Tn(),t.sibling=null,e=Yt.current,bt(Yt,i?e&1|2:e&1),t):(It(t),null);case 22:case 23:return $n(t),Fm(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(It(t),t.subtreeFlags&6&&(t.flags|=8192)):It(t),n=t.updateQueue,n!==null&&nu(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ee(Nr),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Jn(Qt),It(t),null;case 25:return null;case 30:return null}throw Error(U(156,t.tag))}function vI(e,t){switch(zm(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jn(Qt),qs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Hu(t),null;case 13:if($n(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));el()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(Yt),null;case 4:return qs(),null;case 10:return Jn(t.type),null;case 22:case 23:return $n(t),Fm(),e!==null&&ee(Nr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Jn(Qt),null;case 25:return null;default:return null}}function P0(e,t){switch(zm(t),t.tag){case 3:Jn(Qt),qs();break;case 26:case 27:case 5:Hu(t);break;case 4:qs();break;case 13:$n(t);break;case 19:ee(Yt);break;case 10:Jn(t.type);break;case 22:case 23:$n(t),Fm(),e!==null&&ee(Nr);break;case 24:Jn(Qt)}}function ol(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(l){yt(t,t.return,l)}}function Zi(e,t,n){try{var i=t.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,r=t;var u=n,c=l;try{c()}catch(f){yt(r,u,f)}}}i=i.next}while(i!==s)}}catch(f){yt(t,t.return,f)}}function x0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{jT(t,n)}catch(i){yt(e,e.return,i)}}}function k0(e,t,n){n.props=Lr(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){yt(e,t,i)}}function ho(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(r){yt(e,t,r)}}function _n(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(r){yt(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){yt(e,t,r)}else n.current=null}function U0(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break t;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){yt(e,e.return,r)}}function Ef(e,t,n){try{var i=e.stateNode;zI(i,e.type,n,t),i[De]=t}catch(r){yt(e,e.return,r)}}function L0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ur(e.type)||e.tag===4}function Tf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||L0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ur(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bd(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Jc));else if(i!==4&&(i===27&&ur(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(bd(e,t,n),e=e.sibling;e!==null;)bd(e,t,n),e=e.sibling}function sc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&ur(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(sc(e,t,n),e=e.sibling;e!==null;)sc(e,t,n),e=e.sibling}function B0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);oe(t,i,n),t[pe]=e,t[De]=n}catch(s){yt(e,e.return,s)}}var Fn=!1,Bt=!1,Af=!1,S_=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function EI(e,t){if(e=e.containerInfo,Pd=pc,e=bT(e),xm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,l=-1,u=-1,c=0,f=0,p=e,m=null;e:for(;;){for(var y;p!==n||r!==0&&p.nodeType!==3||(l=a+r),p!==s||i!==0&&p.nodeType!==3||(u=a+i),p.nodeType===3&&(a+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===e)break e;if(m===n&&++c===r&&(l=a),m===s&&++f===i&&(u=a),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(xd={focusedElem:e,selectionRange:n},pc=!1,Zt=t;Zt!==null;)if(t=Zt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Zt=e;else for(;Zt!==null;){switch(t=Zt,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,r=s.memoizedProps,s=s.memoizedState,i=n.stateNode;try{var b=Lr(n.type,r,n.elementType===n.type);e=i.getSnapshotBeforeUpdate(b,s),i.__reactInternalSnapshotBeforeUpdate=e}catch(C){yt(n,n.return,C)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ud(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ud(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(U(163))}if(e=t.sibling,e!==null){e.return=t.return,Zt=e;break}Zt=t.return}}function z0(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:vi(e,n),i&4&&ol(5,n);break;case 1:if(vi(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){yt(n,n.return,a)}else{var r=Lr(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){yt(n,n.return,a)}}i&64&&x0(n),i&512&&ho(n,n.return);break;case 3:if(vi(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{jT(e,t)}catch(a){yt(n,n.return,a)}}break;case 27:t===null&&i&4&&B0(n);case 26:case 5:vi(e,n),t===null&&i&4&&U0(n),i&512&&ho(n,n.return);break;case 12:vi(e,n);break;case 13:vi(e,n),i&4&&H0(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=DI.bind(null,n),QI(e,n))));break;case 22:if(i=n.memoizedState!==null||Fn,!i){t=t!==null&&t.memoizedState!==null||Bt,r=Fn;var s=Bt;Fn=i,(Bt=t)&&!s?Ti(e,n,(n.subtreeFlags&8772)!==0):vi(e,n),Fn=r,Bt=s}break;case 30:break;default:vi(e,n)}}function j0(e){var t=e.alternate;t!==null&&(e.alternate=null,j0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Dm(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var wt=null,Re=!1;function qn(e,t,n){for(n=n.child;n!==null;)q0(e,t,n),n=n.sibling}function q0(e,t,n){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Xo,n)}catch{}switch(n.tag){case 26:Bt||_n(n,t),qn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Bt||_n(n,t);var i=wt,r=Re;ur(n.type)&&(wt=n.stateNode,Re=!1),qn(e,t,n),go(n.stateNode),wt=i,Re=r;break;case 5:Bt||_n(n,t);case 6:if(i=wt,r=Re,wt=null,qn(e,t,n),wt=i,Re=r,wt!==null)if(Re)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(n.stateNode)}catch(s){yt(n,t,s)}else try{wt.removeChild(n.stateNode)}catch(s){yt(n,t,s)}break;case 18:wt!==null&&(Re?(e=wt,x_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Uo(e)):x_(wt,n.stateNode));break;case 4:i=wt,r=Re,wt=n.stateNode.containerInfo,Re=!0,qn(e,t,n),wt=i,Re=r;break;case 0:case 11:case 14:case 15:Bt||Zi(2,n,t),Bt||Zi(4,n,t),qn(e,t,n);break;case 1:Bt||(_n(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&k0(n,t,i)),qn(e,t,n);break;case 21:qn(e,t,n);break;case 22:Bt=(i=Bt)||n.memoizedState!==null,qn(e,t,n),Bt=i;break;default:qn(e,t,n)}}function H0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Uo(e)}catch(n){yt(t,t.return,n)}}function TI(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new S_),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new S_),t;default:throw Error(U(435,e.tag))}}function Sf(e,t){var n=TI(e);t.forEach(function(i){var r=NI.bind(null,e,i);n.has(i)||(n.add(i),i.then(r,r))})}function Ve(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i],s=e,a=t,l=a;t:for(;l!==null;){switch(l.tag){case 27:if(ur(l.type)){wt=l.stateNode,Re=!1;break t}break;case 5:wt=l.stateNode,Re=!1;break t;case 3:case 4:wt=l.stateNode.containerInfo,Re=!0;break t}l=l.return}if(wt===null)throw Error(U(160));q0(s,a,r),wt=null,Re=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)F0(t,e),t=t.sibling}var an=null;function F0(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ve(t,e),Pe(e),i&4&&(Zi(3,e,e.return),ol(3,e),Zi(5,e,e.return));break;case 1:Ve(t,e),Pe(e),i&512&&(Bt||n===null||_n(n,n.return)),i&64&&Fn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var r=an;if(Ve(t,e),Pe(e),i&512&&(Bt||n===null||_n(n,n.return)),i&4){var s=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){t:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;e:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Jo]||s[pe]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),oe(s,i,n),s[pe]=e,Jt(s),i=s;break t;case"link":var a=z_("link","href",r).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(s=a[l],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break e}}s=r.createElement(i),oe(s,i,n),r.head.appendChild(s);break;case"meta":if(a=z_("meta","content",r).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(s=a[l],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break e}}s=r.createElement(i),oe(s,i,n),r.head.appendChild(s);break;default:throw Error(U(468,i))}s[pe]=e,Jt(s),i=s}e.stateNode=i}else j_(r,e.type,e.stateNode);else e.stateNode=B_(r,i,e.memoizedProps);else s!==i?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,i===null?j_(r,e.type,e.stateNode):B_(r,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Ef(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ve(t,e),Pe(e),i&512&&(Bt||n===null||_n(n,n.return)),n!==null&&i&4&&Ef(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ve(t,e),Pe(e),i&512&&(Bt||n===null||_n(n,n.return)),e.flags&32){r=e.stateNode;try{Fs(r,"")}catch(y){yt(e,e.return,y)}}i&4&&e.stateNode!=null&&(r=e.memoizedProps,Ef(e,r,n!==null?n.memoizedProps:r)),i&1024&&(Af=!0);break;case 6:if(Ve(t,e),Pe(e),i&4){if(e.stateNode===null)throw Error(U(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(y){yt(e,e.return,y)}}break;case 3:if(Iu=null,r=an,an=fc(t.containerInfo),Ve(t,e),an=r,Pe(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Uo(t.containerInfo)}catch(y){yt(e,e.return,y)}Af&&(Af=!1,G0(e));break;case 4:i=an,an=fc(e.stateNode.containerInfo),Ve(t,e),Pe(e),an=i;break;case 12:Ve(t,e),Pe(e);break;case 13:Ve(t,e),Pe(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(lp=Tn()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Sf(e,i)));break;case 22:r=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Fn,f=Bt;if(Fn=c||r,Bt=f||u,Ve(t,e),Bt=f,Fn=c,Pe(e),i&8192)t:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||u||Fn||Bt||Sr(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,m=p!=null&&p.hasOwnProperty("display")?p.display:null;l.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(y){yt(u,u.return,y)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=r?"":u.memoizedProps}catch(y){yt(u,u.return,y)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Sf(e,n))));break;case 19:Ve(t,e),Pe(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Sf(e,i)));break;case 30:break;case 21:break;default:Ve(t,e),Pe(e)}}function Pe(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(L0(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var r=n.stateNode,s=Tf(e);sc(e,s,r);break;case 5:var a=n.stateNode;n.flags&32&&(Fs(a,""),n.flags&=-33);var l=Tf(e);sc(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=Tf(e);bd(e,c,u);break;default:throw Error(U(161))}}catch(f){yt(e,e.return,f)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function G0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;G0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)z0(e,t.alternate,t),t=t.sibling}function Sr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Zi(4,t,t.return),Sr(t);break;case 1:_n(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&k0(t,t.return,n),Sr(t);break;case 27:go(t.stateNode);case 26:case 5:_n(t,t.return),Sr(t);break;case 22:t.memoizedState===null&&Sr(t);break;case 30:Sr(t);break;default:Sr(t)}e=e.sibling}}function Ti(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Ti(r,s,n),ol(4,s);break;case 1:if(Ti(r,s,n),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(c){yt(i,i.return,c)}if(i=s,r=i.updateQueue,r!==null){var l=i.stateNode;try{var u=r.shared.hiddenCallbacks;if(u!==null)for(r.shared.hiddenCallbacks=null,r=0;r<u.length;r++)zT(u[r],l)}catch(c){yt(i,i.return,c)}}n&&a&64&&x0(s),ho(s,s.return);break;case 27:B0(s);case 26:case 5:Ti(r,s,n),n&&i===null&&a&4&&U0(s),ho(s,s.return);break;case 12:Ti(r,s,n);break;case 13:Ti(r,s,n),n&&a&4&&H0(r,s);break;case 22:s.memoizedState===null&&Ti(r,s,n),ho(s,s.return);break;case 30:break;default:Ti(r,s,n)}t=t.sibling}}function rp(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&il(n))}function sp(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&il(e))}function pn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)K0(e,t,n,i),t=t.sibling}function K0(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:pn(e,t,n,i),r&2048&&ol(9,t);break;case 1:pn(e,t,n,i);break;case 3:pn(e,t,n,i),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&il(e)));break;case 12:if(r&2048){pn(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,l=s.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){yt(t,t.return,u)}}else pn(e,t,n,i);break;case 13:pn(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?pn(e,t,n,i):fo(e,t):s._visibility&2?pn(e,t,n,i):(s._visibility|=2,cs(e,t,n,i,(t.subtreeFlags&10256)!==0)),r&2048&&rp(a,t);break;case 24:pn(e,t,n,i),r&2048&&sp(t.alternate,t);break;default:pn(e,t,n,i)}}function cs(e,t,n,i,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,l=n,u=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:cs(s,a,l,u,r),ol(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?cs(s,a,l,u,r):fo(s,a):(f._visibility|=2,cs(s,a,l,u,r)),r&&c&2048&&rp(a.alternate,a);break;case 24:cs(s,a,l,u,r),r&&c&2048&&sp(a.alternate,a);break;default:cs(s,a,l,u,r)}t=t.sibling}}function fo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:fo(n,i),r&2048&&rp(i.alternate,i);break;case 24:fo(n,i),r&2048&&sp(i.alternate,i);break;default:fo(n,i)}t=t.sibling}}var Ya=8192;function as(e){if(e.subtreeFlags&Ya)for(e=e.child;e!==null;)Q0(e),e=e.sibling}function Q0(e){switch(e.tag){case 26:as(e),e.flags&Ya&&e.memoizedState!==null&&aC(an,e.memoizedState,e.memoizedProps);break;case 5:as(e);break;case 3:case 4:var t=an;an=fc(e.stateNode.containerInfo),as(e),an=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ya,Ya=16777216,as(e),Ya=t):as(e));break;default:as(e)}}function Y0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ja(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Zt=i,X0(i,e)}Y0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$0(e),e=e.sibling}function $0(e){switch(e.tag){case 0:case 11:case 15:ja(e),e.flags&2048&&Zi(9,e,e.return);break;case 3:ja(e);break;case 12:ja(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ru(e)):ja(e);break;default:ja(e)}}function Ru(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Zt=i,X0(i,e)}Y0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Zi(8,t,t.return),Ru(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ru(t));break;default:Ru(t)}e=e.sibling}}function X0(e,t){for(;Zt!==null;){var n=Zt;switch(n.tag){case 0:case 11:case 15:Zi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:il(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Zt=i;else t:for(n=e;Zt!==null;){i=Zt;var r=i.sibling,s=i.return;if(j0(i),i===n){Zt=null;break t}if(r!==null){r.return=s,Zt=r;break t}Zt=s}}}var AI={getCacheForType:function(e){var t=ge(Qt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},SI=typeof WeakMap=="function"?WeakMap:Map,dt=0,vt=null,nt=null,ot=0,ft=0,xe=null,xi=!1,ca=!1,ap=!1,si=0,Mt=0,Ji=0,Or=0,op=0,Je=0,$s=0,mo=null,be=null,Id=!1,lp=0,ac=1/0,oc=null,ji=null,se=0,qi=null,Xs=null,ks=0,Cd=0,Dd=null,W0=null,po=0,Nd=null;function qe(){if(dt&2&&ot!==0)return ot&-ot;if(Y.T!==null){var e=Gs;return e!==0?e:cp()}return lT()}function Z0(){Je===0&&(Je=!(ot&536870912)||ut?rT():536870912);var e=tn.current;return e!==null&&(e.flags|=32),Je}function He(e,t,n){(e===vt&&(ft===2||ft===9)||e.cancelPendingCommit!==null)&&(Ws(e,0),ki(e,ot,Je,!1)),Zo(e,n),(!(dt&2)||e!==vt)&&(e===vt&&(!(dt&2)&&(Or|=n),Mt===4&&ki(e,ot,Je,!1)),Vn(e))}function J0(e,t,n){if(dt&6)throw Error(U(327));var i=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Wo(e,t),r=i?bI(e,t):wf(e,t,!0),s=i;do{if(r===0){ca&&!i&&ki(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!wI(n)){r=wf(e,t,!1),s=!1;continue}if(r===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var l=e;r=mo;var u=l.current.memoizedState.isDehydrated;if(u&&(Ws(l,a).flags|=256),a=wf(l,a,!1),a!==2){if(ap&&!u){l.errorRecoveryDisabledLanes|=s,Or|=s,r=4;break t}s=be,be=r,s!==null&&(be===null?be=s:be.push.apply(be,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){Ws(e,0),ki(e,t,0,!0);break}t:{switch(i=e,s=r,s){case 0:case 1:throw Error(U(345));case 4:if((t&4194048)!==t)break;case 6:ki(i,t,Je,!xi);break t;case 2:be=null;break;case 3:case 5:break;default:throw Error(U(329))}if((t&62914560)===t&&(r=lp+300-Tn(),10<r)){if(ki(i,t,Je,!xi),zc(i,0,!0)!==0)break t;i.timeoutHandle=_A(w_.bind(null,i,n,be,oc,Id,t,Je,Or,$s,xi,s,2,-0,0),r);break t}w_(i,n,be,oc,Id,t,Je,Or,$s,xi,s,0,-0,0)}}break}while(!0);Vn(e)}function w_(e,t,n,i,r,s,a,l,u,c,f,p,m,y){if(e.timeoutHandle=-1,p=t.subtreeFlags,(p&8192||(p&16785408)===16785408)&&(Vo={stylesheets:null,count:0,unsuspend:sC},Q0(t),p=oC(),p!==null)){e.cancelPendingCommit=p(b_.bind(null,e,t,s,n,i,r,a,l,u,f,1,m,y)),ki(e,s,a,!c);return}b_(e,t,s,n,i,r,a,l,u)}function wI(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Fe(s(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ki(e,t,n,i){t&=~op,t&=~Or,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-je(r),a=1<<s;i[s]=-1,r&=~a}n!==0&&aT(e,n,t)}function Xc(){return dt&6?!0:(ll(0),!1)}function up(){if(nt!==null){if(ft===0)var e=nt.return;else e=nt,Yn=$r=null,$m(e),xs=null,No=0,e=nt;for(;e!==null;)P0(e.alternate,e),e=e.return;nt=null}}function Ws(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,qI(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),up(),vt=e,nt=n=Zn(e.current,null),ot=t,ft=0,xe=null,xi=!1,ca=Wo(e,t),ap=!1,$s=Je=op=Or=Ji=Mt=0,be=mo=null,Id=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var r=31-je(i),s=1<<r;t|=e[r],i&=~s}return si=t,Fc(),n}function tA(e,t){tt=null,Y.H=tc,t===rl||t===Kc?(t=n_(),ft=3):t===LT?(t=n_(),ft=4):ft=t===C0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xe=t,nt===null&&(Mt=1,ic(e,We(t,e.current)))}function eA(){var e=Y.H;return Y.H=tc,e===null?tc:e}function nA(){var e=Y.A;return Y.A=AI,e}function Od(){Mt=4,xi||(ot&4194048)!==ot&&tn.current!==null||(ca=!0),!(Ji&134217727)&&!(Or&134217727)||vt===null||ki(vt,ot,Je,!1)}function wf(e,t,n){var i=dt;dt|=2;var r=eA(),s=nA();(vt!==e||ot!==t)&&(oc=null,Ws(e,t)),t=!1;var a=Mt;t:do try{if(ft!==0&&nt!==null){var l=nt,u=xe;switch(ft){case 8:up(),a=6;break t;case 3:case 2:case 9:case 6:tn.current===null&&(t=!0);var c=ft;if(ft=0,xe=null,Is(e,l,u,c),n&&ca){a=0;break t}break;default:c=ft,ft=0,xe=null,Is(e,l,u,c)}}RI(),a=Mt;break}catch(f){tA(e,f)}while(!0);return t&&e.shellSuspendCounter++,Yn=$r=null,dt=i,Y.H=r,Y.A=s,nt===null&&(vt=null,ot=0,Fc()),a}function RI(){for(;nt!==null;)iA(nt)}function bI(e,t){var n=dt;dt|=2;var i=eA(),r=nA();vt!==e||ot!==t?(oc=null,ac=Tn()+500,Ws(e,t)):ca=Wo(e,t);t:do try{if(ft!==0&&nt!==null){t=nt;var s=xe;e:switch(ft){case 1:ft=0,xe=null,Is(e,t,s,1);break;case 2:case 9:if(e_(s)){ft=0,xe=null,R_(t);break}t=function(){ft!==2&&ft!==9||vt!==e||(ft=7),Vn(e)},s.then(t,t);break t;case 3:ft=7;break t;case 4:ft=5;break t;case 7:e_(s)?(ft=0,xe=null,R_(t)):(ft=0,xe=null,Is(e,t,s,7));break;case 5:var a=null;switch(nt.tag){case 26:a=nt.memoizedState;case 5:case 27:var l=nt;if(!a||AA(a)){ft=0,xe=null;var u=l.sibling;if(u!==null)nt=u;else{var c=l.return;c!==null?(nt=c,Wc(c)):nt=null}break e}}ft=0,xe=null,Is(e,t,s,5);break;case 6:ft=0,xe=null,Is(e,t,s,6);break;case 8:up(),Mt=6;break t;default:throw Error(U(462))}}II();break}catch(f){tA(e,f)}while(!0);return Yn=$r=null,Y.H=i,Y.A=r,dt=n,nt!==null?0:(vt=null,ot=0,Fc(),Mt)}function II(){for(;nt!==null&&!$b();)iA(nt)}function iA(e){var t=V0(e.alternate,e,si);e.memoizedProps=e.pendingProps,t===null?Wc(e):nt=t}function R_(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=__(n,t,t.pendingProps,t.type,void 0,ot);break;case 11:t=__(n,t,t.pendingProps,t.type.render,t.ref,ot);break;case 5:$m(t);default:P0(n,t),t=nt=PT(t,si),t=V0(n,t,si)}e.memoizedProps=e.pendingProps,t===null?Wc(e):nt=t}function Is(e,t,n,i){Yn=$r=null,$m(t),xs=null,No=0;var r=t.return;try{if(gI(e,r,t,n,ot)){Mt=1,ic(e,We(n,e.current)),nt=null;return}}catch(s){if(r!==null)throw nt=r,s;Mt=1,ic(e,We(n,e.current)),nt=null;return}t.flags&32768?(ut||i===1?e=!0:ca||ot&536870912?e=!1:(xi=e=!0,(i===2||i===9||i===3||i===6)&&(i=tn.current,i!==null&&i.tag===13&&(i.flags|=16384))),rA(t,e)):Wc(t)}function Wc(e){var t=e;do{if(t.flags&32768){rA(t,xi);return}e=t.return;var n=_I(t.alternate,t,si);if(n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);Mt===0&&(Mt=5)}function rA(e,t){do{var n=vI(e.alternate,e);if(n!==null){n.flags&=32767,nt=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){nt=e;return}nt=e=n}while(e!==null);Mt=6,nt=null}function b_(e,t,n,i,r,s,a,l,u){e.cancelPendingCommit=null;do Zc();while(se!==0);if(dt&6)throw Error(U(327));if(t!==null){if(t===e.current)throw Error(U(177));if(s=t.lanes|t.childLanes,s|=km,s1(e,n,s,a,l,u),e===vt&&(nt=vt=null,ot=0),Xs=t,qi=e,ks=n,Cd=s,Dd=r,W0=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,OI(Fu,function(){return uA(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=Y.T,Y.T=null,r=ct.p,ct.p=2,a=dt,dt|=4;try{EI(e,t,n)}finally{dt=a,ct.p=r,Y.T=i}}se=1,sA(),aA(),oA()}}function sA(){if(se===1){se=0;var e=qi,t=Xs,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=Y.T,Y.T=null;var i=ct.p;ct.p=2;var r=dt;dt|=4;try{F0(t,e);var s=xd,a=bT(e.containerInfo),l=s.focusedElem,u=s.selectionRange;if(a!==l&&l&&l.ownerDocument&&RT(l.ownerDocument.documentElement,l)){if(u!==null&&xm(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var p=l.ownerDocument||document,m=p&&p.defaultView||window;if(m.getSelection){var y=m.getSelection(),b=l.textContent.length,C=Math.min(u.start,b),N=u.end===void 0?C:Math.min(u.end,b);!y.extend&&C>N&&(a=N,N=C,C=a);var E=Qy(l,C),_=Qy(l,N);if(E&&_&&(y.rangeCount!==1||y.anchorNode!==E.node||y.anchorOffset!==E.offset||y.focusNode!==_.node||y.focusOffset!==_.offset)){var S=p.createRange();S.setStart(E.node,E.offset),y.removeAllRanges(),C>N?(y.addRange(S),y.extend(_.node,_.offset)):(S.setEnd(_.node,_.offset),y.addRange(S))}}}}for(p=[],y=l;y=y.parentNode;)y.nodeType===1&&p.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<p.length;l++){var D=p[l];D.element.scrollLeft=D.left,D.element.scrollTop=D.top}}pc=!!Pd,xd=Pd=null}finally{dt=r,ct.p=i,Y.T=n}}e.current=t,se=2}}function aA(){if(se===2){se=0;var e=qi,t=Xs,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=Y.T,Y.T=null;var i=ct.p;ct.p=2;var r=dt;dt|=4;try{z0(e,t.alternate,t)}finally{dt=r,ct.p=i,Y.T=n}}se=3}}function oA(){if(se===4||se===3){se=0,Xb();var e=qi,t=Xs,n=ks,i=W0;t.subtreeFlags&10256||t.flags&10256?se=5:(se=0,Xs=qi=null,lA(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(ji=null),Cm(n),t=t.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Xo,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=Y.T,r=ct.p,ct.p=2,Y.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];s(l.value,{componentStack:l.stack})}}finally{Y.T=t,ct.p=r}}ks&3&&Zc(),Vn(e),r=e.pendingLanes,n&4194090&&r&42?e===Nd?po++:(po=0,Nd=e):po=0,ll(0)}}function lA(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,il(t)))}function Zc(e){return sA(),aA(),oA(),uA()}function uA(){if(se!==5)return!1;var e=qi,t=Cd;Cd=0;var n=Cm(ks),i=Y.T,r=ct.p;try{ct.p=32>n?32:n,Y.T=null,n=Dd,Dd=null;var s=qi,a=ks;if(se=0,Xs=qi=null,ks=0,dt&6)throw Error(U(331));var l=dt;if(dt|=4,$0(s.current),K0(s,s.current,a,n),dt=l,ll(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Xo,s)}catch{}return!0}finally{ct.p=r,Y.T=i,lA(e,t)}}function I_(e,t,n){t=We(n,t),t=Sd(e.stateNode,t,2),e=zi(e,t,2),e!==null&&(Zo(e,2),Vn(e))}function yt(e,t,n){if(e.tag===3)I_(e,e,n);else for(;t!==null;){if(t.tag===3){I_(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ji===null||!ji.has(i))){e=We(n,e),n=b0(2),i=zi(t,n,2),i!==null&&(I0(n,i,t,e),Zo(i,2),Vn(i));break}}t=t.return}}function Rf(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new SI;var r=new Set;i.set(t,r)}else r=i.get(t),r===void 0&&(r=new Set,i.set(t,r));r.has(n)||(ap=!0,r.add(n),e=CI.bind(null,e,t,n),t.then(e,e))}function CI(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,vt===e&&(ot&n)===n&&(Mt===4||Mt===3&&(ot&62914560)===ot&&300>Tn()-lp?!(dt&2)&&Ws(e,0):op|=n,$s===ot&&($s=0)),Vn(e)}function cA(e,t){t===0&&(t=sT()),e=ua(e,t),e!==null&&(Zo(e,t),Vn(e))}function DI(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cA(e,n)}function NI(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(t),cA(e,n)}function OI(e,t){return bm(e,t)}var lc=null,hs=null,Md=!1,uc=!1,bf=!1,Mr=0;function Vn(e){e!==hs&&e.next===null&&(hs===null?lc=hs=e:hs=hs.next=e),uc=!0,Md||(Md=!0,VI())}function ll(e,t){if(!bf&&uc){bf=!0;do for(var n=!1,i=lc;i!==null;){if(e!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,l=i.pingedLanes;s=(1<<31-je(42|e)+1)-1,s&=r&~(a&~l),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,C_(i,s))}else s=ot,s=zc(i,i===vt?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Wo(i,s)||(n=!0,C_(i,s));i=i.next}while(n);bf=!1}}function MI(){hA()}function hA(){uc=Md=!1;var e=0;Mr!==0&&(jI()&&(e=Mr),Mr=0);for(var t=Tn(),n=null,i=lc;i!==null;){var r=i.next,s=fA(i,t);s===0?(i.next=null,n===null?lc=r:n.next=r,r===null&&(hs=n)):(n=i,(e!==0||s&3)&&(uc=!0)),i=r}ll(e)}function fA(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-je(s),l=1<<a,u=r[a];u===-1?(!(l&n)||l&i)&&(r[a]=r1(l,t)):u<=t&&(e.expiredLanes|=l),s&=~l}if(t=vt,n=ot,n=zc(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(ft===2||ft===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Wh(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Wo(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Wh(i),Cm(n)){case 2:case 8:n=nT;break;case 32:n=Fu;break;case 268435456:n=iT;break;default:n=Fu}return i=dA.bind(null,e),n=bm(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Wh(i),e.callbackPriority=2,e.callbackNode=null,2}function dA(e,t){if(se!==0&&se!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Zc()&&e.callbackNode!==n)return null;var i=ot;return i=zc(e,e===vt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(J0(e,i,t),fA(e,Tn()),e.callbackNode!=null&&e.callbackNode===n?dA.bind(null,e):null)}function C_(e,t){if(Zc())return null;J0(e,t,!0)}function VI(){HI(function(){dt&6?bm(eT,MI):hA()})}function cp(){return Mr===0&&(Mr=rT()),Mr}function D_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yu(""+e)}function N_(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function PI(e,t,n,i,r){if(t==="submit"&&n&&n.stateNode===r){var s=D_((r[De]||null).action),a=i.submitter;a&&(t=(t=a[De]||null)?D_(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var l=new jc("action","action",null,i,r);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Mr!==0){var u=a?N_(r,a):new FormData(r);Td(n,{pending:!0,data:u,method:r.method,action:s},null,u)}}else typeof s=="function"&&(l.preventDefault(),u=a?N_(r,a):new FormData(r),Td(n,{pending:!0,data:u,method:r.method,action:s},s,u))},currentTarget:r}]})}}for(var If=0;If<ud.length;If++){var Cf=ud[If],xI=Cf.toLowerCase(),kI=Cf[0].toUpperCase()+Cf.slice(1);dn(xI,"on"+kI)}dn(CT,"onAnimationEnd");dn(DT,"onAnimationIteration");dn(NT,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(J1,"onTransitionRun");dn(tI,"onTransitionStart");dn(eI,"onTransitionCancel");dn(OT,"onTransitionEnd");Hs("onMouseEnter",["mouseout","mouseover"]);Hs("onMouseLeave",["mouseout","mouseover"]);Hs("onPointerEnter",["pointerout","pointerover"]);Hs("onPointerLeave",["pointerout","pointerover"]);Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oo));function mA(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=c;try{s(r)}catch(f){nc(f)}r.currentTarget=null,s=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&r.isPropagationStopped())break t;s=l,r.currentTarget=c;try{s(r)}catch(f){nc(f)}r.currentTarget=null,s=u}}}}function et(e,t){var n=t[nd];n===void 0&&(n=t[nd]=new Set);var i=e+"__bubble";n.has(i)||(pA(t,e,2,!1),n.add(i))}function Df(e,t,n){var i=0;t&&(i|=4),pA(n,e,i,t)}var iu="_reactListening"+Math.random().toString(36).slice(2);function hp(e){if(!e[iu]){e[iu]=!0,uT.forEach(function(n){n!=="selectionchange"&&(UI.has(n)||Df(n,!1,e),Df(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[iu]||(t[iu]=!0,Df("selectionchange",!1,t))}}function pA(e,t,n,i){switch(IA(t)){case 2:var r=cC;break;case 8:r=hC;break;default:r=pp}n=r.bind(null,t,n,e),r=void 0,!ad||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),i?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Nf(e,t,n,i,r){var s=i;if(!(t&1)&&!(t&2)&&i!==null)t:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===r)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;l!==null;){if(a=_s(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=s=a;continue t}l=l.parentNode}}i=i.return}yT(function(){var c=s,f=Om(n),p=[];t:{var m=MT.get(e);if(m!==void 0){var y=jc,b=e;switch(e){case"keypress":if(vu(n)===0)break t;case"keydown":case"keyup":y=O1;break;case"focusin":b="focus",y=af;break;case"focusout":b="blur",y=af;break;case"beforeblur":case"afterblur":y=af;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Uy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=v1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=P1;break;case CT:case DT:case NT:y=A1;break;case OT:y=k1;break;case"scroll":case"scrollend":y=y1;break;case"wheel":y=L1;break;case"copy":case"cut":case"paste":y=w1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=By;break;case"toggle":case"beforetoggle":y=z1}var C=(t&4)!==0,N=!C&&(e==="scroll"||e==="scrollend"),E=C?m!==null?m+"Capture":null:m;C=[];for(var _=c,S;_!==null;){var D=_;if(S=D.stateNode,D=D.tag,D!==5&&D!==26&&D!==27||S===null||E===null||(D=Ro(_,E),D!=null&&C.push(Mo(_,D,S))),N)break;_=_.return}0<C.length&&(m=new y(m,b,null,n,f),p.push({event:m,listeners:C}))}}if(!(t&7)){t:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&n!==sd&&(b=n.relatedTarget||n.fromElement)&&(_s(b)||b[oa]))break t;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(b=n.relatedTarget||n.toElement,y=c,b=b?_s(b):null,b!==null&&(N=$o(b),C=b.tag,b!==N||C!==5&&C!==27&&C!==6)&&(b=null)):(y=null,b=c),y!==b)){if(C=Uy,D="onMouseLeave",E="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(C=By,D="onPointerLeave",E="onPointerEnter",_="pointer"),N=y==null?m:Qa(y),S=b==null?m:Qa(b),m=new C(D,_+"leave",y,n,f),m.target=N,m.relatedTarget=S,D=null,_s(f)===c&&(C=new C(E,_+"enter",b,n,f),C.target=S,C.relatedTarget=N,D=C),N=D,y&&b)e:{for(C=y,E=b,_=0,S=C;S;S=os(S))_++;for(S=0,D=E;D;D=os(D))S++;for(;0<_-S;)C=os(C),_--;for(;0<S-_;)E=os(E),S--;for(;_--;){if(C===E||E!==null&&C===E.alternate)break e;C=os(C),E=os(E)}C=null}else C=null;y!==null&&O_(p,m,y,C,!1),b!==null&&N!==null&&O_(p,N,b,C,!0)}}t:{if(m=c?Qa(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var L=Hy;else if(qy(m))if(ST)L=X1;else{L=Y1;var j=Q1}else y=m.nodeName,!y||y.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?c&&Nm(c.elementType)&&(L=Hy):L=$1;if(L&&(L=L(e,c))){AT(p,L,n,f);break t}j&&j(e,m,c),e==="focusout"&&c&&m.type==="number"&&c.memoizedProps.value!=null&&rd(m,"number",m.value)}switch(j=c?Qa(c):window,e){case"focusin":(qy(j)||j.contentEditable==="true")&&(Ts=j,od=c,ro=null);break;case"focusout":ro=od=Ts=null;break;case"mousedown":ld=!0;break;case"contextmenu":case"mouseup":case"dragend":ld=!1,Yy(p,n,f);break;case"selectionchange":if(Z1)break;case"keydown":case"keyup":Yy(p,n,f)}var A;if(Pm)t:{switch(e){case"compositionstart":var v="onCompositionStart";break t;case"compositionend":v="onCompositionEnd";break t;case"compositionupdate":v="onCompositionUpdate";break t}v=void 0}else Es?ET(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(vT&&n.locale!=="ko"&&(Es||v!=="onCompositionStart"?v==="onCompositionEnd"&&Es&&(A=_T()):(Pi=f,Mm="value"in Pi?Pi.value:Pi.textContent,Es=!0)),j=cc(c,v),0<j.length&&(v=new Ly(v,e,null,n,f),p.push({event:v,listeners:j}),A?v.data=A:(A=TT(n),A!==null&&(v.data=A)))),(A=q1?H1(e,n):F1(e,n))&&(v=cc(c,"onBeforeInput"),0<v.length&&(j=new Ly("onBeforeInput","beforeinput",null,n,f),p.push({event:j,listeners:v}),j.data=A)),PI(p,e,c,n,f)}mA(p,t)})}function Mo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cc(e,t){for(var n=t+"Capture",i=[];e!==null;){var r=e,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=Ro(e,n),r!=null&&i.unshift(Mo(e,r,s)),r=Ro(e,t),r!=null&&i.push(Mo(e,r,s))),e.tag===3)return i;e=e.return}return[]}function os(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function O_(e,t,n,i,r){for(var s=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||c===null||(u=c,r?(c=Ro(n,s),c!=null&&a.unshift(Mo(n,c,u))):r||(c=Ro(n,s),c!=null&&a.push(Mo(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var LI=/\r\n?/g,BI=/\u0000|\uFFFD/g;function M_(e){return(typeof e=="string"?e:""+e).replace(LI,`
`).replace(BI,"")}function gA(e,t){return t=M_(t),M_(e)===t}function Jc(){}function mt(e,t,n,i,r,s){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Fs(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Fs(e,""+i);break;case"className":Xl(e,"class",i);break;case"tabIndex":Xl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Xl(e,n,i);break;case"style":gT(e,i,s);break;case"data":if(t!=="object"){Xl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=yu(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&mt(e,t,"name",r.name,r,null),mt(e,t,"formEncType",r.formEncType,r,null),mt(e,t,"formMethod",r.formMethod,r,null),mt(e,t,"formTarget",r.formTarget,r,null)):(mt(e,t,"encType",r.encType,r,null),mt(e,t,"method",r.method,r,null),mt(e,t,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=yu(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Jc);break;case"onScroll":i!=null&&et("scroll",e);break;case"onScrollEnd":i!=null&&et("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=yu(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":et("beforetoggle",e),et("toggle",e),gu(e,"popover",i);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":gu(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=p1.get(n)||n,gu(e,n,i))}}function Vd(e,t,n,i,r,s){switch(n){case"style":gT(e,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(r.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Fs(e,i):(typeof i=="number"||typeof i=="bigint")&&Fs(e,""+i);break;case"onScroll":i!=null&&et("scroll",e);break;case"onScrollEnd":i!=null&&et("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Jc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cT.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),s=e[De]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r);break t}n in e?e[n]=i:i===!0?e.setAttribute(n,""):gu(e,n,i)}}}function oe(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",e),et("load",e);var i=!1,r=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:mt(e,t,s,a,n,null)}}r&&mt(e,t,"srcSet",n.srcSet,n,null),i&&mt(e,t,"src",n.src,n,null);return;case"input":et("invalid",e);var l=s=a=r=null,u=null,c=null;for(i in n)if(n.hasOwnProperty(i)){var f=n[i];if(f!=null)switch(i){case"name":r=f;break;case"type":a=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(U(137,t));break;default:mt(e,t,i,f,n,null)}}dT(e,s,l,u,c,a,r,!1),Gu(e);return;case"select":et("invalid",e),i=a=s=null;for(r in n)if(n.hasOwnProperty(r)&&(l=n[r],l!=null))switch(r){case"value":s=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:mt(e,t,r,l,n,null)}t=s,n=a,e.multiple=!!i,t!=null?Ns(e,!!i,t,!1):n!=null&&Ns(e,!!i,n,!0);return;case"textarea":et("invalid",e),s=r=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":r=l;break;case"children":s=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:mt(e,t,a,l,n,null)}pT(e,i,r,s),Gu(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:mt(e,t,u,i,n,null)}return;case"dialog":et("beforetoggle",e),et("toggle",e),et("cancel",e),et("close",e);break;case"iframe":case"object":et("load",e);break;case"video":case"audio":for(i=0;i<Oo.length;i++)et(Oo[i],e);break;case"image":et("error",e),et("load",e);break;case"details":et("toggle",e);break;case"embed":case"source":case"link":et("error",e),et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:mt(e,t,c,i,n,null)}return;default:if(Nm(t)){for(f in n)n.hasOwnProperty(f)&&(i=n[f],i!==void 0&&Vd(e,t,f,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&mt(e,t,l,i,n,null))}function zI(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,f=null;for(y in n){var p=n[y];if(n.hasOwnProperty(y)&&p!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":u=p;default:i.hasOwnProperty(y)||mt(e,t,y,null,i,p)}}for(var m in i){var y=i[m];if(p=n[m],i.hasOwnProperty(m)&&(y!=null||p!=null))switch(m){case"type":s=y;break;case"name":r=y;break;case"checked":c=y;break;case"defaultChecked":f=y;break;case"value":a=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(U(137,t));break;default:y!==p&&mt(e,t,m,y,i,p)}}id(e,a,l,u,c,f,s,r);return;case"select":y=a=l=m=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":y=u;default:i.hasOwnProperty(s)||mt(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(s!=null||u!=null))switch(r){case"value":m=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&mt(e,t,r,s,i,u)}t=l,n=a,i=y,m!=null?Ns(e,!!n,m,!1):!!i!=!!n&&(t!=null?Ns(e,!!n,t,!0):Ns(e,!!n,n?[]:"",!1));return;case"textarea":y=m=null;for(l in n)if(r=n[l],n.hasOwnProperty(l)&&r!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:mt(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":y=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(U(91));break;default:r!==s&&mt(e,t,a,r,i,s)}mT(e,m,y);return;case"option":for(var b in n)if(m=n[b],n.hasOwnProperty(b)&&m!=null&&!i.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:mt(e,t,b,null,i,m)}for(u in i)if(m=i[u],y=n[u],i.hasOwnProperty(u)&&m!==y&&(m!=null||y!=null))switch(u){case"selected":e.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:mt(e,t,u,m,i,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var C in n)m=n[C],n.hasOwnProperty(C)&&m!=null&&!i.hasOwnProperty(C)&&mt(e,t,C,null,i,m);for(c in i)if(m=i[c],y=n[c],i.hasOwnProperty(c)&&m!==y&&(m!=null||y!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(U(137,t));break;default:mt(e,t,c,m,i,y)}return;default:if(Nm(t)){for(var N in n)m=n[N],n.hasOwnProperty(N)&&m!==void 0&&!i.hasOwnProperty(N)&&Vd(e,t,N,void 0,i,m);for(f in i)m=i[f],y=n[f],!i.hasOwnProperty(f)||m===y||m===void 0&&y===void 0||Vd(e,t,f,m,i,y);return}}for(var E in n)m=n[E],n.hasOwnProperty(E)&&m!=null&&!i.hasOwnProperty(E)&&mt(e,t,E,null,i,m);for(p in i)m=i[p],y=n[p],!i.hasOwnProperty(p)||m===y||m==null&&y==null||mt(e,t,p,m,i,y)}var Pd=null,xd=null;function hc(e){return e.nodeType===9?e:e.ownerDocument}function V_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yA(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function kd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Of=null;function jI(){var e=window.event;return e&&e.type==="popstate"?e===Of?!1:(Of=e,!0):(Of=null,!1)}var _A=typeof setTimeout=="function"?setTimeout:void 0,qI=typeof clearTimeout=="function"?clearTimeout:void 0,P_=typeof Promise=="function"?Promise:void 0,HI=typeof queueMicrotask=="function"?queueMicrotask:typeof P_<"u"?function(e){return P_.resolve(null).then(e).catch(FI)}:_A;function FI(e){setTimeout(function(){throw e})}function ur(e){return e==="head"}function x_(e,t){var n=t,i=0,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<i&&8>i){n=i;var a=e.ownerDocument;if(n&1&&go(a.documentElement),n&2&&go(a.body),n&4)for(n=a.head,go(n),a=n.firstChild;a;){var l=a.nextSibling,u=a.nodeName;a[Jo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}if(r===0){e.removeChild(s),Uo(t);return}r--}else n==="$"||n==="$?"||n==="$!"?r++:i=n.charCodeAt(0)-48;else i=0;n=s}while(n);Uo(t)}function Ud(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ud(n),Dm(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function GI(e,t,n,i){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[Jo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=ln(e.nextSibling),e===null)break}return null}function KI(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ln(e.nextSibling),e===null))return null;return e}function Ld(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function QI(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Bd=null;function k_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function vA(e,t,n){switch(t=hc(n),e){case"html":if(e=t.documentElement,!e)throw Error(U(452));return e;case"head":if(e=t.head,!e)throw Error(U(453));return e;case"body":if(e=t.body,!e)throw Error(U(454));return e;default:throw Error(U(451))}}function go(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Dm(e)}var en=new Map,U_=new Set;function fc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hi=ct.d;ct.d={f:YI,r:$I,D:XI,C:WI,L:ZI,m:JI,X:eC,S:tC,M:nC};function YI(){var e=hi.f(),t=Xc();return e||t}function $I(e){var t=la(e);t!==null&&t.tag===5&&t.type==="form"?f0(t):hi.r(e)}var ha=typeof document>"u"?null:document;function EA(e,t,n){var i=ha;if(i&&typeof t=="string"&&t){var r=Xe(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),U_.has(r)||(U_.add(r),e={rel:e,crossOrigin:n,href:t},i.querySelector(r)===null&&(t=i.createElement("link"),oe(t,"link",e),Jt(t),i.head.appendChild(t)))}}function XI(e){hi.D(e),EA("dns-prefetch",e,null)}function WI(e,t){hi.C(e,t),EA("preconnect",e,t)}function ZI(e,t,n){hi.L(e,t,n);var i=ha;if(i&&e&&t){var r='link[rel="preload"][as="'+Xe(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Xe(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Xe(n.imageSizes)+'"]')):r+='[href="'+Xe(e)+'"]';var s=r;switch(t){case"style":s=Zs(e);break;case"script":s=fa(e)}en.has(s)||(e=St({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),en.set(s,e),i.querySelector(r)!==null||t==="style"&&i.querySelector(ul(s))||t==="script"&&i.querySelector(cl(s))||(t=i.createElement("link"),oe(t,"link",e),Jt(t),i.head.appendChild(t)))}}function JI(e,t){hi.m(e,t);var n=ha;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Xe(i)+'"][href="'+Xe(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=fa(e)}if(!en.has(s)&&(e=St({rel:"modulepreload",href:e},t),en.set(s,e),n.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(cl(s)))return}i=n.createElement("link"),oe(i,"link",e),Jt(i),n.head.appendChild(i)}}}function tC(e,t,n){hi.S(e,t,n);var i=ha;if(i&&e){var r=Ds(i).hoistableStyles,s=Zs(e);t=t||"default";var a=r.get(s);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(ul(s)))l.loading=5;else{e=St({rel:"stylesheet",href:e,"data-precedence":t},n),(n=en.get(s))&&fp(e,n);var u=a=i.createElement("link");Jt(u),oe(u,"link",e),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,bu(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},r.set(s,a)}}}function eC(e,t){hi.X(e,t);var n=ha;if(n&&e){var i=Ds(n).hoistableScripts,r=fa(e),s=i.get(r);s||(s=n.querySelector(cl(r)),s||(e=St({src:e,async:!0},t),(t=en.get(r))&&dp(e,t),s=n.createElement("script"),Jt(s),oe(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function nC(e,t){hi.M(e,t);var n=ha;if(n&&e){var i=Ds(n).hoistableScripts,r=fa(e),s=i.get(r);s||(s=n.querySelector(cl(r)),s||(e=St({src:e,async:!0,type:"module"},t),(t=en.get(r))&&dp(e,t),s=n.createElement("script"),Jt(s),oe(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function L_(e,t,n,i){var r=(r=Li.current)?fc(r):null;if(!r)throw Error(U(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Zs(n.href),n=Ds(r).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Zs(n.href);var s=Ds(r).hoistableStyles,a=s.get(e);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=r.querySelector(ul(e)))&&!s._p&&(a.instance=s,a.state.loading=5),en.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},en.set(e,n),s||iC(r,e,n,a.state))),t&&i===null)throw Error(U(528,""));return a}if(t&&i!==null)throw Error(U(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=fa(n),n=Ds(r).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,e))}}function Zs(e){return'href="'+Xe(e)+'"'}function ul(e){return'link[rel="stylesheet"]['+e+"]"}function TA(e){return St({},e,{"data-precedence":e.precedence,precedence:null})}function iC(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),oe(t,"link",n),Jt(t),e.head.appendChild(t))}function fa(e){return'[src="'+Xe(e)+'"]'}function cl(e){return"script[async]"+e}function B_(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Xe(n.href)+'"]');if(i)return t.instance=i,Jt(i),i;var r=St({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Jt(i),oe(i,"style",r),bu(i,n.precedence,e),t.instance=i;case"stylesheet":r=Zs(n.href);var s=e.querySelector(ul(r));if(s)return t.state.loading|=4,t.instance=s,Jt(s),s;i=TA(n),(r=en.get(r))&&fp(i,r),s=(e.ownerDocument||e).createElement("link"),Jt(s);var a=s;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),oe(s,"link",i),t.state.loading|=4,bu(s,n.precedence,e),t.instance=s;case"script":return s=fa(n.src),(r=e.querySelector(cl(s)))?(t.instance=r,Jt(r),r):(i=n,(r=en.get(s))&&(i=St({},n),dp(i,r)),e=e.ownerDocument||e,r=e.createElement("script"),Jt(r),oe(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(U(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,bu(i,n.precedence,e));return t.instance}function bu(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)s=l;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function fp(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function dp(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Iu=null;function z_(e,t,n){if(Iu===null){var i=new Map,r=Iu=new Map;r.set(n,i)}else r=Iu,i=r.get(n),i||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Jo]||s[pe]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(s):i.set(a,[s])}}return i}function j_(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function rC(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function AA(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Vo=null;function sC(){}function aC(e,t,n){if(Vo===null)throw Error(U(475));var i=Vo;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var r=Zs(n.href),s=e.querySelector(ul(r));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(i.count++,i=dc.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,Jt(s);return}s=e.ownerDocument||e,n=TA(n),(r=en.get(r))&&fp(n,r),s=s.createElement("link"),Jt(s);var a=s;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),oe(s,"link",n),t.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(i.count++,t=dc.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}function oC(){if(Vo===null)throw Error(U(475));var e=Vo;return e.stylesheets&&e.count===0&&zd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&zd(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function dc(){if(this.count--,this.count===0){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function zd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,t.forEach(lC,e),mc=null,dc.call(e))}function lC(e,t){if(!(t.state.loading&4)){var n=mc.get(e);if(n)var i=n.get(null);else{n=new Map,mc.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}r=t.instance,a=r.getAttribute("data-precedence"),s=n.get(a)||i,s===i&&n.set(null,r),n.set(a,r),this.count++,i=dc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Po={$$typeof:Gn,Provider:null,Consumer:null,_currentValue:br,_currentValue2:br,_threadCount:0};function uC(e,t,n,i,r,s,a,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Zh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zh(0),this.hiddenUpdates=Zh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function SA(e,t,n,i,r,s,a,l,u,c,f,p){return e=new uC(e,t,n,a,l,u,c,p),t=1,s===!0&&(t|=24),s=ke(3,null,null,t),e.current=s,s.stateNode=e,t=jm(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},Hm(s),e}function wA(e){return e?(e=ws,e):ws}function RA(e,t,n,i,r,s){r=wA(r),i.context===null?i.context=r:i.pendingContext=r,i=Bi(t),i.payload={element:n},s=s===void 0?null:s,s!==null&&(i.callback=s),n=zi(e,i,t),n!==null&&(He(n,e,t),oo(n,e,t))}function q_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mp(e,t){q_(e,t),(e=e.alternate)&&q_(e,t)}function bA(e){if(e.tag===13){var t=ua(e,67108864);t!==null&&He(t,e,67108864),mp(e,67108864)}}var pc=!0;function cC(e,t,n,i){var r=Y.T;Y.T=null;var s=ct.p;try{ct.p=2,pp(e,t,n,i)}finally{ct.p=s,Y.T=r}}function hC(e,t,n,i){var r=Y.T;Y.T=null;var s=ct.p;try{ct.p=8,pp(e,t,n,i)}finally{ct.p=s,Y.T=r}}function pp(e,t,n,i){if(pc){var r=jd(i);if(r===null)Nf(e,t,i,gc,n),H_(e,i);else if(dC(r,e,t,n,i))i.stopPropagation();else if(H_(e,i),t&4&&-1<fC.indexOf(e)){for(;r!==null;){var s=la(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Tr(s.pendingLanes);if(a!==0){var l=s;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-je(a);l.entanglements[1]|=u,a&=~u}Vn(s),!(dt&6)&&(ac=Tn()+500,ll(0))}}break;case 13:l=ua(s,2),l!==null&&He(l,s,2),Xc(),mp(s,2)}if(s=jd(i),s===null&&Nf(e,t,i,gc,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else Nf(e,t,i,null,n)}}function jd(e){return e=Om(e),gp(e)}var gc=null;function gp(e){if(gc=null,e=_s(e),e!==null){var t=$o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=WE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return gc=e,null}function IA(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wb()){case eT:return 2;case nT:return 8;case Fu:case Zb:return 32;case iT:return 268435456;default:return 32}default:return 32}}var qd=!1,Hi=null,Fi=null,Gi=null,xo=new Map,ko=new Map,Ii=[],fC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(e,t){switch(e){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Fi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ko.delete(t.pointerId)}}function qa(e,t,n,i,r,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},t!==null&&(t=la(t),t!==null&&bA(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function dC(e,t,n,i,r){switch(t){case"focusin":return Hi=qa(Hi,e,t,n,i,r),!0;case"dragenter":return Fi=qa(Fi,e,t,n,i,r),!0;case"mouseover":return Gi=qa(Gi,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return xo.set(s,qa(xo.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ko.set(s,qa(ko.get(s)||null,e,t,n,i,r)),!0}return!1}function CA(e){var t=_s(e.target);if(t!==null){var n=$o(t);if(n!==null){if(t=n.tag,t===13){if(t=WE(n),t!==null){e.blockedOn=t,a1(e.priority,function(){if(n.tag===13){var i=qe();i=Im(i);var r=ua(n,i);r!==null&&He(r,n,i),mp(n,i)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jd(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);sd=i,n.target.dispatchEvent(i),sd=null}else return t=la(n),t!==null&&bA(t),e.blockedOn=n,!1;t.shift()}return!0}function F_(e,t,n){Cu(e)&&n.delete(t)}function mC(){qd=!1,Hi!==null&&Cu(Hi)&&(Hi=null),Fi!==null&&Cu(Fi)&&(Fi=null),Gi!==null&&Cu(Gi)&&(Gi=null),xo.forEach(F_),ko.forEach(F_)}function ru(e,t){e.blockedOn===t&&(e.blockedOn=null,qd||(qd=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,mC)))}var su=null;function G_(e){su!==e&&(su=e,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,function(){su===e&&(su=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if(typeof i!="function"){if(gp(i||n)===null)continue;break}var s=la(n);s!==null&&(e.splice(t,3),t-=3,Td(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Uo(e){function t(u){return ru(u,e)}Hi!==null&&ru(Hi,e),Fi!==null&&ru(Fi,e),Gi!==null&&ru(Gi,e),xo.forEach(t),ko.forEach(t);for(var n=0;n<Ii.length;n++){var i=Ii[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)CA(n),n.blockedOn===null&&Ii.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[De]||null;if(typeof s=="function")a||G_(n);else if(a){var l=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[De]||null)l=a.formAction;else if(gp(r)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),G_(n)}}}function yp(e){this._internalRoot=e}th.prototype.render=yp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));var n=t.current,i=qe();RA(n,i,e,t,null,null)};th.prototype.unmount=yp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;RA(e.current,2,null,e,null,null),Xc(),t[oa]=null}};function th(e){this._internalRoot=e}th.prototype.unstable_scheduleHydration=function(e){if(e){var t=lT();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ii.length&&t!==0&&t<Ii[n].priority;n++);Ii.splice(n,0,e),n===0&&CA(e)}};var K_=$E.version;if(K_!=="19.1.0")throw Error(U(527,K_,"19.1.0"));ct.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=Fb(t),e=e!==null?ZE(e):null,e=e===null?null:e.stateNode,e};var pC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!au.isDisabled&&au.supportsFiber)try{Xo=au.inject(pC),ze=au}catch{}}Lc.createRoot=function(e,t){if(!XE(e))throw Error(U(299));var n=!1,i="",r=S0,s=w0,a=R0,l=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks)),t=SA(e,1,!1,null,null,n,i,r,s,a,l,null),e[oa]=t.current,hp(e),new yp(t)};Lc.hydrateRoot=function(e,t,n){if(!XE(e))throw Error(U(299));var i=!1,r="",s=S0,a=w0,l=R0,u=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=SA(e,1,!0,t,n??null,i,r,s,a,l,u,c),t.context=wA(null),n=t.current,i=qe(),i=Im(i),r=Bi(i),r.callback=null,zi(n,r,i),n=i,t.current.lanes=n,Zo(t,n),Vn(t),e[oa]=t.current,hp(e),new th(t)};Lc.version="19.1.0";function DA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(DA)}catch(e){console.error(e)}}DA(),HE.exports=Lc;var gC=HE.exports;const yC=VE(gC);/**
 * react-router v7.7.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Q_="popstate";function _C(e={}){function t(i,r){let{pathname:s,search:a,hash:l}=i.location;return Hd("",{pathname:s,search:a,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:Lo(r)}return EC(t,n,null,e)}function Ct(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vC(){return Math.random().toString(36).substring(2,10)}function Y_(e,t){return{usr:e.state,key:e.key,idx:t}}function Hd(e,t,n=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?da(t):t,state:n,key:t&&t.key||i||vC()}}function Lo({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function da(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function EC(e,t,n,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,l="POP",u=null,c=f();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function f(){return(a.state||{idx:null}).idx}function p(){l="POP";let N=f(),E=N==null?null:N-c;c=N,u&&u({action:l,location:C.location,delta:E})}function m(N,E){l="PUSH";let _=Hd(C.location,N,E);c=f()+1;let S=Y_(_,c),D=C.createHref(_);try{a.pushState(S,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;r.location.assign(D)}s&&u&&u({action:l,location:C.location,delta:1})}function y(N,E){l="REPLACE";let _=Hd(C.location,N,E);c=f();let S=Y_(_,c),D=C.createHref(_);a.replaceState(S,"",D),s&&u&&u({action:l,location:C.location,delta:0})}function b(N){return TC(N)}let C={get action(){return l},get location(){return e(r,a)},listen(N){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(Q_,p),u=N,()=>{r.removeEventListener(Q_,p),u=null}},createHref(N){return t(r,N)},createURL:b,encodeLocation(N){let E=b(N);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:y,go(N){return a.go(N)}};return C}function TC(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ct(n,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Lo(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function NA(e,t,n="/"){return AC(e,t,n,!1)}function AC(e,t,n,i){let r=typeof t=="string"?da(t):t,s=ai(r.pathname||"/",n);if(s==null)return null;let a=OA(e);SC(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let c=PC(s);l=MC(a[u],c,i)}return l}function OA(e,t=[],n=[],i=""){let r=(s,a,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Ct(u.relativePath.startsWith(i),`Absolute route path "${u.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(i.length));let c=ti([i,u.relativePath]),f=n.concat(u);s.children&&s.children.length>0&&(Ct(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),OA(s.children,t,f,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:NC(c,s.index),routesMeta:f})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))r(s,a);else for(let u of MA(s.path))r(s,a,u)}),t}function MA(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=MA(i.join("/")),l=[];return l.push(...a.map(u=>u===""?s:[s,u].join("/"))),r&&l.push(...a),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function SC(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:OC(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var wC=/^:[\w-]+$/,RC=3,bC=2,IC=1,CC=10,DC=-2,$_=e=>e==="*";function NC(e,t){let n=e.split("/"),i=n.length;return n.some($_)&&(i+=DC),t&&(i+=bC),n.filter(r=>!$_(r)).reduce((r,s)=>r+(wC.test(s)?RC:s===""?IC:CC),i)}function OC(e,t){return e.length===t.length&&e.slice(0,-1).every((i,r)=>i===t[r])?e[e.length-1]-t[t.length-1]:0}function MC(e,t,n=!1){let{routesMeta:i}=e,r={},s="/",a=[];for(let l=0;l<i.length;++l){let u=i[l],c=l===i.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=yc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!p&&c&&n&&!i[i.length-1].route.index&&(p=yc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(r,p.params),a.push({params:r,pathname:ti([s,p.pathname]),pathnameBase:LC(ti([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=ti([s,p.pathnameBase]))}return a}function yc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=VC(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:i.reduce((c,{paramName:f,isOptional:p},m)=>{if(f==="*"){let b=l[m]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const y=l[m];return p&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function VC(e,t=!1,n=!0){Nn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(i.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function PC(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ai(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function xC(e,t="/"){let{pathname:n,search:i="",hash:r=""}=typeof e=="string"?da(e):e;return{pathname:n?n.startsWith("/")?n:kC(n,t):t,search:BC(i),hash:zC(r)}}function kC(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Mf(e,t,n,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function UC(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function VA(e){let t=UC(e);return t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase)}function PA(e,t,n,i=!1){let r;typeof e=="string"?r=da(e):(r={...e},Ct(!r.pathname||!r.pathname.includes("?"),Mf("?","pathname","search",r)),Ct(!r.pathname||!r.pathname.includes("#"),Mf("#","pathname","hash",r)),Ct(!r.search||!r.search.includes("#"),Mf("#","search","hash",r)));let s=e===""||r.pathname==="",a=s?"/":r.pathname,l;if(a==null)l=n;else{let p=t.length-1;if(!i&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;r.pathname=m.join("/")}l=p>=0?t[p]:"/"}let u=xC(r,l),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var ti=e=>e.join("/").replace(/\/\/+/g,"/"),LC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zC=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jC(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var xA=["POST","PUT","PATCH","DELETE"];new Set(xA);var qC=["GET",...xA];new Set(qC);var ma=P.createContext(null);ma.displayName="DataRouter";var eh=P.createContext(null);eh.displayName="DataRouterState";P.createContext(!1);var kA=P.createContext({isTransitioning:!1});kA.displayName="ViewTransition";var HC=P.createContext(new Map);HC.displayName="Fetchers";var FC=P.createContext(null);FC.displayName="Await";var Pn=P.createContext(null);Pn.displayName="Navigation";var hl=P.createContext(null);hl.displayName="Location";var fi=P.createContext({outlet:null,matches:[],isDataRoute:!1});fi.displayName="Route";var _p=P.createContext(null);_p.displayName="RouteError";function GC(e,{relative:t}={}){Ct(fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=P.useContext(Pn),{hash:r,pathname:s,search:a}=dl(e,{relative:t}),l=s;return n!=="/"&&(l=s==="/"?n:ti([n,s])),i.createHref({pathname:l,search:a,hash:r})}function fl(){return P.useContext(hl)!=null}function Xr(){return Ct(fl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(hl).location}var UA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LA(e){P.useContext(Pn).static||P.useLayoutEffect(e)}function KC(){let{isDataRoute:e}=P.useContext(fi);return e?sD():QC()}function QC(){Ct(fl(),"useNavigate() may be used only in the context of a <Router> component.");let e=P.useContext(ma),{basename:t,navigator:n}=P.useContext(Pn),{matches:i}=P.useContext(fi),{pathname:r}=Xr(),s=JSON.stringify(VA(i)),a=P.useRef(!1);return LA(()=>{a.current=!0}),P.useCallback((u,c={})=>{if(Nn(a.current,UA),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=PA(u,JSON.parse(s),r,c.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:ti([t,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[t,n,s,r,e])}P.createContext(null);function dl(e,{relative:t}={}){let{matches:n}=P.useContext(fi),{pathname:i}=Xr(),r=JSON.stringify(VA(n));return P.useMemo(()=>PA(e,JSON.parse(r),i,t==="path"),[e,r,i,t])}function YC(e,t){return BA(e,t)}function BA(e,t,n,i){var E;Ct(fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=P.useContext(Pn),{matches:s}=P.useContext(fi),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",c=a?a.pathnameBase:"/",f=a&&a.route;{let _=f&&f.path||"";zA(u,!f||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let p=Xr(),m;if(t){let _=typeof t=="string"?da(t):t;Ct(c==="/"||((E=_.pathname)==null?void 0:E.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${_.pathname}" was given in the \`location\` prop.`),m=_}else m=p;let y=m.pathname||"/",b=y;if(c!=="/"){let _=c.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let C=NA(e,{pathname:b});Nn(f||C!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Nn(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=JC(C&&C.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:ti([c,r.encodeLocation?r.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:ti([c,r.encodeLocation?r.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,i);return t&&N?P.createElement(hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},N):N}function $C(){let e=rD(),t=jC(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:s},"ErrorBoundary")," or"," ",P.createElement("code",{style:s},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),n?P.createElement("pre",{style:r},n):null,a)}var XC=P.createElement($C,null),WC=class extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?P.createElement(fi.Provider,{value:this.props.routeContext},P.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZC({routeContext:e,match:t,children:n}){let i=P.useContext(ma);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(fi.Provider,{value:e},n)}function JC(e,t=[],n=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let r=e,s=n==null?void 0:n.errors;if(s!=null){let u=r.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Ct(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),r=r.slice(0,Math.min(r.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<r.length;u++){let c=r[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:f,errors:p}=n,m=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||m){a=!0,l>=0?r=r.slice(0,l+1):r=[r[0]];break}}}return r.reduceRight((u,c,f)=>{let p,m=!1,y=null,b=null;n&&(p=s&&c.route.id?s[c.route.id]:void 0,y=c.route.errorElement||XC,a&&(l<0&&f===0?(zA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,b=null):l===f&&(m=!0,b=c.route.hydrateFallbackElement||null)));let C=t.concat(r.slice(0,f+1)),N=()=>{let E;return p?E=y:m?E=b:c.route.Component?E=P.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=u,P.createElement(ZC,{match:c,routeContext:{outlet:u,matches:C,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?P.createElement(WC,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:N(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):N()},null)}function vp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tD(e){let t=P.useContext(ma);return Ct(t,vp(e)),t}function eD(e){let t=P.useContext(eh);return Ct(t,vp(e)),t}function nD(e){let t=P.useContext(fi);return Ct(t,vp(e)),t}function Ep(e){let t=nD(e),n=t.matches[t.matches.length-1];return Ct(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function iD(){return Ep("useRouteId")}function rD(){var i;let e=P.useContext(_p),t=eD("useRouteError"),n=Ep("useRouteError");return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function sD(){let{router:e}=tD("useNavigate"),t=Ep("useNavigate"),n=P.useRef(!1);return LA(()=>{n.current=!0}),P.useCallback(async(r,s={})=>{Nn(n.current,UA),n.current&&(typeof r=="number"?e.navigate(r):await e.navigate(r,{fromRouteId:t,...s}))},[e,t])}var X_={};function zA(e,t,n){!t&&!X_[e]&&(X_[e]=!0,Nn(!1,n))}P.memo(aD);function aD({routes:e,future:t,state:n}){return BA(e,void 0,n,t)}function Hn(e){Ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oD({basename:e="/",children:t=null,location:n,navigationType:i="POP",navigator:r,static:s=!1}){Ct(!fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=e.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:a,navigator:r,static:s,future:{}}),[a,r,s]);typeof n=="string"&&(n=da(n));let{pathname:u="/",search:c="",hash:f="",state:p=null,key:m="default"}=n,y=P.useMemo(()=>{let b=ai(u,a);return b==null?null:{location:{pathname:b,search:c,hash:f,state:p,key:m},navigationType:i}},[a,u,c,f,p,m,i]);return Nn(y!=null,`<Router basename="${a}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:P.createElement(Pn.Provider,{value:l},P.createElement(hl.Provider,{children:t,value:y}))}function lD({children:e,location:t}){return YC(Fd(e),t)}function Fd(e,t=[]){let n=[];return P.Children.forEach(e,(i,r)=>{if(!P.isValidElement(i))return;let s=[...t,r];if(i.type===P.Fragment){n.push.apply(n,Fd(i.props.children,s));return}Ct(i.type===Hn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=Fd(i.props.children,s)),n.push(a)}),n}var Du="get",Nu="application/x-www-form-urlencoded";function nh(e){return e!=null&&typeof e.tagName=="string"}function uD(e){return nh(e)&&e.tagName.toLowerCase()==="button"}function cD(e){return nh(e)&&e.tagName.toLowerCase()==="form"}function hD(e){return nh(e)&&e.tagName.toLowerCase()==="input"}function fD(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function dD(e,t){return e.button===0&&(!t||t==="_self")&&!fD(e)}var ou=null;function mD(){if(ou===null)try{new FormData(document.createElement("form"),0),ou=!1}catch{ou=!0}return ou}var pD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Vf(e){return e!=null&&!pD.has(e)?(Nn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nu}"`),null):e}function gD(e,t){let n,i,r,s,a;if(cD(e)){let l=e.getAttribute("action");i=l?ai(l,t):null,n=e.getAttribute("method")||Du,r=Vf(e.getAttribute("enctype"))||Nu,s=new FormData(e)}else if(uD(e)||hD(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(i=u?ai(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Du,r=Vf(e.getAttribute("formenctype"))||Vf(l.getAttribute("enctype"))||Nu,s=new FormData(l,e),!mD()){let{name:c,type:f,value:p}=e;if(f==="image"){let m=c?`${c}.`:"";s.append(`${m}x`,"0"),s.append(`${m}y`,"0")}else c&&s.append(c,p)}}else{if(nh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Du,i=null,r=Nu,a=e}return s&&r==="text/plain"&&(a=s,s=void 0),{action:i,method:n.toLowerCase(),encType:r,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yD(e,t,n){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${n}`:t&&ai(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function _D(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vD(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function ED(e,t,n){let i=await Promise.all(e.map(async r=>{let s=t.routes[r.route.id];if(s){let a=await _D(s,n);return a.links?a.links():[]}return[]}));return wD(i.flat(1).filter(vD).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function W_(e,t,n,i,r,s){let a=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return s==="assets"?t.filter((u,c)=>a(u,c)||l(u,c)):s==="data"?t.filter((u,c)=>{var p;let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(a(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function TD(e,t,{includeHydrateFallback:n}={}){return AD(e.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function AD(e){return[...new Set(e)]}function SD(e){let t={},n=Object.keys(e).sort();for(let i of n)t[i]=e[i];return t}function wD(e,t){let n=new Set;return new Set(t),e.reduce((i,r)=>{let s=JSON.stringify(SD(r));return n.has(s)||(n.add(s),i.push({key:s,link:r})),i},[])}function jA(){let e=P.useContext(ma);return Tp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function RD(){let e=P.useContext(eh);return Tp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Ap=P.createContext(void 0);Ap.displayName="FrameworkContext";function qA(){let e=P.useContext(Ap);return Tp(e,"You must render this element inside a <HydratedRouter> element"),e}function bD(e,t){let n=P.useContext(Ap),[i,r]=P.useState(!1),[s,a]=P.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:p}=t,m=P.useRef(null);P.useEffect(()=>{if(e==="render"&&a(!0),e==="viewport"){let C=E=>{E.forEach(_=>{a(_.isIntersecting)})},N=new IntersectionObserver(C,{threshold:.5});return m.current&&N.observe(m.current),()=>{N.disconnect()}}},[e]),P.useEffect(()=>{if(i){let C=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(C)}}},[i]);let y=()=>{r(!0)},b=()=>{r(!1),a(!1)};return n?e!=="intent"?[s,m,{}]:[s,m,{onFocus:Ha(l,y),onBlur:Ha(u,b),onMouseEnter:Ha(c,y),onMouseLeave:Ha(f,b),onTouchStart:Ha(p,y)}]:[!1,m,{}]}function Ha(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ID({page:e,...t}){let{router:n}=jA(),i=P.useMemo(()=>NA(n.routes,e,n.basename),[n.routes,e,n.basename]);return i?P.createElement(DD,{page:e,matches:i,...t}):null}function CD(e){let{manifest:t,routeModules:n}=qA(),[i,r]=P.useState([]);return P.useEffect(()=>{let s=!1;return ED(e,t,n).then(a=>{s||r(a)}),()=>{s=!0}},[e,t,n]),i}function DD({page:e,matches:t,...n}){let i=Xr(),{manifest:r,routeModules:s}=qA(),{basename:a}=jA(),{loaderData:l,matches:u}=RD(),c=P.useMemo(()=>W_(e,t,u,r,i,"data"),[e,t,u,r,i]),f=P.useMemo(()=>W_(e,t,u,r,i,"assets"),[e,t,u,r,i]),p=P.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let b=new Set,C=!1;if(t.forEach(E=>{var S;let _=r.routes[E.route.id];!_||!_.hasLoader||(!c.some(D=>D.route.id===E.route.id)&&E.route.id in l&&((S=s[E.route.id])!=null&&S.shouldRevalidate)||_.hasClientLoader?C=!0:b.add(E.route.id))}),b.size===0)return[];let N=yD(e,a,"data");return C&&b.size>0&&N.searchParams.set("_routes",t.filter(E=>b.has(E.route.id)).map(E=>E.route.id).join(",")),[N.pathname+N.search]},[a,l,i,r,c,t,e,s]),m=P.useMemo(()=>TD(f,r),[f,r]),y=CD(f);return P.createElement(P.Fragment,null,p.map(b=>P.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),m.map(b=>P.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),y.map(({key:b,link:C})=>P.createElement("link",{key:b,...C})))}function ND(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var HA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{HA&&(window.__reactRouterVersion="7.7.0")}catch{}function OD({basename:e,children:t,window:n}){let i=P.useRef();i.current==null&&(i.current=_C({window:n,v5Compat:!0}));let r=i.current,[s,a]=P.useState({action:r.action,location:r.location}),l=P.useCallback(u=>{P.startTransition(()=>a(u))},[a]);return P.useLayoutEffect(()=>r.listen(l),[r,l]),P.createElement(oD,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:r})}var FA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GA=P.forwardRef(function({onClick:t,discover:n="render",prefetch:i="none",relative:r,reloadDocument:s,replace:a,state:l,target:u,to:c,preventScrollReset:f,viewTransition:p,...m},y){let{basename:b}=P.useContext(Pn),C=typeof c=="string"&&FA.test(c),N,E=!1;if(typeof c=="string"&&C&&(N=c,HA))try{let T=new URL(window.location.href),w=c.startsWith("//")?new URL(T.protocol+c):new URL(c),I=ai(w.pathname,b);w.origin===T.origin&&I!=null?c=I+w.search+w.hash:E=!0}catch{Nn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=GC(c,{relative:r}),[S,D,L]=bD(i,m),j=xD(c,{replace:a,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:p});function A(T){t&&t(T),T.defaultPrevented||j(T)}let v=P.createElement("a",{...m,...L,href:N||_,onClick:E||s?t:A,ref:ND(y,D),target:u,"data-discover":!C&&n==="render"?"true":void 0});return S&&!C?P.createElement(P.Fragment,null,v,P.createElement(ID,{page:_})):v});GA.displayName="Link";var MD=P.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:i="",end:r=!1,style:s,to:a,viewTransition:l,children:u,...c},f){let p=dl(a,{relative:c.relative}),m=Xr(),y=P.useContext(eh),{navigator:b,basename:C}=P.useContext(Pn),N=y!=null&&zD(p)&&l===!0,E=b.encodeLocation?b.encodeLocation(p).pathname:p.pathname,_=m.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),S=S?S.toLowerCase():null,E=E.toLowerCase()),S&&C&&(S=ai(S,C)||S);const D=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let L=_===E||!r&&_.startsWith(E)&&_.charAt(D)==="/",j=S!=null&&(S===E||!r&&S.startsWith(E)&&S.charAt(E.length)==="/"),A={isActive:L,isPending:j,isTransitioning:N},v=L?t:void 0,T;typeof i=="function"?T=i(A):T=[i,L?"active":null,j?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let w=typeof s=="function"?s(A):s;return P.createElement(GA,{...c,"aria-current":v,className:T,ref:f,style:w,to:a,viewTransition:l},typeof u=="function"?u(A):u)});MD.displayName="NavLink";var VD=P.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:i,replace:r,state:s,method:a=Du,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:p,...m},y)=>{let b=LD(),C=BD(l,{relative:c}),N=a.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&FA.test(l),_=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let D=S.nativeEvent.submitter,L=(D==null?void 0:D.getAttribute("formmethod"))||a;b(D||S.currentTarget,{fetcherKey:t,method:L,navigate:n,replace:r,state:s,relative:c,preventScrollReset:f,viewTransition:p})};return P.createElement("form",{ref:y,method:N,action:C,onSubmit:i?u:_,...m,"data-discover":!E&&e==="render"?"true":void 0})});VD.displayName="Form";function PD(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KA(e){let t=P.useContext(ma);return Ct(t,PD(e)),t}function xD(e,{target:t,replace:n,state:i,preventScrollReset:r,relative:s,viewTransition:a}={}){let l=KC(),u=Xr(),c=dl(e,{relative:s});return P.useCallback(f=>{if(dD(f,t)){f.preventDefault();let p=n!==void 0?n:Lo(u)===Lo(c);l(e,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:a})}},[u,l,c,n,i,t,e,r,s,a])}var kD=0,UD=()=>`__${String(++kD)}__`;function LD(){let{router:e}=KA("useSubmit"),{basename:t}=P.useContext(Pn),n=iD();return P.useCallback(async(i,r={})=>{let{action:s,method:a,encType:l,formData:u,body:c}=gD(i,t);if(r.navigate===!1){let f=r.fetcherKey||UD();await e.fetch(f,n,r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||a,formEncType:r.encType||l,flushSync:r.flushSync})}else await e.navigate(r.action||s,{preventScrollReset:r.preventScrollReset,formData:u,body:c,formMethod:r.method||a,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[e,t,n])}function BD(e,{relative:t}={}){let{basename:n}=P.useContext(Pn),i=P.useContext(fi);Ct(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...dl(e||".",{relative:t})},a=Xr();if(e==null){s.search=a.search;let l=new URLSearchParams(s.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();s.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:ti([n,s.pathname])),Lo(s)}function zD(e,t={}){let n=P.useContext(kA);Ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=KA("useViewTransitionState"),r=dl(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=ai(n.currentLocation.pathname,i)||n.currentLocation.pathname,a=ai(n.nextLocation.pathname,i)||n.nextLocation.pathname;return yc(r.pathname,a)!=null||yc(r.pathname,s)!=null}const jD=()=>{};var Z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},qD=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],a=e[n++],l=e[n++],u=((r&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return t.join("")},YA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const s=e[r],a=r+1<e.length,l=a?e[r+1]:0,u=r+2<e.length,c=u?e[r+2]:0,f=s>>2,p=(s&3)<<4|l>>4;let m=(l&15)<<2|c>>6,y=c&63;u||(y=64,a||(m=64)),i.push(n[f],n[p],n[m],n[y])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(QA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):qD(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],l=r<e.length?n[e.charAt(r)]:0;++r;const c=r<e.length?n[e.charAt(r)]:64;++r;const p=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||l==null||c==null||p==null)throw new HD;const m=s<<2|l>>4;if(i.push(m),c!==64){const y=l<<4&240|c>>2;if(i.push(y),p!==64){const b=c<<6&192|p;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class HD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FD=function(e){const t=QA(e);return YA.encodeByteArray(t,!0)},_c=function(e){return FD(e).replace(/\./g,"")},$A=function(e){try{return YA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=()=>GD().__FIREBASE_DEFAULTS__,QD=()=>{if(typeof process>"u"||typeof Z_>"u")return;const e=Z_.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},YD=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&$A(e[1]);return t&&JSON.parse(t)},ih=()=>{try{return jD()||KD()||QD()||YD()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},XA=e=>{var t,n;return(n=(t=ih())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},WA=e=>{const t=XA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},ZA=()=>{var e;return(e=ih())==null?void 0:e.config},JA=e=>{var t;return(t=ih())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sp(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",r=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[_c(JSON.stringify(n)),_c(JSON.stringify(a)),""].join(".")}const yo={};function XD(){const e={prod:[],emulator:[]};for(const t of Object.keys(yo))yo[t]?e.emulator.push(t):e.prod.push(t);return e}function WD(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let J_=!1;function wp(e,t){if(typeof window>"u"||typeof document>"u"||!cr(window.location.host)||yo[e]===t||yo[e]||J_)return;yo[e]=t;function n(m){return`__firebase__banner__${m}`}const i="__firebase__banner",s=XD().prod.length>0;function a(){const m=document.getElementById(i);m&&m.remove()}function l(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{J_=!0,a()},m}function f(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=WD(i),y=n("text"),b=document.getElementById(y)||document.createElement("span"),C=n("learnmore"),N=document.getElementById(C)||document.createElement("a"),E=n("preprendIcon"),_=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const S=m.element;l(S),f(N,C);const D=c();u(_,E),S.append(_,b,N,D),document.body.appendChild(S)}s?(b.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ZD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ye())}function JD(){var t;const e=(t=ih())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function t2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function e2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function n2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function i2(){const e=ye();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function r2(){return!JD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s2(){try{return typeof indexedDB=="object"}catch{return!1}}function a2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="FirebaseError";class xn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=o2,Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ml.prototype.create)}}class ml{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],a=s?l2(s,i):"Error",l=`${this.serviceName}: ${a} (${r}).`;return new xn(r,l,i)}}function l2(e,t){return e.replace(u2,(n,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const u2=/\{\$([^}]+)}/g;function c2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function tr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const s=e[r],a=t[r];if(tv(s)&&tv(a)){if(!tr(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function tv(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function $a(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function Xa(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function h2(e,t){const n=new f2(e,t);return n.subscribe.bind(n)}class f2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");d2(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=Pf),r.error===void 0&&(r.error=Pf),r.complete===void 0&&(r.complete=Pf);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function d2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Pf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(e){return e&&e._delegate?e._delegate:e}class er{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new $D;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(g2(t))try{this.getOrInitializeService({instanceIdentifier:wr})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(t=wr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wr){return this.instances.has(t)}getOptions(t=wr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);i===l&&a.resolve(r)}return r}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&t(s,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:p2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=wr){return this.component?this.component.multipleInstances?t:wr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p2(e){return e===wr?void 0:e}function g2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new m2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(it||(it={}));const _2={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},v2=it.INFO,E2={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},T2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),r=E2[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rp{constructor(t){this.name=t,this._logLevel=v2,this._logHandler=T2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in it))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?_2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...t),this._logHandler(this,it.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...t),this._logHandler(this,it.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,it.INFO,...t),this._logHandler(this,it.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,it.WARN,...t),this._logHandler(this,it.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...t),this._logHandler(this,it.ERROR,...t)}}const A2=(e,t)=>t.some(n=>e instanceof n);let ev,nv;function S2(){return ev||(ev=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w2(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eS=new WeakMap,Gd=new WeakMap,nS=new WeakMap,xf=new WeakMap,bp=new WeakMap;function R2(e){const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Ki(e.result)),r()},a=()=>{i(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&eS.set(n,e)}).catch(()=>{}),bp.set(t,e),t}function b2(e){if(Gd.has(e))return;const t=new Promise((n,i)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),r()},a=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});Gd.set(e,t)}let Kd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Gd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||nS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ki(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function I2(e){Kd=e(Kd)}function C2(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(kf(this),t,...n);return nS.set(i,t.sort?t.sort():[t]),Ki(i)}:w2().includes(e)?function(...t){return e.apply(kf(this),t),Ki(eS.get(this))}:function(...t){return Ki(e.apply(kf(this),t))}}function D2(e){return typeof e=="function"?C2(e):(e instanceof IDBTransaction&&b2(e),A2(e,S2())?new Proxy(e,Kd):e)}function Ki(e){if(e instanceof IDBRequest)return R2(e);if(xf.has(e))return xf.get(e);const t=D2(e);return t!==e&&(xf.set(e,t),bp.set(t,e)),t}const kf=e=>bp.get(e);function N2(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),l=Ki(a);return i&&a.addEventListener("upgradeneeded",u=>{i(Ki(a.result),u.oldVersion,u.newVersion,Ki(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),r&&u.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const O2=["get","getKey","getAll","getAllKeys","count"],M2=["put","add","delete","clear"],Uf=new Map;function iv(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Uf.get(t))return Uf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=M2.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||O2.includes(n)))return;const s=async function(a,...l){const u=this.transaction(a,r?"readwrite":"readonly");let c=u.store;return i&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),r&&u.done]))[0]};return Uf.set(t,s),s}I2(e=>({...e,get:(t,n,i)=>iv(t,n)||e.get(t,n,i),has:(t,n)=>!!iv(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(P2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function P2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Qd="@firebase/app",rv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Rp("@firebase/app"),x2="@firebase/app-compat",k2="@firebase/analytics-compat",U2="@firebase/analytics",L2="@firebase/app-check-compat",B2="@firebase/app-check",z2="@firebase/auth",j2="@firebase/auth-compat",q2="@firebase/database",H2="@firebase/data-connect",F2="@firebase/database-compat",G2="@firebase/functions",K2="@firebase/functions-compat",Q2="@firebase/installations",Y2="@firebase/installations-compat",$2="@firebase/messaging",X2="@firebase/messaging-compat",W2="@firebase/performance",Z2="@firebase/performance-compat",J2="@firebase/remote-config",tN="@firebase/remote-config-compat",eN="@firebase/storage",nN="@firebase/storage-compat",iN="@firebase/firestore",rN="@firebase/ai",sN="@firebase/firestore-compat",aN="firebase",oN="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="[DEFAULT]",lN={[Qd]:"fire-core",[x2]:"fire-core-compat",[U2]:"fire-analytics",[k2]:"fire-analytics-compat",[B2]:"fire-app-check",[L2]:"fire-app-check-compat",[z2]:"fire-auth",[j2]:"fire-auth-compat",[q2]:"fire-rtdb",[H2]:"fire-data-connect",[F2]:"fire-rtdb-compat",[G2]:"fire-fn",[K2]:"fire-fn-compat",[Q2]:"fire-iid",[Y2]:"fire-iid-compat",[$2]:"fire-fcm",[X2]:"fire-fcm-compat",[W2]:"fire-perf",[Z2]:"fire-perf-compat",[J2]:"fire-rc",[tN]:"fire-rc-compat",[eN]:"fire-gcs",[nN]:"fire-gcs-compat",[iN]:"fire-fst",[sN]:"fire-fst-compat",[rN]:"fire-vertex","fire-js":"fire-js",[aN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Map,uN=new Map,$d=new Map;function sv(e,t){try{e.container.addComponent(t)}catch(n){oi.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Br(e){const t=e.name;if($d.has(t))return oi.debug(`There were multiple attempts to register component ${t}.`),!1;$d.set(t,e);for(const n of vc.values())sv(n,e);for(const n of uN.values())sv(n,e);return!0}function rh(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Ue(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qi=new ml("app","Firebase",cN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new er("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=oN;function iS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:Yd,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Qi.create("bad-app-name",{appName:String(r)});if(n||(n=ZA()),!n)throw Qi.create("no-options");const s=vc.get(r);if(s){if(tr(n,s.options)&&tr(i,s.config))return s;throw Qi.create("duplicate-app",{appName:r})}const a=new y2(r);for(const u of $d.values())a.addComponent(u);const l=new hN(n,i,a);return vc.set(r,l),l}function Ip(e=Yd){const t=vc.get(e);if(!t&&e===Yd&&ZA())return iS();if(!t)throw Qi.create("no-app",{appName:e});return t}function Sn(e,t,n){let i=lN[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${t}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),oi.warn(a.join(" "));return}Br(new er(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="firebase-heartbeat-database",dN=1,Bo="firebase-heartbeat-store";let Lf=null;function rS(){return Lf||(Lf=N2(fN,dN,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Bo)}catch(n){console.warn(n)}}}}).catch(e=>{throw Qi.create("idb-open",{originalErrorMessage:e.message})})),Lf}async function mN(e){try{const n=(await rS()).transaction(Bo),i=await n.objectStore(Bo).get(sS(e));return await n.done,i}catch(t){if(t instanceof xn)oi.warn(t.message);else{const n=Qi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});oi.warn(n.message)}}}async function av(e,t){try{const i=(await rS()).transaction(Bo,"readwrite");await i.objectStore(Bo).put(t,sS(e)),await i.done}catch(n){if(n instanceof xn)oi.warn(n.message);else{const i=Qi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oi.warn(i.message)}}}function sS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=1024,gN=30;class yN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ov();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>gN){const a=EN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){oi.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ov(),{heartbeatsToSend:i,unsentEntries:r}=_N(this._heartbeatsCache.heartbeats),s=_c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return oi.warn(n),""}}}function ov(){return new Date().toISOString().substring(0,10)}function _N(e,t=pN){const n=[];let i=e.slice();for(const r of e){const s=n.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),lv(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),lv(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class vN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s2()?a2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return av(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function lv(e){return _c(JSON.stringify({version:2,heartbeats:e})).length}function EN(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(e){Br(new er("platform-logger",t=>new V2(t),"PRIVATE")),Br(new er("heartbeat",t=>new yN(t),"PRIVATE")),Sn(Qd,rv,e),Sn(Qd,rv,"esm2020"),Sn("fire-js","")}TN("");var AN="firebase",SN="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sn(AN,SN,"app");function aS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wN=aS,oS=new ml("auth","Firebase",aS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Rp("@firebase/auth");function RN(e,...t){Ec.logLevel<=it.WARN&&Ec.warn(`Auth (${Wr}): ${e}`,...t)}function Ou(e,...t){Ec.logLevel<=it.ERROR&&Ec.error(`Auth (${Wr}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(e,...t){throw Cp(e,...t)}function wn(e,...t){return Cp(e,...t)}function lS(e,t,n){const i={...wN(),[t]:n};return new ml("auth","Firebase",i).create(t,{appName:e.name})}function ei(e){return lS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Cp(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return oS.create(e,...t)}function K(e,t,...n){if(!e)throw Cp(t,...n)}function Xn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ou(t),new Error(t)}function li(e,t){e||Xn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function bN(){return uv()==="http:"||uv()==="https:"}function uv(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bN()||e2()||"connection"in navigator)?navigator.onLine:!0}function CN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t,n){this.shortDelay=t,this.longDelay=n,li(n>t,"Short delay should be less than long delay!"),this.isMobile=ZD()||n2()}get(){return IN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(e,t){li(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ON=new gl(3e4,6e4);function di(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function mi(e,t,n,i,r={}){return cS(e,r,async()=>{let s={},a={};i&&(t==="GET"?a=i:s={body:JSON.stringify(i)});const l=pl({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:u,...s};return t2()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&cr(e.emulatorConfig.host)&&(c.credentials="include"),uS.fetch()(await hS(e,e.config.apiHost,n,l),c)})}async function cS(e,t,n){e._canInitEmulator=!1;const i={...DN,...t};try{const r=new VN(e),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw lu(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw lu(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw lu(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw lu(e,"user-disabled",a);const f=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw lS(e,f,c);hn(e,f)}}catch(r){if(r instanceof xn)throw r;hn(e,"network-request-failed",{message:String(r)})}}async function yl(e,t,n,i,r={}){const s=await mi(e,t,n,i,r);return"mfaPendingCredential"in s&&hn(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function hS(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?Dp(e.config,r):`${e.config.apiScheme}://${r}`;return NN.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function MN(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(wn(this.auth,"network-request-failed")),ON.get())})}}function lu(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=wn(e,t,i);return r.customData._tokenResponse=n,r}function cv(e){return e!==void 0&&e.enterprise!==void 0}class PN{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return MN(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xN(e,t){return mi(e,"GET","/v2/recaptchaConfig",di(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(e,t){return mi(e,"POST","/v1/accounts:delete",t)}async function Tc(e,t){return mi(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _o(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function UN(e,t=!1){const n=Pt(e),i=await n.getIdToken(t),r=Np(i);K(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:_o(Bf(r.auth_time)),issuedAtTime:_o(Bf(r.iat)),expirationTime:_o(Bf(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Bf(e){return Number(e)*1e3}function Np(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const r=$A(n);return r?JSON.parse(r):(Ou("Failed to decode base64 JWT payload"),null)}catch(r){return Ou("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function hv(e){const t=Np(e);return K(t,"internal-error"),K(typeof t.exp<"u","internal-error"),K(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof xn&&LN(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function LN({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_o(this.lastLoginAt),this.creationTime=_o(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(e){var p;const t=e.auth,n=await e.getIdToken(),i=await zo(e,Tc(t,{idToken:n}));K(i==null?void 0:i.users.length,t,"internal-error");const r=i.users[0];e._notifyReloadListener(r);const s=(p=r.providerUserInfo)!=null&&p.length?fS(r.providerUserInfo):[],a=jN(e.providerData,s),l=e.isAnonymous,u=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Wd(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,f)}async function zN(e){const t=Pt(e);await Ac(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jN(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function fS(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN(e,t){const n=await cS(e,{},async()=>{const i=pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=await hS(e,r,"/v1/token",`key=${s}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&cr(e.emulatorConfig.host)&&(u.credentials="include"),uS.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function HN(e,t){return mi(e,"POST","/v2/accounts:revokeToken",di(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){K(t.idToken,"internal-error"),K(typeof t.idToken<"u","internal-error"),K(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):hv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){K(t.length!==0,"internal-error");const n=hv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await qN(t,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,a=new Us;return i&&(K(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),r&&(K(typeof r=="string","internal-error",{appName:t}),a.accessToken=r),s&&(K(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Us,this.toJSON())}_performRefresh(){return Xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(e,t){K(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class on{constructor({uid:t,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new BN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Wd(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await zo(this,this.stsTokenManager.getToken(this.auth,t));return K(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return UN(this,t)}reload(){return zN(this)}_assign(t){this!==t&&(K(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new on({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await Ac(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ue(this.auth.app))return Promise.reject(ei(this.auth));const t=await this.getIdToken();return await zo(this,kN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,r=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:y,providerData:b,stsTokenManager:C}=n;K(p&&C,t,"internal-error");const N=Us.fromJSON(this.name,C);K(typeof p=="string",t,"internal-error"),Ei(i,t.name),Ei(r,t.name),K(typeof m=="boolean",t,"internal-error"),K(typeof y=="boolean",t,"internal-error"),Ei(s,t.name),Ei(a,t.name),Ei(l,t.name),Ei(u,t.name),Ei(c,t.name),Ei(f,t.name);const E=new on({uid:p,auth:t,email:r,emailVerified:m,displayName:i,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:N,createdAt:c,lastLoginAt:f});return b&&Array.isArray(b)&&(E.providerData=b.map(_=>({..._}))),u&&(E._redirectEventId=u),E}static async _fromIdTokenResponse(t,n,i=!1){const r=new Us;r.updateFromServerResponse(n);const s=new on({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Ac(s),s}static async _fromGetAccountInfoResponse(t,n,i){const r=n.users[0];K(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?fS(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),l=new Us;l.updateFromIdToken(i);const u=new on({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Wd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;function Wn(e){li(e instanceof Function,"Expected a class definition");let t=fv.get(e);return t?(li(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fv.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}dS.type="NONE";const dv=dS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(e,t,n){return`firebase:${e}:${t}:${n}`}class Ls{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=Mu(this.userKey,r.apiKey,s),this.fullPersistenceKey=Mu("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Tc(this.auth,{idToken:t}).catch(()=>{});return n?on._fromGetAccountInfoResponse(this.auth,n,t):null}return on._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ls(Wn(dv),t,i);const r=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=r[0]||Wn(dv);const a=Mu(i,t.config.apiKey,t.name);let l=null;for(const c of n)try{const f=await c._get(a);if(f){let p;if(typeof f=="string"){const m=await Tc(t,{idToken:f}).catch(()=>{});if(!m)break;p=await on._fromGetAccountInfoResponse(t,m,f)}else p=on._fromJSON(t,f);c!==s&&(l=p),s=c;break}}catch{}const u=r.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Ls(s,t,i):(s=u[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Ls(s,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vS(t))return"Blackberry";if(ES(t))return"Webos";if(pS(t))return"Safari";if((t.includes("chrome/")||gS(t))&&!t.includes("edge/"))return"Chrome";if(_S(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function mS(e=ye()){return/firefox\//i.test(e)}function pS(e=ye()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gS(e=ye()){return/crios\//i.test(e)}function yS(e=ye()){return/iemobile/i.test(e)}function _S(e=ye()){return/android/i.test(e)}function vS(e=ye()){return/blackberry/i.test(e)}function ES(e=ye()){return/webos/i.test(e)}function Op(e=ye()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function FN(e=ye()){var t;return Op(e)&&!!((t=window.navigator)!=null&&t.standalone)}function GN(){return i2()&&document.documentMode===10}function TS(e=ye()){return Op(e)||_S(e)||ES(e)||vS(e)||/windows phone/i.test(e)||yS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(e,t=[]){let n;switch(e){case"Browser":n=mv(ye());break;case"Worker":n=`${mv(ye())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wr}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=s=>new Promise((a,l)=>{try{const u=t(s);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(e,t={}){return mi(e,"GET","/v2/passwordPolicy",di(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=6;class $N{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??YN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pv(this),this.idTokenSubscription=new pv(this),this.beforeStateQueue=new KN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await Ls.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Tc(this,{idToken:t}),i=await on._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(Ue(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Ac(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=CN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ue(this.app))return Promise.reject(ei(this));const n=t?Pt(t):null;return n&&K(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&K(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ue(this.app)?Promise.reject(ei(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ue(this.app)?Promise.reject(ei(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QN(this),n=new $N(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ml("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await HN(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Wn(t)||this._popupRedirectResolver;K(n,this,"argument-error"),this.redirectPersistenceManager=await Ls.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,r);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=AS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(Ue(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&RN(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function hr(e){return Pt(e)}class pv{constructor(t){this.auth=t,this.observer=null,this.addObserver=h2(n=>this.observer=n)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WN(e){sh=e}function SS(e){return sh.loadJS(e)}function ZN(){return sh.recaptchaEnterpriseScript}function JN(){return sh.gapiScript}function tO(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class eO{constructor(){this.enterprise=new nO}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class nO{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const iO="recaptcha-enterprise",wS="NO_RECAPTCHA";class rO{constructor(t){this.type=iO,this.auth=hr(t)}async verify(t="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{xN(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new PN(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,a(c.siteKey)}}).catch(u=>{l(u)})})}function r(s,a,l){const u=window.grecaptcha;cv(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:t}).then(c=>{a(c)}).catch(()=>{a(wS)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eO().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(l=>{if(!n&&cv(window.grecaptcha))r(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let u=ZN();u.length!==0&&(u+=l),SS(u).then(()=>{r(l,s,a)}).catch(c=>{a(c)})}}).catch(l=>{a(l)})})}}async function gv(e,t,n,i=!1,r=!1){const s=new rO(e);let a;if(r)a=wS;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const u=l.phoneEnrollmentInfo.phoneNumber,c=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const u=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return i?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Sc(e,t,n,i,r){var s;if((s=e._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await gv(e,t,n,n==="getOobCode");return i(e,a)}else return i(e,t).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await gv(e,t,n,n==="getOobCode");return i(e,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(e,t){const n=rh(e,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(tr(s,t??{}))return r;hn(r,"already-initialized")}return n.initialize({options:t})}function aO(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Wn);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function oO(e,t,n){const i=hr(e);K(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,s=RS(t),{host:a,port:l}=lO(t),u=l===null?"":`:${l}`,c={url:`${s}//${a}${u}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){K(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),K(tr(c,i.config.emulator)&&tr(f,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=c,i.emulatorConfig=f,i.settings.appVerificationDisabledForTesting=!0,cr(a)?(Sp(`${s}//${a}${u}`),wp("Auth",!0)):uO()}function RS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function lO(e){const t=RS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:yv(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:yv(a)}}}function yv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function uO(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Xn("not implemented")}_getIdTokenResponse(t){return Xn("not implemented")}_linkToIdToken(t,n){return Xn("not implemented")}_getReauthenticationResolver(t){return Xn("not implemented")}}async function cO(e,t){return mi(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(e,t){return yl(e,"POST","/v1/accounts:signInWithPassword",di(e,t))}async function bS(e,t){return mi(e,"POST","/v1/accounts:sendOobCode",di(e,t))}async function fO(e,t){return bS(e,t)}async function dO(e,t){return bS(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(e,t){return yl(e,"POST","/v1/accounts:signInWithEmailLink",di(e,t))}async function pO(e,t){return yl(e,"POST","/v1/accounts:signInWithEmailLink",di(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo extends Mp{constructor(t,n,i,r=null){super("password",i),this._email=t,this._password=n,this._tenantId=r}static _fromEmailAndPassword(t,n){return new jo(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new jo(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sc(t,n,"signInWithPassword",hO);case"emailLink":return mO(t,{email:this._email,oobCode:this._password});default:hn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sc(t,i,"signUpPassword",cO);case"emailLink":return pO(t,{idToken:n,email:this._email,oobCode:this._password});default:hn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bs(e,t){return yl(e,"POST","/v1/accounts:signInWithIdp",di(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="http://localhost";class zr extends Mp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...s}=n;if(!i||!r)return null;const a=new zr(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Bs(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Bs(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Bs(t,n)}buildRequest(){const t={requestUri:gO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=pl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _O(e){const t=$a(Xa(e)).link,n=t?$a(Xa(t)).deep_link_id:null,i=$a(Xa(e)).deep_link_id;return(i?$a(Xa(i)).link:null)||i||n||t||e}class Vp{constructor(t){const n=$a(Xa(t)),i=n.apiKey??null,r=n.oobCode??null,s=yO(n.mode??null);K(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=_O(t);try{return new Vp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.providerId=pa.PROVIDER_ID}static credential(t,n){return jo._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=Vp.parseLink(n);return K(i,"argument-error"),jo._fromEmailAndCode(t,i.code,i.tenantId)}}pa.PROVIDER_ID="password";pa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends IS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends _l{constructor(){super("facebook.com")}static credential(t){return zr._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ci.credentialFromTaggedObject(t)}static credentialFromError(t){return Ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ci.credential(t.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends _l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return zr._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Di.credentialFromTaggedObject(t)}static credentialFromError(t){return Di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Di.credential(n,i)}catch{return null}}}Di.GOOGLE_SIGN_IN_METHOD="google.com";Di.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends _l{constructor(){super("github.com")}static credential(t){return zr._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ni.credentialFromTaggedObject(t)}static credentialFromError(t){return Ni.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ni.credential(t.oauthAccessToken)}catch{return null}}}Ni.GITHUB_SIGN_IN_METHOD="github.com";Ni.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends _l{constructor(){super("twitter.com")}static credential(t,n){return zr._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Oi.credentialFromTaggedObject(t)}static credentialFromError(t){return Oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Oi.credential(n,i)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(e,t){return yl(e,"POST","/v1/accounts:signUp",di(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,r=!1){const s=await on._fromIdTokenResponse(t,i,r),a=_v(i);return new jr({user:s,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const r=_v(i);return new jr({user:t,providerId:r,_tokenResponse:i,operationType:n})}}function _v(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends xn{constructor(t,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,wc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new wc(t,n,i,r)}}function CS(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wc._fromErrorAndOperation(e,s,t,i):s})}async function EO(e,t,n=!1){const i=await zo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return jr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(e,t,n=!1){const{auth:i}=e;if(Ue(i.app))return Promise.reject(ei(i));const r="reauthenticate";try{const s=await zo(e,CS(i,r,t,e),n);K(s.idToken,i,"internal-error");const a=Np(s.idToken);K(a,i,"internal-error");const{sub:l}=a;return K(e.uid===l,i,"user-mismatch"),jr._forOperation(e,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(e,t,n=!1){if(Ue(e.app))return Promise.reject(ei(e));const i="signIn",r=await CS(e,i,t),s=await jr._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function AO(e,t){return DS(hr(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(e){const t=hr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function SO(e,t,n){const i=hr(e);await Sc(i,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",dO)}async function wO(e,t,n){if(Ue(e.app))return Promise.reject(ei(e));const i=hr(e),a=await Sc(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",vO).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&NS(e),u}),l=await jr._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function RO(e,t,n){return Ue(e.app)?Promise.reject(ei(e)):AO(Pt(e),pa.credential(t,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&NS(e),i})}async function bO(e,t){const n=Pt(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()},{email:s}=await fO(n.auth,r);s!==e.email&&await e.reload()}function IO(e,t,n,i){return Pt(e).onIdTokenChanged(t,n,i)}function CO(e,t,n){return Pt(e).beforeAuthStateChanged(t,n)}const Rc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rc,"1"),this.storage.removeItem(Rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=1e3,NO=10;class MS extends OS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&t(n,r,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);GN()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,NO):r()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},DO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}MS.type="LOCAL";const OO=MS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS extends OS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}VS.type="SESSION";const PS=VS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;const i=new ah(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:r,data:s}=n.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const l=Array.from(a).map(async c=>c(n.origin,s)),u=await MO(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((l,u)=>{const c=Pp("",20);r.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(m.data.response);break;default:clearTimeout(f),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return window}function PO(e){Rn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}async function xO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kO(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function UO(){return xS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firebaseLocalStorageDb",LO=1,bc="firebaseLocalStorage",US="fbase_key";class vl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function oh(e,t){return e.transaction([bc],t?"readwrite":"readonly").objectStore(bc)}function BO(){const e=indexedDB.deleteDatabase(kS);return new vl(e).toPromise()}function Zd(){const e=indexedDB.open(kS,LO);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(bc,{keyPath:US})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(bc)?t(i):(i.close(),await BO(),t(await Zd()))})})}async function vv(e,t,n){const i=oh(e,!0).put({[US]:t,value:n});return new vl(i).toPromise()}async function zO(e,t){const n=oh(e,!1).get(t),i=await new vl(n).toPromise();return i===void 0?null:i.value}function Ev(e,t){const n=oh(e,!0).delete(t);return new vl(n).toPromise()}const jO=800,qO=3;class LS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>qO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(UO()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await xO(),!this.activeServiceWorker)return;this.sender=new VO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||kO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Zd();return await vv(t,Rc,"1"),await Ev(t,Rc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>vv(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>zO(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ev(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const s=oh(r,!1).getAll();return new vl(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:s}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LS.type="LOCAL";const HO=LS;new gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(e,t){return t?Wn(t):(K(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp extends Mp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Bs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Bs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Bs(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function GO(e){return DS(e.auth,new xp(e),e.bypassAuthState)}function KO(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),TO(n,new xp(e),e.bypassAuthState)}async function QO(e){const{auth:t,user:n}=e;return K(n,t,"internal-error"),EO(n,new xp(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,n,i,r,s=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return GO;case"linkViaPopup":case"linkViaRedirect":return QO;case"reauthViaPopup":case"reauthViaRedirect":return KO;default:hn(this.auth,"internal-error")}}resolve(t){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new gl(2e3,1e4);class Cs extends BS{constructor(t,n,i,r,s){super(t,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,Cs.currentPopupAction&&Cs.currentPopupAction.cancel(),Cs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return K(t,this.auth,"internal-error"),t}async onExecution(){li(this.filter.length===1,"Popup operations only handle one event");const t=Pp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(wn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(wn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,YO.get())};t()}}Cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O="pendingRedirect",Vu=new Map;class XO extends BS{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Vu.get(this.auth._key());if(!t){try{const i=await WO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Vu.set(this.auth._key(),t)}return this.bypassAuthState||Vu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WO(e,t){const n=tM(t),i=JO(e);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function ZO(e,t){Vu.set(e._key(),t)}function JO(e){return Wn(e._redirectPersistence)}function tM(e){return Mu($O,e.config.apiKey,e.name)}async function eM(e,t,n=!1){if(Ue(e.app))return Promise.reject(ei(e));const i=hr(e),r=FO(i,t),a=await new XO(i,r,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM=10*60*1e3;class iM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rM(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!zS(t)){const r=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(wn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tv(t))}saveEventToCache(t){this.cachedEventUids.add(Tv(t)),this.lastProcessedEventTime=Date.now()}}function Tv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function zS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function rM(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(e,t={}){return mi(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oM=/^https?/;async function lM(e){if(e.config.emulator)return;const{authorizedDomains:t}=await sM(e);for(const n of t)try{if(uM(n))return}catch{}hn(e,"unauthorized-domain")}function uM(e){const t=Xd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!oM.test(n))return!1;if(aM.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new gl(3e4,6e4);function Av(){const e=Rn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function hM(e){return new Promise((t,n)=>{var r,s,a;function i(){Av(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Av(),n(wn(e,"network-request-failed"))},timeout:cM.get()})}if((s=(r=Rn().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((a=Rn().gapi)!=null&&a.load)i();else{const l=tO("iframefcb");return Rn()[l]=()=>{gapi.load?i():n(wn(e,"network-request-failed"))},SS(`${JN()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Pu=null,t})}let Pu=null;function fM(e){return Pu=Pu||hM(e),Pu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new gl(5e3,15e3),mM="__/auth/iframe",pM="emulator/auth/iframe",gM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _M(e){const t=e.config;K(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Dp(t,pM):`https://${e.config.authDomain}/${mM}`,i={apiKey:t.apiKey,appName:e.name,v:Wr},r=yM.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${pl(i).slice(1)}`}async function vM(e){const t=await fM(e),n=Rn().gapi;return K(n,e,"internal-error"),t.open({where:document.body,url:_M(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gM,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=wn(e,"network-request-failed"),l=Rn().setTimeout(()=>{s(a)},dM.get());function u(){Rn().clearTimeout(l),r(i)}i.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TM=500,AM=600,SM="_blank",wM="http://localhost";class Sv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RM(e,t,n,i=TM,r=AM){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...EM,width:i.toString(),height:r.toString(),top:s,left:a},c=ye().toLowerCase();n&&(l=gS(c)?SM:n),mS(c)&&(t=t||wM,u.scrollbars="yes");const f=Object.entries(u).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(FN(c)&&l!=="_self")return bM(t||"",l),new Sv(null);const p=window.open(t||"",l,f);K(p,e,"popup-blocked");try{p.focus()}catch{}return new Sv(p)}function bM(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM="__/auth/handler",CM="emulator/auth/handler",DM=encodeURIComponent("fac");async function wv(e,t,n,i,r,s){K(e.config.authDomain,e,"auth-domain-config-required"),K(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Wr,eventId:r};if(t instanceof IS){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",c2(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,p]of Object.entries({}))a[f]=p}if(t instanceof _l){const f=t.getScopes().filter(p=>p!=="");f.length>0&&(a.scopes=f.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await e._getAppCheckToken(),c=u?`#${DM}=${encodeURIComponent(u)}`:"";return`${NM(e)}?${pl(l).slice(1)}${c}`}function NM({config:e}){return e.emulator?Dp(e,CM):`https://${e.authDomain}/${IM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf="webStorageSupport";class OM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PS,this._completeRedirectFn=eM,this._overrideRedirectResult=ZO}async _openPopup(t,n,i,r){var a;li((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await wv(t,n,i,Xd(),r);return RM(t,s,Pp())}async _openRedirect(t,n,i,r){await this._originValidation(t);const s=await wv(t,n,i,Xd(),r);return PO(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(li(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await vM(t),i=new iM(t);return n.register("authEvent",r=>(K(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(zf,{type:zf},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[zf];s!==void 0&&n(!!s),hn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lM(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return TS()||pS()||Op()}}const MM=OM;var Rv="@firebase/auth",bv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xM(e){Br(new er("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;K(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AS(e)},c=new XN(i,r,s,u);return aO(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Br(new er("auth-internal",t=>{const n=hr(t.getProvider("auth").getImmediate());return(i=>new VM(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Sn(Rv,bv,PM(e)),Sn(Rv,bv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=5*60,UM=JA("authIdTokenMaxAge")||kM;let Iv=null;const LM=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>UM)return;const r=n==null?void 0:n.token;Iv!==r&&(Iv=r,await fetch(e,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function BM(e=Ip()){const t=rh(e,"auth");if(t.isInitialized())return t.getImmediate();const n=sO(e,{popupRedirectResolver:MM,persistence:[HO,OO,PS]}),i=JA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=LM(s.toString());CO(n,a,()=>a(n.currentUser)),IO(n,l=>a(l))}}const r=XA("auth");return r&&oO(n,`http://${r}`),n}function zM(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}WN({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{const s=wn("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",zM().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xM("Browser");var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,jS;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,v){function T(){}T.prototype=v.prototype,A.D=v.prototype,A.prototype=new T,A.prototype.constructor=A,A.C=function(w,I,O){for(var R=Array(arguments.length-2),rn=2;rn<arguments.length;rn++)R[rn-2]=arguments[rn];return v.prototype[I].apply(w,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(A,v,T){T||(T=0);var w=Array(16);if(typeof v=="string")for(var I=0;16>I;++I)w[I]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(I=0;16>I;++I)w[I]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=A.g[0],T=A.g[1],I=A.g[2];var O=A.g[3],R=v+(O^T&(I^O))+w[0]+3614090360&4294967295;v=T+(R<<7&4294967295|R>>>25),R=O+(I^v&(T^I))+w[1]+3905402710&4294967295,O=v+(R<<12&4294967295|R>>>20),R=I+(T^O&(v^T))+w[2]+606105819&4294967295,I=O+(R<<17&4294967295|R>>>15),R=T+(v^I&(O^v))+w[3]+3250441966&4294967295,T=I+(R<<22&4294967295|R>>>10),R=v+(O^T&(I^O))+w[4]+4118548399&4294967295,v=T+(R<<7&4294967295|R>>>25),R=O+(I^v&(T^I))+w[5]+1200080426&4294967295,O=v+(R<<12&4294967295|R>>>20),R=I+(T^O&(v^T))+w[6]+2821735955&4294967295,I=O+(R<<17&4294967295|R>>>15),R=T+(v^I&(O^v))+w[7]+4249261313&4294967295,T=I+(R<<22&4294967295|R>>>10),R=v+(O^T&(I^O))+w[8]+1770035416&4294967295,v=T+(R<<7&4294967295|R>>>25),R=O+(I^v&(T^I))+w[9]+2336552879&4294967295,O=v+(R<<12&4294967295|R>>>20),R=I+(T^O&(v^T))+w[10]+4294925233&4294967295,I=O+(R<<17&4294967295|R>>>15),R=T+(v^I&(O^v))+w[11]+2304563134&4294967295,T=I+(R<<22&4294967295|R>>>10),R=v+(O^T&(I^O))+w[12]+1804603682&4294967295,v=T+(R<<7&4294967295|R>>>25),R=O+(I^v&(T^I))+w[13]+4254626195&4294967295,O=v+(R<<12&4294967295|R>>>20),R=I+(T^O&(v^T))+w[14]+2792965006&4294967295,I=O+(R<<17&4294967295|R>>>15),R=T+(v^I&(O^v))+w[15]+1236535329&4294967295,T=I+(R<<22&4294967295|R>>>10),R=v+(I^O&(T^I))+w[1]+4129170786&4294967295,v=T+(R<<5&4294967295|R>>>27),R=O+(T^I&(v^T))+w[6]+3225465664&4294967295,O=v+(R<<9&4294967295|R>>>23),R=I+(v^T&(O^v))+w[11]+643717713&4294967295,I=O+(R<<14&4294967295|R>>>18),R=T+(O^v&(I^O))+w[0]+3921069994&4294967295,T=I+(R<<20&4294967295|R>>>12),R=v+(I^O&(T^I))+w[5]+3593408605&4294967295,v=T+(R<<5&4294967295|R>>>27),R=O+(T^I&(v^T))+w[10]+38016083&4294967295,O=v+(R<<9&4294967295|R>>>23),R=I+(v^T&(O^v))+w[15]+3634488961&4294967295,I=O+(R<<14&4294967295|R>>>18),R=T+(O^v&(I^O))+w[4]+3889429448&4294967295,T=I+(R<<20&4294967295|R>>>12),R=v+(I^O&(T^I))+w[9]+568446438&4294967295,v=T+(R<<5&4294967295|R>>>27),R=O+(T^I&(v^T))+w[14]+3275163606&4294967295,O=v+(R<<9&4294967295|R>>>23),R=I+(v^T&(O^v))+w[3]+4107603335&4294967295,I=O+(R<<14&4294967295|R>>>18),R=T+(O^v&(I^O))+w[8]+1163531501&4294967295,T=I+(R<<20&4294967295|R>>>12),R=v+(I^O&(T^I))+w[13]+2850285829&4294967295,v=T+(R<<5&4294967295|R>>>27),R=O+(T^I&(v^T))+w[2]+4243563512&4294967295,O=v+(R<<9&4294967295|R>>>23),R=I+(v^T&(O^v))+w[7]+1735328473&4294967295,I=O+(R<<14&4294967295|R>>>18),R=T+(O^v&(I^O))+w[12]+2368359562&4294967295,T=I+(R<<20&4294967295|R>>>12),R=v+(T^I^O)+w[5]+4294588738&4294967295,v=T+(R<<4&4294967295|R>>>28),R=O+(v^T^I)+w[8]+2272392833&4294967295,O=v+(R<<11&4294967295|R>>>21),R=I+(O^v^T)+w[11]+1839030562&4294967295,I=O+(R<<16&4294967295|R>>>16),R=T+(I^O^v)+w[14]+4259657740&4294967295,T=I+(R<<23&4294967295|R>>>9),R=v+(T^I^O)+w[1]+2763975236&4294967295,v=T+(R<<4&4294967295|R>>>28),R=O+(v^T^I)+w[4]+1272893353&4294967295,O=v+(R<<11&4294967295|R>>>21),R=I+(O^v^T)+w[7]+4139469664&4294967295,I=O+(R<<16&4294967295|R>>>16),R=T+(I^O^v)+w[10]+3200236656&4294967295,T=I+(R<<23&4294967295|R>>>9),R=v+(T^I^O)+w[13]+681279174&4294967295,v=T+(R<<4&4294967295|R>>>28),R=O+(v^T^I)+w[0]+3936430074&4294967295,O=v+(R<<11&4294967295|R>>>21),R=I+(O^v^T)+w[3]+3572445317&4294967295,I=O+(R<<16&4294967295|R>>>16),R=T+(I^O^v)+w[6]+76029189&4294967295,T=I+(R<<23&4294967295|R>>>9),R=v+(T^I^O)+w[9]+3654602809&4294967295,v=T+(R<<4&4294967295|R>>>28),R=O+(v^T^I)+w[12]+3873151461&4294967295,O=v+(R<<11&4294967295|R>>>21),R=I+(O^v^T)+w[15]+530742520&4294967295,I=O+(R<<16&4294967295|R>>>16),R=T+(I^O^v)+w[2]+3299628645&4294967295,T=I+(R<<23&4294967295|R>>>9),R=v+(I^(T|~O))+w[0]+4096336452&4294967295,v=T+(R<<6&4294967295|R>>>26),R=O+(T^(v|~I))+w[7]+1126891415&4294967295,O=v+(R<<10&4294967295|R>>>22),R=I+(v^(O|~T))+w[14]+2878612391&4294967295,I=O+(R<<15&4294967295|R>>>17),R=T+(O^(I|~v))+w[5]+4237533241&4294967295,T=I+(R<<21&4294967295|R>>>11),R=v+(I^(T|~O))+w[12]+1700485571&4294967295,v=T+(R<<6&4294967295|R>>>26),R=O+(T^(v|~I))+w[3]+2399980690&4294967295,O=v+(R<<10&4294967295|R>>>22),R=I+(v^(O|~T))+w[10]+4293915773&4294967295,I=O+(R<<15&4294967295|R>>>17),R=T+(O^(I|~v))+w[1]+2240044497&4294967295,T=I+(R<<21&4294967295|R>>>11),R=v+(I^(T|~O))+w[8]+1873313359&4294967295,v=T+(R<<6&4294967295|R>>>26),R=O+(T^(v|~I))+w[15]+4264355552&4294967295,O=v+(R<<10&4294967295|R>>>22),R=I+(v^(O|~T))+w[6]+2734768916&4294967295,I=O+(R<<15&4294967295|R>>>17),R=T+(O^(I|~v))+w[13]+1309151649&4294967295,T=I+(R<<21&4294967295|R>>>11),R=v+(I^(T|~O))+w[4]+4149444226&4294967295,v=T+(R<<6&4294967295|R>>>26),R=O+(T^(v|~I))+w[11]+3174756917&4294967295,O=v+(R<<10&4294967295|R>>>22),R=I+(v^(O|~T))+w[2]+718787259&4294967295,I=O+(R<<15&4294967295|R>>>17),R=T+(O^(I|~v))+w[9]+3951481745&4294967295,A.g[0]=A.g[0]+v&4294967295,A.g[1]=A.g[1]+(I+(R<<21&4294967295|R>>>11))&4294967295,A.g[2]=A.g[2]+I&4294967295,A.g[3]=A.g[3]+O&4294967295}i.prototype.u=function(A,v){v===void 0&&(v=A.length);for(var T=v-this.blockSize,w=this.B,I=this.h,O=0;O<v;){if(I==0)for(;O<=T;)r(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<v;)if(w[I++]=A.charCodeAt(O++),I==this.blockSize){r(this,w),I=0;break}}else for(;O<v;)if(w[I++]=A[O++],I==this.blockSize){r(this,w),I=0;break}}this.h=I,this.o+=v},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var v=1;v<A.length-8;++v)A[v]=0;var T=8*this.o;for(v=A.length-8;v<A.length;++v)A[v]=T&255,T/=256;for(this.u(A),A=Array(16),v=T=0;4>v;++v)for(var w=0;32>w;w+=8)A[T++]=this.g[v]>>>w&255;return A};function s(A,v){var T=l;return Object.prototype.hasOwnProperty.call(T,A)?T[A]:T[A]=v(A)}function a(A,v){this.h=v;for(var T=[],w=!0,I=A.length-1;0<=I;I--){var O=A[I]|0;w&&O==v||(T[I]=O,w=!1)}this.g=T}var l={};function u(A){return-128<=A&&128>A?s(A,function(v){return new a([v|0],0>v?-1:0)}):new a([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return p;if(0>A)return N(c(-A));for(var v=[],T=1,w=0;A>=T;w++)v[w]=A/T|0,T*=4294967296;return new a(v,0)}function f(A,v){if(A.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(A.charAt(0)=="-")return N(f(A.substring(1),v));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(v,8)),w=p,I=0;I<A.length;I+=8){var O=Math.min(8,A.length-I),R=parseInt(A.substring(I,I+O),v);8>O?(O=c(Math.pow(v,O)),w=w.j(O).add(c(R))):(w=w.j(T),w=w.add(c(R)))}return w}var p=u(0),m=u(1),y=u(16777216);e=a.prototype,e.m=function(){if(C(this))return-N(this).m();for(var A=0,v=1,T=0;T<this.g.length;T++){var w=this.i(T);A+=(0<=w?w:4294967296+w)*v,v*=4294967296}return A},e.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b(this))return"0";if(C(this))return"-"+N(this).toString(A);for(var v=c(Math.pow(A,6)),T=this,w="";;){var I=D(T,v).g;T=E(T,I.j(v));var O=((0<T.g.length?T.g[0]:T.h)>>>0).toString(A);if(T=I,b(T))return O+w;for(;6>O.length;)O="0"+O;w=O+w}},e.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function b(A){if(A.h!=0)return!1;for(var v=0;v<A.g.length;v++)if(A.g[v]!=0)return!1;return!0}function C(A){return A.h==-1}e.l=function(A){return A=E(this,A),C(A)?-1:b(A)?0:1};function N(A){for(var v=A.g.length,T=[],w=0;w<v;w++)T[w]=~A.g[w];return new a(T,~A.h).add(m)}e.abs=function(){return C(this)?N(this):this},e.add=function(A){for(var v=Math.max(this.g.length,A.g.length),T=[],w=0,I=0;I<=v;I++){var O=w+(this.i(I)&65535)+(A.i(I)&65535),R=(O>>>16)+(this.i(I)>>>16)+(A.i(I)>>>16);w=R>>>16,O&=65535,R&=65535,T[I]=R<<16|O}return new a(T,T[T.length-1]&-2147483648?-1:0)};function E(A,v){return A.add(N(v))}e.j=function(A){if(b(this)||b(A))return p;if(C(this))return C(A)?N(this).j(N(A)):N(N(this).j(A));if(C(A))return N(this.j(N(A)));if(0>this.l(y)&&0>A.l(y))return c(this.m()*A.m());for(var v=this.g.length+A.g.length,T=[],w=0;w<2*v;w++)T[w]=0;for(w=0;w<this.g.length;w++)for(var I=0;I<A.g.length;I++){var O=this.i(w)>>>16,R=this.i(w)&65535,rn=A.i(I)>>>16,kn=A.i(I)&65535;T[2*w+2*I]+=R*kn,_(T,2*w+2*I),T[2*w+2*I+1]+=O*kn,_(T,2*w+2*I+1),T[2*w+2*I+1]+=R*rn,_(T,2*w+2*I+1),T[2*w+2*I+2]+=O*rn,_(T,2*w+2*I+2)}for(w=0;w<v;w++)T[w]=T[2*w+1]<<16|T[2*w];for(w=v;w<2*v;w++)T[w]=0;return new a(T,0)};function _(A,v){for(;(A[v]&65535)!=A[v];)A[v+1]+=A[v]>>>16,A[v]&=65535,v++}function S(A,v){this.g=A,this.h=v}function D(A,v){if(b(v))throw Error("division by zero");if(b(A))return new S(p,p);if(C(A))return v=D(N(A),v),new S(N(v.g),N(v.h));if(C(v))return v=D(A,N(v)),new S(N(v.g),v.h);if(30<A.g.length){if(C(A)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var T=m,w=v;0>=w.l(A);)T=L(T),w=L(w);var I=j(T,1),O=j(w,1);for(w=j(w,2),T=j(T,2);!b(w);){var R=O.add(w);0>=R.l(A)&&(I=I.add(T),O=R),w=j(w,1),T=j(T,1)}return v=E(A,I.j(v)),new S(I,v)}for(I=p;0<=A.l(v);){for(T=Math.max(1,Math.floor(A.m()/v.m())),w=Math.ceil(Math.log(T)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),O=c(T),R=O.j(v);C(R)||0<R.l(A);)T-=w,O=c(T),R=O.j(v);b(O)&&(O=m),I=I.add(O),A=E(A,R)}return new S(I,A)}e.A=function(A){return D(this,A).h},e.and=function(A){for(var v=Math.max(this.g.length,A.g.length),T=[],w=0;w<v;w++)T[w]=this.i(w)&A.i(w);return new a(T,this.h&A.h)},e.or=function(A){for(var v=Math.max(this.g.length,A.g.length),T=[],w=0;w<v;w++)T[w]=this.i(w)|A.i(w);return new a(T,this.h|A.h)},e.xor=function(A){for(var v=Math.max(this.g.length,A.g.length),T=[],w=0;w<v;w++)T[w]=this.i(w)^A.i(w);return new a(T,this.h^A.h)};function L(A){for(var v=A.g.length+1,T=[],w=0;w<v;w++)T[w]=A.i(w)<<1|A.i(w-1)>>>31;return new a(T,A.h)}function j(A,v){var T=v>>5;v%=32;for(var w=A.g.length-T,I=[],O=0;O<w;O++)I[O]=0<v?A.i(O+T)>>>v|A.i(O+T+1)<<32-v:A.i(O+T);return new a(I,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,jS=i,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=f,Yi=a}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});var uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qS,Wa,HS,xu,Jd,FS,GS,KS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,h,d){return o==Array.prototype||o==Object.prototype||(o[h]=d.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof uu=="object"&&uu];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var i=n(this);function r(o,h){if(h)t:{var d=i;o=o.split(".");for(var g=0;g<o.length-1;g++){var M=o[g];if(!(M in d))break t;d=d[M]}o=o[o.length-1],g=d[o],h=h(g),h!=g&&h!=null&&t(d,o,{configurable:!0,writable:!0,value:h})}}function s(o,h){o instanceof String&&(o+="");var d=0,g=!1,M={next:function(){if(!g&&d<o.length){var V=d++;return{value:h(V,o[V]),done:!1}}return g=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}r("Array.prototype.values",function(o){return o||function(){return s(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(o){var h=typeof o;return h=h!="object"?h:o?Array.isArray(o)?"array":h:"null",h=="array"||h=="object"&&typeof o.length=="number"}function c(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function f(o,h,d){return o.call.apply(o.bind,arguments)}function p(o,h,d){if(!o)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,g),o.apply(h,M)}}return function(){return o.apply(h,arguments)}}function m(o,h,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function y(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var g=d.slice();return g.push.apply(g,arguments),o.apply(this,g)}}function b(o,h){function d(){}d.prototype=h.prototype,o.aa=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(g,M,V){for(var B=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)B[gt-2]=arguments[gt];return h.prototype[M].apply(g,B)}}function C(o){const h=o.length;if(0<h){const d=Array(h);for(let g=0;g<h;g++)d[g]=o[g];return d}return[]}function N(o,h){for(let d=1;d<arguments.length;d++){const g=arguments[d];if(u(g)){const M=o.length||0,V=g.length||0;o.length=M+V;for(let B=0;B<V;B++)o[M+B]=g[B]}else o.push(g)}}class E{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function _(o){return/^[\s\xa0]*$/.test(o)}function S(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function D(o){return D[" "](o),o}D[" "]=function(){};var L=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function j(o,h,d){for(const g in o)h.call(d,o[g],g,o)}function A(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function v(o){const h={};for(const d in o)h[d]=o[d];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(o,h){let d,g;for(let M=1;M<arguments.length;M++){g=arguments[M];for(d in g)o[d]=g[d];for(let V=0;V<T.length;V++)d=T[V],Object.prototype.hasOwnProperty.call(g,d)&&(o[d]=g[d])}}function I(o){var h=1;o=o.split(":");const d=[];for(;0<h&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function O(o){l.setTimeout(()=>{throw o},0)}function R(){var o=Et;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class rn{constructor(){this.h=this.g=null}add(h,d){const g=kn.get();g.set(h,d),this.h?this.h.next=g:this.g=g,this.h=g}}var kn=new E(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,X=!1,Et=new rn,Ut=()=>{const o=l.Promise.resolve(void 0);Z=()=>{o.then(es)}};var es=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(d){O(d)}var h=kn;h.j(o),100>h.h&&(h.h++,o.next=h.g,h.g=o)}X=!1};function Oe(){this.s=this.s,this.C=this.C}Oe.prototype.s=!1,Oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},Oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function jt(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}jt.prototype.h=function(){this.defaultPrevented=!0};var Un=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return o}();function mn(o,h){if(jt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,g=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget){if(L){t:{try{D(h.nodeName);var M=!0;break t}catch{}M=!1}M||(h=null)}}else d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:qR[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&mn.aa.h.call(this)}}b(mn,jt);var qR={2:"touch",3:"pen",4:"mouse"};mn.prototype.h=function(){mn.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Il="closure_listenable_"+(1e6*Math.random()|0),HR=0;function FR(o,h,d,g,M){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!g,this.ha=M,this.key=++HR,this.da=this.fa=!1}function Cl(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Dl(o){this.src=o,this.g={},this.h=0}Dl.prototype.add=function(o,h,d,g,M){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var B=Ch(o,h,g,M);return-1<B?(h=o[B],d||(h.fa=!1)):(h=new FR(h,this.src,V,!!g,M),h.fa=d,o.push(h)),h};function Ih(o,h){var d=h.type;if(d in o.g){var g=o.g[d],M=Array.prototype.indexOf.call(g,h,void 0),V;(V=0<=M)&&Array.prototype.splice.call(g,M,1),V&&(Cl(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function Ch(o,h,d,g){for(var M=0;M<o.length;++M){var V=o[M];if(!V.da&&V.listener==h&&V.capture==!!d&&V.ha==g)return M}return-1}var Dh="closure_lm_"+(1e6*Math.random()|0),Nh={};function Sg(o,h,d,g,M){if(Array.isArray(h)){for(var V=0;V<h.length;V++)Sg(o,h[V],d,g,M);return null}return d=bg(d),o&&o[Il]?o.K(h,d,c(g)?!!g.capture:!1,M):GR(o,h,d,!1,g,M)}function GR(o,h,d,g,M,V){if(!h)throw Error("Invalid event type");var B=c(M)?!!M.capture:!!M,gt=Mh(o);if(gt||(o[Dh]=gt=new Dl(o)),d=gt.add(h,d,g,B,V),d.proxy)return d;if(g=KR(),d.proxy=g,g.src=o,g.listener=d,o.addEventListener)Un||(M=B),M===void 0&&(M=!1),o.addEventListener(h.toString(),g,M);else if(o.attachEvent)o.attachEvent(Rg(h.toString()),g);else if(o.addListener&&o.removeListener)o.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return d}function KR(){function o(d){return h.call(o.src,o.listener,d)}const h=QR;return o}function wg(o,h,d,g,M){if(Array.isArray(h))for(var V=0;V<h.length;V++)wg(o,h[V],d,g,M);else g=c(g)?!!g.capture:!!g,d=bg(d),o&&o[Il]?(o=o.i,h=String(h).toString(),h in o.g&&(V=o.g[h],d=Ch(V,d,g,M),-1<d&&(Cl(V[d]),Array.prototype.splice.call(V,d,1),V.length==0&&(delete o.g[h],o.h--)))):o&&(o=Mh(o))&&(h=o.g[h.toString()],o=-1,h&&(o=Ch(h,d,g,M)),(d=-1<o?h[o]:null)&&Oh(d))}function Oh(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[Il])Ih(h.i,o);else{var d=o.type,g=o.proxy;h.removeEventListener?h.removeEventListener(d,g,o.capture):h.detachEvent?h.detachEvent(Rg(d),g):h.addListener&&h.removeListener&&h.removeListener(g),(d=Mh(h))?(Ih(d,o),d.h==0&&(d.src=null,h[Dh]=null)):Cl(o)}}}function Rg(o){return o in Nh?Nh[o]:Nh[o]="on"+o}function QR(o,h){if(o.da)o=!0;else{h=new mn(h,this);var d=o.listener,g=o.ha||o.src;o.fa&&Oh(o),o=d.call(g,h)}return o}function Mh(o){return o=o[Dh],o instanceof Dl?o:null}var Vh="__closure_events_fn_"+(1e9*Math.random()>>>0);function bg(o){return typeof o=="function"?o:(o[Vh]||(o[Vh]=function(h){return o.handleEvent(h)}),o[Vh])}function ue(){Oe.call(this),this.i=new Dl(this),this.M=this,this.F=null}b(ue,Oe),ue.prototype[Il]=!0,ue.prototype.removeEventListener=function(o,h,d,g){wg(this,o,h,d,g)};function _e(o,h){var d,g=o.F;if(g)for(d=[];g;g=g.F)d.push(g);if(o=o.M,g=h.type||h,typeof h=="string")h=new jt(h,o);else if(h instanceof jt)h.target=h.target||o;else{var M=h;h=new jt(g,o),w(h,M)}if(M=!0,d)for(var V=d.length-1;0<=V;V--){var B=h.g=d[V];M=Nl(B,g,!0,h)&&M}if(B=h.g=o,M=Nl(B,g,!0,h)&&M,M=Nl(B,g,!1,h)&&M,d)for(V=0;V<d.length;V++)B=h.g=d[V],M=Nl(B,g,!1,h)&&M}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var o=this.i,h;for(h in o.g){for(var d=o.g[h],g=0;g<d.length;g++)Cl(d[g]);delete o.g[h],o.h--}}this.F=null},ue.prototype.K=function(o,h,d,g){return this.i.add(String(o),h,!1,d,g)},ue.prototype.L=function(o,h,d,g){return this.i.add(String(o),h,!0,d,g)};function Nl(o,h,d,g){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,V=0;V<h.length;++V){var B=h[V];if(B&&!B.da&&B.capture==d){var gt=B.listener,ne=B.ha||B.src;B.fa&&Ih(o.i,B),M=gt.call(ne,g)!==!1&&M}}return M&&!g.defaultPrevented}function Ig(o,h,d){if(typeof o=="function")d&&(o=m(o,d));else if(o&&typeof o.handleEvent=="function")o=m(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(o,h||0)}function Cg(o){o.g=Ig(()=>{o.g=null,o.i&&(o.i=!1,Cg(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class YR extends Oe{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Cg(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Aa(o){Oe.call(this),this.h=o,this.g={}}b(Aa,Oe);var Dg=[];function Ng(o){j(o.g,function(h,d){this.g.hasOwnProperty(d)&&Oh(h)},o),o.g={}}Aa.prototype.N=function(){Aa.aa.N.call(this),Ng(this)},Aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ph=l.JSON.stringify,$R=l.JSON.parse,XR=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function xh(){}xh.prototype.h=null;function Og(o){return o.h||(o.h=o.i())}function Mg(){}var Sa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kh(){jt.call(this,"d")}b(kh,jt);function Uh(){jt.call(this,"c")}b(Uh,jt);var pr={},Vg=null;function Ol(){return Vg=Vg||new ue}pr.La="serverreachability";function Pg(o){jt.call(this,pr.La,o)}b(Pg,jt);function wa(o){const h=Ol();_e(h,new Pg(h))}pr.STAT_EVENT="statevent";function xg(o,h){jt.call(this,pr.STAT_EVENT,o),this.stat=h}b(xg,jt);function ve(o){const h=Ol();_e(h,new xg(h,o))}pr.Ma="timingevent";function kg(o,h){jt.call(this,pr.Ma,o),this.size=h}b(kg,jt);function Ra(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},h)}function ba(){this.g=!0}ba.prototype.xa=function(){this.g=!1};function WR(o,h,d,g,M,V){o.info(function(){if(o.g)if(V)for(var B="",gt=V.split("&"),ne=0;ne<gt.length;ne++){var lt=gt[ne].split("=");if(1<lt.length){var ce=lt[0];lt=lt[1];var he=ce.split("_");B=2<=he.length&&he[1]=="type"?B+(ce+"="+lt+"&"):B+(ce+"=redacted&")}}else B=null;else B=V;return"XMLHTTP REQ ("+g+") [attempt "+M+"]: "+h+`
`+d+`
`+B})}function ZR(o,h,d,g,M,V,B){o.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+M+"]: "+h+`
`+d+`
`+V+" "+B})}function ns(o,h,d,g){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+tb(o,d)+(g?" "+g:"")})}function JR(o,h){o.info(function(){return"TIMEOUT: "+h})}ba.prototype.info=function(){};function tb(o,h){if(!o.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var g=d[o];if(!(2>g.length)){var M=g[1];if(Array.isArray(M)&&!(1>M.length)){var V=M[0];if(V!="noop"&&V!="stop"&&V!="close")for(var B=1;B<M.length;B++)M[B]=""}}}}return Ph(d)}catch{return h}}var Ml={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ug={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lh;function Vl(){}b(Vl,xh),Vl.prototype.g=function(){return new XMLHttpRequest},Vl.prototype.i=function(){return{}},Lh=new Vl;function pi(o,h,d,g){this.j=o,this.i=h,this.l=d,this.R=g||1,this.U=new Aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lg}function Lg(){this.i=null,this.g="",this.h=!1}var Bg={},Bh={};function zh(o,h,d){o.L=1,o.v=Ul(Ln(h)),o.m=d,o.P=!0,zg(o,null)}function zg(o,h){o.F=Date.now(),Pl(o),o.A=Ln(o.v);var d=o.A,g=o.R;Array.isArray(g)||(g=[String(g)]),ty(d.i,"t",g),o.C=0,d=o.j.J,o.h=new Lg,o.g=_y(o.j,d?h:null,!o.m),0<o.O&&(o.M=new YR(m(o.Y,o,o.g),o.O)),h=o.U,d=o.g,g=o.ca;var M="readystatechange";Array.isArray(M)||(M&&(Dg[0]=M.toString()),M=Dg);for(var V=0;V<M.length;V++){var B=Sg(d,M[V],g||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=o.H?v(o.H):{},o.m?(o.u||(o.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,h)):(o.u="GET",o.g.ea(o.A,o.u,null,h)),wa(),WR(o.i,o.u,o.A,o.l,o.R,o.m)}pi.prototype.ca=function(o){o=o.target;const h=this.M;h&&Bn(o)==3?h.j():this.Y(o)},pi.prototype.Y=function(o){try{if(o==this.g)t:{const he=Bn(this.g);var h=this.g.Ba();const ss=this.g.Z();if(!(3>he)&&(he!=3||this.g&&(this.h.h||this.g.oa()||oy(this.g)))){this.J||he!=4||h==7||(h==8||0>=ss?wa(3):wa(2)),jh(this);var d=this.g.Z();this.X=d;e:if(jg(this)){var g=oy(this.g);o="";var M=g.length,V=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gr(this),Ia(this);var B="";break e}this.h.i=new l.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,o+=this.h.i.decode(g[h],{stream:!(V&&h==M-1)});g.length=0,this.h.g+=o,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=d==200,ZR(this.i,this.u,this.A,this.l,this.R,he,d),this.o){if(this.T&&!this.K){e:{if(this.g){var gt,ne=this.g;if((gt=ne.g?ne.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(gt)){var lt=gt;break e}}lt=null}if(d=lt)ns(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qh(this,d);else{this.o=!1,this.s=3,ve(12),gr(this),Ia(this);break t}}if(this.P){d=!0;let sn;for(;!this.J&&this.C<B.length;)if(sn=eb(this,B),sn==Bh){he==4&&(this.s=4,ve(14),d=!1),ns(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==Bg){this.s=4,ve(15),ns(this.i,this.l,B,"[Invalid Chunk]"),d=!1;break}else ns(this.i,this.l,sn,null),qh(this,sn);if(jg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),he!=4||B.length!=0||this.h.h||(this.s=1,ve(16),d=!1),this.o=this.o&&d,!d)ns(this.i,this.l,B,"[Invalid Chunked Response]"),gr(this),Ia(this);else if(0<B.length&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.ba&&!ce.M&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Yh(ce),ce.M=!0,ve(11))}}else ns(this.i,this.l,B,null),qh(this,B);he==4&&gr(this),this.o&&!this.J&&(he==4?my(this.j,this):(this.o=!1,Pl(this)))}else _b(this.g),d==400&&0<B.indexOf("Unknown SID")?(this.s=3,ve(12)):(this.s=0,ve(13)),gr(this),Ia(this)}}}catch{}finally{}};function jg(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function eb(o,h){var d=o.C,g=h.indexOf(`
`,d);return g==-1?Bh:(d=Number(h.substring(d,g)),isNaN(d)?Bg:(g+=1,g+d>h.length?Bh:(h=h.slice(g,g+d),o.C=g+d,h)))}pi.prototype.cancel=function(){this.J=!0,gr(this)};function Pl(o){o.S=Date.now()+o.I,qg(o,o.I)}function qg(o,h){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Ra(m(o.ba,o),h)}function jh(o){o.B&&(l.clearTimeout(o.B),o.B=null)}pi.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(JR(this.i,this.A),this.L!=2&&(wa(),ve(17)),gr(this),this.s=2,Ia(this)):qg(this,this.S-o)};function Ia(o){o.j.G==0||o.J||my(o.j,o)}function gr(o){jh(o);var h=o.M;h&&typeof h.ma=="function"&&h.ma(),o.M=null,Ng(o.U),o.g&&(h=o.g,o.g=null,h.abort(),h.ma())}function qh(o,h){try{var d=o.j;if(d.G!=0&&(d.g==o||Hh(d.h,o))){if(!o.K&&Hh(d.h,o)&&d.G==3){try{var g=d.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var M=g;if(M[0]==0){t:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)Hl(d),jl(d);else break t;Qh(d),ve(18)}}else d.za=M[1],0<d.za-d.T&&37500>M[2]&&d.F&&d.v==0&&!d.C&&(d.C=Ra(m(d.Za,d),6e3));if(1>=Gg(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else _r(d,11)}else if((o.K||d.g==o)&&Hl(d),!_(h))for(M=d.Da.g.parse(h),h=0;h<M.length;h++){let lt=M[h];if(d.T=lt[0],lt=lt[1],d.G==2)if(lt[0]=="c"){d.K=lt[1],d.ia=lt[2];const ce=lt[3];ce!=null&&(d.la=ce,d.j.info("VER="+d.la));const he=lt[4];he!=null&&(d.Aa=he,d.j.info("SVER="+d.Aa));const ss=lt[5];ss!=null&&typeof ss=="number"&&0<ss&&(g=1.5*ss,d.L=g,d.j.info("backChannelRequestTimeoutMs_="+g)),g=d;const sn=o.g;if(sn){const Gl=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gl){var V=g.h;V.g||Gl.indexOf("spdy")==-1&&Gl.indexOf("quic")==-1&&Gl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Fh(V,V.h),V.h=null))}if(g.D){const $h=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;$h&&(g.ya=$h,Tt(g.I,g.D,$h))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),g=d;var B=o;if(g.qa=yy(g,g.J?g.ia:null,g.W),B.K){Kg(g.h,B);var gt=B,ne=g.L;ne&&(gt.I=ne),gt.B&&(jh(gt),Pl(gt)),g.g=B}else fy(g);0<d.i.length&&ql(d)}else lt[0]!="stop"&&lt[0]!="close"||_r(d,7);else d.G==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?_r(d,7):Kh(d):lt[0]!="noop"&&d.l&&d.l.ta(lt),d.v=0)}}wa(4)}catch{}}var nb=class{constructor(o,h){this.g=o,this.map=h}};function Hg(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fg(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Gg(o){return o.h?1:o.g?o.g.size:0}function Hh(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Fh(o,h){o.g?o.g.add(h):o.h=h}function Kg(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}Hg.prototype.cancel=function(){if(this.i=Qg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Qg(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.D);return h}return C(o.i)}function ib(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var h=[],d=o.length,g=0;g<d;g++)h.push(o[g]);return h}h=[],d=0;for(g in o)h[d++]=o[g];return h}function rb(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var h=[];o=o.length;for(var d=0;d<o;d++)h.push(d);return h}h=[],d=0;for(const g in o)h[d++]=g;return h}}}function Yg(o,h){if(o.forEach&&typeof o.forEach=="function")o.forEach(h,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,h,void 0);else for(var d=rb(o),g=ib(o),M=g.length,V=0;V<M;V++)h.call(void 0,g[V],d&&d[V],o)}var $g=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sb(o,h){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var g=o[d].indexOf("="),M=null;if(0<=g){var V=o[d].substring(0,g);M=o[d].substring(g+1)}else V=o[d];h(V,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function yr(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof yr){this.h=o.h,xl(this,o.j),this.o=o.o,this.g=o.g,kl(this,o.s),this.l=o.l;var h=o.i,d=new Na;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),Xg(this,d),this.m=o.m}else o&&(h=String(o).match($g))?(this.h=!1,xl(this,h[1]||"",!0),this.o=Ca(h[2]||""),this.g=Ca(h[3]||"",!0),kl(this,h[4]),this.l=Ca(h[5]||"",!0),Xg(this,h[6]||"",!0),this.m=Ca(h[7]||"")):(this.h=!1,this.i=new Na(null,this.h))}yr.prototype.toString=function(){var o=[],h=this.j;h&&o.push(Da(h,Wg,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(Da(h,Wg,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(Da(d,d.charAt(0)=="/"?lb:ob,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",Da(d,cb)),o.join("")};function Ln(o){return new yr(o)}function xl(o,h,d){o.j=d?Ca(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function kl(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.s=h}else o.s=null}function Xg(o,h,d){h instanceof Na?(o.i=h,hb(o.i,o.h)):(d||(h=Da(h,ub)),o.i=new Na(h,o.h))}function Tt(o,h,d){o.i.set(h,d)}function Ul(o){return Tt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Ca(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Da(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,ab),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function ab(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Wg=/[#\/\?@]/g,ob=/[#\?:]/g,lb=/[#\?]/g,ub=/[#\?@]/g,cb=/#/g;function Na(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function gi(o){o.g||(o.g=new Map,o.h=0,o.i&&sb(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}e=Na.prototype,e.add=function(o,h){gi(this),this.i=null,o=is(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function Zg(o,h){gi(o),h=is(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function Jg(o,h){return gi(o),h=is(o,h),o.g.has(h)}e.forEach=function(o,h){gi(this),this.g.forEach(function(d,g){d.forEach(function(M){o.call(h,M,g,this)},this)},this)},e.na=function(){gi(this);const o=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let g=0;g<h.length;g++){const M=o[g];for(let V=0;V<M.length;V++)d.push(h[g])}return d},e.V=function(o){gi(this);let h=[];if(typeof o=="string")Jg(this,o)&&(h=h.concat(this.g.get(is(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)h=h.concat(o[d])}return h},e.set=function(o,h){return gi(this),this.i=null,o=is(this,o),Jg(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},e.get=function(o,h){return o?(o=this.V(o),0<o.length?String(o[0]):h):h};function ty(o,h,d){Zg(o,h),0<d.length&&(o.i=null,o.g.set(is(o,h),C(d)),o.h+=d.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var g=h[d];const V=encodeURIComponent(String(g)),B=this.V(g);for(g=0;g<B.length;g++){var M=V;B[g]!==""&&(M+="="+encodeURIComponent(String(B[g]))),o.push(M)}}return this.i=o.join("&")};function is(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function hb(o,h){h&&!o.j&&(gi(o),o.i=null,o.g.forEach(function(d,g){var M=g.toLowerCase();g!=M&&(Zg(this,g),ty(this,M,d))},o)),o.j=h}function fb(o,h){const d=new ba;if(l.Image){const g=new Image;g.onload=y(yi,d,"TestLoadImage: loaded",!0,h,g),g.onerror=y(yi,d,"TestLoadImage: error",!1,h,g),g.onabort=y(yi,d,"TestLoadImage: abort",!1,h,g),g.ontimeout=y(yi,d,"TestLoadImage: timeout",!1,h,g),l.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=o}else h(!1)}function db(o,h){const d=new ba,g=new AbortController,M=setTimeout(()=>{g.abort(),yi(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:g.signal}).then(V=>{clearTimeout(M),V.ok?yi(d,"TestPingServer: ok",!0,h):yi(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),yi(d,"TestPingServer: error",!1,h)})}function yi(o,h,d,g,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),g(d)}catch{}}function mb(){this.g=new XR}function pb(o,h,d){const g=d||"";try{Yg(o,function(M,V){let B=M;c(M)&&(B=Ph(M)),h.push(g+V+"="+encodeURIComponent(B))})}catch(M){throw h.push(g+"type="+encodeURIComponent("_badmap")),M}}function Ll(o){this.l=o.Ub||null,this.j=o.eb||!1}b(Ll,xh),Ll.prototype.g=function(){return new Bl(this.l,this.j)},Ll.prototype.i=function(o){return function(){return o}}({});function Bl(o,h){ue.call(this),this.D=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Bl,ue),e=Bl.prototype,e.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=h,this.readyState=1,Ma(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(h.body=o),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oa(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ey(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function ey(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?Oa(this):Ma(this),this.readyState==3&&ey(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,Oa(this))},e.Qa=function(o){this.g&&(this.response=o,Oa(this))},e.ga=function(){this.g&&Oa(this)};function Oa(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Ma(o)}e.setRequestHeader=function(o,h){this.u.append(o,h)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function Ma(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ny(o){let h="";return j(o,function(d,g){h+=g,h+=":",h+=d,h+=`\r
`}),h}function Gh(o,h,d){t:{for(g in d){var g=!1;break t}g=!0}g||(d=ny(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):Tt(o,h,d))}function Nt(o){ue.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Nt,ue);var gb=/^https?$/i,yb=["POST","PUT"];e=Nt.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,h,d,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lh.g(),this.v=this.o?Og(this.o):Og(Lh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(V){iy(this,V);return}if(o=d||"",d=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var M in g)d.set(M,g[M]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(const V of g.keys())d.set(V,g.get(V));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(d.keys()).find(V=>V.toLowerCase()=="content-type"),M=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(yb,h,void 0))||g||M||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,B]of d)this.g.setRequestHeader(V,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ay(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){iy(this,V)}};function iy(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.m=5,ry(o),zl(o)}function ry(o){o.A||(o.A=!0,_e(o,"complete"),_e(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,_e(this,"complete"),_e(this,"abort"),zl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zl(this,!0)),Nt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?sy(this):this.bb())},e.bb=function(){sy(this)};function sy(o){if(o.h&&typeof a<"u"&&(!o.v[1]||Bn(o)!=4||o.Z()!=2)){if(o.u&&Bn(o)==4)Ig(o.Ea,0,o);else if(_e(o,"readystatechange"),Bn(o)==4){o.h=!1;try{const B=o.Z();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break t;default:h=!1}var d;if(!(d=h)){var g;if(g=B===0){var M=String(o.D).match($g)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),g=!gb.test(M?M.toLowerCase():"")}d=g}if(d)_e(o,"complete"),_e(o,"success");else{o.m=6;try{var V=2<Bn(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",ry(o)}}finally{zl(o)}}}}function zl(o,h){if(o.g){ay(o);const d=o.g,g=o.v[0]?()=>{}:null;o.g=null,o.v=null,h||_e(o,"ready");try{d.onreadystatechange=g}catch{}}}function ay(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function Bn(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),$R(h)}};function oy(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function _b(o){const h={};o=(o.g&&2<=Bn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<o.length;g++){if(_(o[g]))continue;var d=I(o[g]);const M=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const V=h[M]||[];h[M]=V,V.push(d)}A(h,function(g){return g.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function ly(o){this.Aa=0,this.i=[],this.j=new ba,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,o),this.cb=Va("retryDelaySeedMs",1e4,o),this.Wa=Va("forwardChannelMaxRetries",2,o),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Hg(o&&o.concurrentRequestLimit),this.Da=new mb,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ly.prototype,e.la=8,e.G=1,e.connect=function(o,h,d,g){ve(0),this.W=o,this.H=h||{},d&&g!==void 0&&(this.H.OSID=d,this.H.OAID=g),this.F=this.X,this.I=yy(this,null,this.W),ql(this)};function Kh(o){if(uy(o),o.G==3){var h=o.U++,d=Ln(o.I);if(Tt(d,"SID",o.K),Tt(d,"RID",h),Tt(d,"TYPE","terminate"),Pa(o,d),h=new pi(o,o.j,h),h.L=2,h.v=Ul(Ln(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=_y(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Pl(h)}gy(o)}function jl(o){o.g&&(Yh(o),o.g.cancel(),o.g=null)}function uy(o){jl(o),o.u&&(l.clearTimeout(o.u),o.u=null),Hl(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function ql(o){if(!Fg(o.h)&&!o.s){o.s=!0;var h=o.Ga;Z||Ut(),X||(Z(),X=!0),Et.add(h,o),o.B=0}}function vb(o,h){return Gg(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=h.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Ra(m(o.Ga,o,h),py(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const M=new pi(this,this.j,o);let V=this.o;if(this.S&&(V?(V=v(V),w(V,this.S)):V=this.S),this.m!==null||this.O||(M.H=V,V=null),this.P)t:{for(var h=0,d=0;d<this.i.length;d++){e:{var g=this.i[d];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break e}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=d;break t}if(h===4096||d===this.i.length-1){h=d+1;break t}}h=1e3}else h=1e3;h=hy(this,M,h),d=Ln(this.I),Tt(d,"RID",o),Tt(d,"CVER",22),this.D&&Tt(d,"X-HTTP-Session-Id",this.D),Pa(this,d),V&&(this.O?h="headers="+encodeURIComponent(String(ny(V)))+"&"+h:this.m&&Gh(d,this.m,V)),Fh(this.h,M),this.Ua&&Tt(d,"TYPE","init"),this.P?(Tt(d,"$req",h),Tt(d,"SID","null"),M.T=!0,zh(M,d,null)):zh(M,d,h),this.G=2}}else this.G==3&&(o?cy(this,o):this.i.length==0||Fg(this.h)||cy(this))};function cy(o,h){var d;h?d=h.l:d=o.U++;const g=Ln(o.I);Tt(g,"SID",o.K),Tt(g,"RID",d),Tt(g,"AID",o.T),Pa(o,g),o.m&&o.o&&Gh(g,o.m,o.o),d=new pi(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),h&&(o.i=h.D.concat(o.i)),h=hy(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Fh(o.h,d),zh(d,g,h)}function Pa(o,h){o.H&&j(o.H,function(d,g){Tt(h,g,d)}),o.l&&Yg({},function(d,g){Tt(h,g,d)})}function hy(o,h,d){d=Math.min(o.i.length,d);var g=o.l?m(o.l.Na,o.l,o):null;t:{var M=o.i;let V=-1;for(;;){const B=["count="+d];V==-1?0<d?(V=M[0].g,B.push("ofs="+V)):V=0:B.push("ofs="+V);let gt=!0;for(let ne=0;ne<d;ne++){let lt=M[ne].g;const ce=M[ne].map;if(lt-=V,0>lt)V=Math.max(0,M[ne].g-100),gt=!1;else try{pb(ce,B,"req"+lt+"_")}catch{g&&g(ce)}}if(gt){g=B.join("&");break t}}}return o=o.i.splice(0,d),h.D=o,g}function fy(o){if(!o.g&&!o.u){o.Y=1;var h=o.Fa;Z||Ut(),X||(Z(),X=!0),Et.add(h,o),o.v=0}}function Qh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Ra(m(o.Fa,o),py(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,dy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Ra(m(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ve(10),jl(this),dy(this))};function Yh(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function dy(o){o.g=new pi(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var h=Ln(o.qa);Tt(h,"RID","rpc"),Tt(h,"SID",o.K),Tt(h,"AID",o.T),Tt(h,"CI",o.F?"0":"1"),!o.F&&o.ja&&Tt(h,"TO",o.ja),Tt(h,"TYPE","xmlhttp"),Pa(o,h),o.m&&o.o&&Gh(h,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=Ul(Ln(h)),d.m=null,d.P=!0,zg(d,o)}e.Za=function(){this.C!=null&&(this.C=null,jl(this),Qh(this),ve(19))};function Hl(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function my(o,h){var d=null;if(o.g==h){Hl(o),Yh(o),o.g=null;var g=2}else if(Hh(o.h,h))d=h.D,Kg(o.h,h),g=1;else return;if(o.G!=0){if(h.o)if(g==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var M=o.B;g=Ol(),_e(g,new kg(g,d)),ql(o)}else fy(o);else if(M=h.s,M==3||M==0&&0<h.X||!(g==1&&vb(o,h)||g==2&&Qh(o)))switch(d&&0<d.length&&(h=o.h,h.i=h.i.concat(d)),M){case 1:_r(o,5);break;case 4:_r(o,10);break;case 3:_r(o,6);break;default:_r(o,2)}}}function py(o,h){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*h}function _r(o,h){if(o.j.info("Error code "+h),h==2){var d=m(o.fb,o),g=o.Xa;const M=!g;g=new yr(g||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||xl(g,"https"),Ul(g),M?fb(g.toString(),d):db(g.toString(),d)}else ve(2);o.G=0,o.l&&o.l.sa(h),gy(o),uy(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function gy(o){if(o.G=0,o.ka=[],o.l){const h=Qg(o.h);(h.length!=0||o.i.length!=0)&&(N(o.ka,h),N(o.ka,o.i),o.h.i.length=0,C(o.i),o.i.length=0),o.l.ra()}}function yy(o,h,d){var g=d instanceof yr?Ln(d):new yr(d);if(g.g!="")h&&(g.g=h+"."+g.g),kl(g,g.s);else{var M=l.location;g=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var V=new yr(null);g&&xl(V,g),h&&(V.g=h),M&&kl(V,M),d&&(V.l=d),g=V}return d=o.D,h=o.ya,d&&h&&Tt(g,d,h),Tt(g,"VER",o.la),Pa(o,g),g}function _y(o,h,d){if(h&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Ca&&!o.pa?new Nt(new Ll({eb:d})):new Nt(o.pa),h.Ha(o.J),h}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function vy(){}e=vy.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Fl(){}Fl.prototype.g=function(o,h){return new Me(o,h)};function Me(o,h){ue.call(this),this.g=new ly(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(o?o["X-WebChannel-Client-Profile"]=h.va:o={"X-WebChannel-Client-Profile":h.va}),this.g.S=o,(o=h&&h.Sb)&&!_(o)&&(this.g.m=o),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!_(h)&&(this.g.D=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new rs(this)}b(Me,ue),Me.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Me.prototype.close=function(){Kh(this.g)},Me.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=Ph(o),o=d);h.i.push(new nb(h.Ya++,o)),h.G==3&&ql(h)},Me.prototype.N=function(){this.g.l=null,delete this.j,Kh(this.g),delete this.g,Me.aa.N.call(this)};function Ey(o){kh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){t:{for(const d in h){o=d;break t}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}b(Ey,kh);function Ty(){Uh.call(this),this.status=1}b(Ty,Uh);function rs(o){this.g=o}b(rs,vy),rs.prototype.ua=function(){_e(this.g,"a")},rs.prototype.ta=function(o){_e(this.g,new Ey(o))},rs.prototype.sa=function(o){_e(this.g,new Ty)},rs.prototype.ra=function(){_e(this.g,"b")},Fl.prototype.createWebChannel=Fl.prototype.g,Me.prototype.send=Me.prototype.o,Me.prototype.open=Me.prototype.m,Me.prototype.close=Me.prototype.close,KS=function(){return new Fl},GS=function(){return Ol()},FS=pr,Jd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ml.NO_ERROR=0,Ml.TIMEOUT=8,Ml.HTTP_ERROR=6,xu=Ml,Ug.COMPLETE="complete",HS=Ug,Mg.EventType=Sa,Sa.OPEN="a",Sa.CLOSE="b",Sa.ERROR="c",Sa.MESSAGE="d",ue.prototype.listen=ue.prototype.K,Wa=Mg,Nt.prototype.listenOnce=Nt.prototype.L,Nt.prototype.getLastError=Nt.prototype.Ka,Nt.prototype.getLastErrorCode=Nt.prototype.Ba,Nt.prototype.getStatus=Nt.prototype.Z,Nt.prototype.getResponseJson=Nt.prototype.Oa,Nt.prototype.getResponseText=Nt.prototype.oa,Nt.prototype.send=Nt.prototype.ea,Nt.prototype.setWithCredentials=Nt.prototype.Ha,qS=Nt}).apply(typeof uu<"u"?uu:typeof self<"u"?self:typeof window<"u"?window:{});const Dv="@firebase/firestore",Nv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}de.UNAUTHENTICATED=new de(null),de.GOOGLE_CREDENTIALS=new de("google-credentials-uid"),de.FIRST_PARTY=new de("first-party-uid"),de.MOCK_USER=new de("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr=new Rp("@firebase/firestore");function fs(){return qr.logLevel}function F(e,...t){if(qr.logLevel<=it.DEBUG){const n=t.map(kp);qr.debug(`Firestore (${ga}): ${e}`,...n)}}function ui(e,...t){if(qr.logLevel<=it.ERROR){const n=t.map(kp);qr.error(`Firestore (${ga}): ${e}`,...n)}}function Js(e,...t){if(qr.logLevel<=it.WARN){const n=t.map(kp);qr.warn(`Firestore (${ga}): ${e}`,...n)}}function kp(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,QS(e,i,n)}function QS(e,t,n){let i=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw ui(i),new Error(i)}function ht(e,t,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,e||QS(t,r,i)}function W(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends xn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(de.UNAUTHENTICATED))}shutdown(){}}class qM{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HM{constructor(t){this.t=t,this.currentUser=de.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){ht(this.o===void 0,42304);let i=this.i;const r=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let s=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new $i,t.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await r(this.currentUser)})},l=u=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new $i)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ht(typeof i.accessToken=="string",31837,{l:i}),new YS(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ht(t===null||typeof t=="string",2055,{h:t}),new de(t)}}class FM{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=de.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GM{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new FM(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(de.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ov{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KM{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ue(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){ht(this.o===void 0,3512);const i=s=>{s.error!=null&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,F("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ov(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(ht(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ov(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=QM(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=t.charAt(r[s]%62))}return i}}function rt(e,t){return e<t?-1:e>t?1:0}function tm(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const r=e.charAt(i),s=t.charAt(i);if(r!==s)return jf(r)===jf(s)?rt(r,s):jf(r)?1:-1}return rt(e.length,t.length)}const YM=55296,$M=57343;function jf(e){const t=e.charCodeAt(0);return t>=YM&&t<=$M}function ta(e,t,n){return e.length===t.length&&e.every((i,r)=>n(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="__name__";class gn{constructor(t,n,i){n===void 0?n=0:n>t.length&&Q(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&Q(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return gn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof gn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let r=0;r<i;r++){const s=gn.compareSegments(t.get(r),n.get(r));if(s!==0)return s}return rt(t.length,n.length)}static compareSegments(t,n){const i=gn.isNumericId(t),r=gn.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?gn.extractNumericId(t).compare(gn.extractNumericId(n)):tm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Yi.fromString(t.substring(4,t.length-2))}}class _t extends gn{construct(t,n,i){return new _t(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new q(x.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new _t(n)}static emptyPath(){return new _t([])}}const XM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ae extends gn{construct(t,n,i){return new ae(t,n,i)}static isValidIdentifier(t){return XM.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ae.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Mv}static keyField(){return new ae([Mv])}static fromServerFormat(t){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new q(x.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;r<t.length;){const l=t[r];if(l==="\\"){if(r+1===t.length)throw new q(x.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[r+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new q(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,r+=2}else l==="`"?(a=!a,r++):l!=="."||a?(i+=l,r++):(s(),r++)}if(s(),a)throw new q(x.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ae(n)}static emptyPath(){return new ae([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.path=t}static fromPath(t){return new G(_t.fromString(t))}static fromName(t){return new G(_t.fromString(t).popFirst(5))}static empty(){return new G(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return _t.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new G(new _t(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(e,t,n){if(!n)throw new q(x.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function WM(e,t,n,i){if(t===!0&&i===!0)throw new q(x.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Vv(e){if(!G.isDocumentKey(e))throw new q(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Pv(e){if(G.isDocumentKey(e))throw new q(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function XS(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function lh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Q(12329,{type:typeof e})}function un(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lh(e);throw new q(x.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(e,t){const n={typeString:e};return t&&(n.value=t),n}function El(e,t){if(!XS(e))throw new q(x.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new q(x.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=-62135596800,kv=1e6;class At{static now(){return At.fromMillis(Date.now())}static fromDate(t){return At.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*kv);return new At(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<xv)throw new q(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kv}_compareTo(t){return this.seconds===t.seconds?rt(this.nanoseconds,t.nanoseconds):rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:At._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(El(t,At._jsonSchema))return new At(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-xv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}At._jsonSchemaVersion="firestore/timestamp/1.0",At._jsonSchema={type:Gt("string",At._jsonSchemaVersion),seconds:Gt("number"),nanoseconds:Gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${static fromTimestamp(t){return new $(t)}static min(){return new $(new At(0,0))}static max(){return new $(new At(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=-1;function ZM(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=$.fromTimestamp(i===1e9?new At(n+1,0):new At(n,i));return new nr(r,G.empty(),t)}function JM(e){return new nr(e.readTime,e.key,qo)}class nr{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new nr($.min(),G.empty(),qo)}static max(){return new nr($.max(),G.empty(),qo)}}function tV(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=G.comparator(e.documentKey,t.documentKey),n!==0?n:rt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(e){if(e.code!==x.FAILED_PRECONDITION||e.message!==eV)throw e;F("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new k((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof k?n:k.resolve(n)}catch(n){return k.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):k.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):k.reject(n)}static resolve(t){return new k((n,i)=>{n(t)})}static reject(t){return new k((n,i)=>{i(t)})}static waitFor(t){return new k((n,i)=>{let r=0,s=0,a=!1;t.forEach(l=>{++r,l.next(()=>{++s,a&&s===r&&n()},u=>i(u))}),a=!0,s===r&&n()})}static or(t){let n=k.resolve(!1);for(const i of t)n=n.next(r=>r?k.resolve(r):i());return n}static forEach(t,n){const i=[];return t.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(t,n){return new k((i,r)=>{const s=t.length,a=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(t[c]).next(f=>{a[c]=f,++l,l===s&&i(a)},f=>r(f))}})}static doWhile(t,n){return new k((i,r)=>{const s=()=>{t()===!0?n().next(()=>{s()},r):i()};s()})}}function iV(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function _a(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>n.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=-1;function ch(e){return e==null}function Ic(e){return e===0&&1/e==-1/0}function rV(e){return typeof e=="number"&&Number.isInteger(e)&&!Ic(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS="";function sV(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Uv(t)),t=aV(e.get(n),t);return Uv(t)}function aV(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const s=e.charAt(r);switch(s){case"\0":n+="";break;case WS:n+="";break;default:n+=s}}return n}function Uv(e){return e+WS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function fr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ZS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t,n){this.comparator=t,this.root=n||re.EMPTY}insert(t,n){return new Dt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,re.BLACK,null,null))}remove(t){return new Dt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,re.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cu(this.root,t,this.comparator,!1)}getReverseIterator(){return new cu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cu(this.root,t,this.comparator,!0)}}class cu{constructor(t,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?i(t.key,n):1,n&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class re{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=i??re.RED,this.left=r??re.EMPTY,this.right=s??re.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new re(t??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(t,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return re.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(t,r.key)===0){if(r.right.isEmpty())return re.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,re.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,re.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Q(27949);return t+(this.isRed()?0:1)}}re.EMPTY=null,re.RED=!0,re.BLACK=!1;re.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(t,n,i,r,s){return this}insert(t,n,i){return new re(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(t){this.comparator=t,this.data=new Dt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;n(r.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bv(this.data.getIterator())}getIteratorFrom(t){return new Bv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof $t)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new $t(this.comparator);return n.data=t,n}}class Bv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t){this.fields=t,t.sort(ae.comparator)}static empty(){return new Le([])}unionWith(t){let n=new $t(ae.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new Le(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return ta(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new JS("Invalid base64 string: "+s):s}}(t);return new le(n)}static fromUint8Array(t){const n=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(t);return new le(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}le.EMPTY_BYTE_STRING=new le("");const oV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(e){if(ht(!!e,39018),typeof e=="string"){let t=0;const n=oV.exec(e);if(ht(!!n,46558,{timestamp:e}),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:zt(e.seconds),nanos:zt(e.nanos)}}function zt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function rr(e){return typeof e=="string"?le.fromBase64String(e):le.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="server_timestamp",ew="__type__",nw="__previous_value__",iw="__local_write_time__";function Bp(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[ew])==null?void 0:i.stringValue)===tw}function hh(e){const t=e.mapValue.fields[nw];return Bp(t)?hh(t):t}function Ho(e){const t=ir(e.mapValue.fields[iw].timestampValue);return new At(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(t,n,i,r,s,a,l,u,c,f){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=f}}const Cc="(default)";class Fo{constructor(t,n){this.projectId=t,this.database=n||Cc}static empty(){return new Fo("","")}get isDefaultDatabase(){return this.database===Cc}isEqual(t){return t instanceof Fo&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="__type__",uV="__max__",hu={mapValue:{}},sw="__vector__",Dc="value";function sr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Bp(e)?4:hV(e)?9007199254740991:cV(e)?10:11:Q(28295,{value:e})}function On(e,t){if(e===t)return!0;const n=sr(e);if(n!==sr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ho(e).isEqual(Ho(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const a=ir(r.timestampValue),l=ir(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,s){return rr(r.bytesValue).isEqual(rr(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,s){return zt(r.geoPointValue.latitude)===zt(s.geoPointValue.latitude)&&zt(r.geoPointValue.longitude)===zt(s.geoPointValue.longitude)}(e,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return zt(r.integerValue)===zt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const a=zt(r.doubleValue),l=zt(s.doubleValue);return a===l?Ic(a)===Ic(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return ta(e.arrayValue.values||[],t.arrayValue.values||[],On);case 10:case 11:return function(r,s){const a=r.mapValue.fields||{},l=s.mapValue.fields||{};if(Lv(a)!==Lv(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!On(a[u],l[u])))return!1;return!0}(e,t);default:return Q(52216,{left:e})}}function Go(e,t){return(e.values||[]).find(n=>On(n,t))!==void 0}function ea(e,t){if(e===t)return 0;const n=sr(e),i=sr(t);if(n!==i)return rt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return rt(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=zt(s.integerValue||s.doubleValue),u=zt(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(e,t);case 3:return zv(e.timestampValue,t.timestampValue);case 4:return zv(Ho(e),Ho(t));case 5:return tm(e.stringValue,t.stringValue);case 6:return function(s,a){const l=rr(s),u=rr(a);return l.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),u=a.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=rt(l[c],u[c]);if(f!==0)return f}return rt(l.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=rt(zt(s.latitude),zt(a.latitude));return l!==0?l:rt(zt(s.longitude),zt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return jv(e.arrayValue,t.arrayValue);case 10:return function(s,a){var m,y,b,C;const l=s.fields||{},u=a.fields||{},c=(m=l[Dc])==null?void 0:m.arrayValue,f=(y=u[Dc])==null?void 0:y.arrayValue,p=rt(((b=c==null?void 0:c.values)==null?void 0:b.length)||0,((C=f==null?void 0:f.values)==null?void 0:C.length)||0);return p!==0?p:jv(c,f)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===hu.mapValue&&a===hu.mapValue)return 0;if(s===hu.mapValue)return 1;if(a===hu.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=a.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=tm(u[p],f[p]);if(m!==0)return m;const y=ea(l[u[p]],c[f[p]]);if(y!==0)return y}return rt(u.length,f.length)}(e.mapValue,t.mapValue);default:throw Q(23264,{he:n})}}function zv(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return rt(e,t);const n=ir(e),i=ir(t),r=rt(n.seconds,i.seconds);return r!==0?r:rt(n.nanos,i.nanos)}function jv(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=ea(n[r],i[r]);if(s)return s}return rt(n.length,i.length)}function na(e){return em(e)}function em(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=ir(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return rr(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return G.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=em(s);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const a of i)s?s=!1:r+=",",r+=`${a}:${em(n.fields[a])}`;return r+"}"}(e.mapValue):Q(61005,{value:e})}function ku(e){switch(sr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(e);return t?16+ku(t):16;case 5:return 2*e.stringValue.length;case 6:return rr(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+ku(s),0)}(e.arrayValue);case 10:case 11:return function(i){let r=0;return fr(i.fields,(s,a)=>{r+=s.length+ku(a)}),r}(e.mapValue);default:throw Q(13486,{value:e})}}function qv(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function nm(e){return!!e&&"integerValue"in e}function zp(e){return!!e&&"arrayValue"in e}function Hv(e){return!!e&&"nullValue"in e}function Fv(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Uu(e){return!!e&&"mapValue"in e}function cV(e){var n,i;return((i=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[rw])==null?void 0:i.stringValue)===sw}function vo(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return fr(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=vo(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=vo(e.arrayValue.values[n]);return t}return{...e}}function hV(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===uV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.value=t}static empty(){return new Ce({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Uu(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=vo(n)}setAll(t){let n=ae.emptyPath(),i={},r=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,i,r),i={},r=[],n=l.popLast()}a?i[l.lastSegment()]=vo(a):r.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(t){const n=this.field(t.popLast());Uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return On(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=n.mapValue.fields[t.get(i)];Uu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(t,n,i){fr(n,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new Ce(vo(this.value))}}function aw(e){const t=[];return fr(e.fields,(n,i)=>{const r=new ae([n]);if(Uu(i)){const s=aw(i.mapValue).fields;if(s.length===0)t.push(r);else for(const a of s)t.push(r.child(a))}else t.push(r)}),new Le(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(t,n,i,r,s,a,l){this.key=t,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new me(t,0,$.min(),$.min(),$.min(),Ce.empty(),0)}static newFoundDocument(t,n,i,r){return new me(t,1,n,$.min(),i,r,0)}static newNoDocument(t,n){return new me(t,2,n,$.min(),$.min(),Ce.empty(),0)}static newUnknownDocument(t,n){return new me(t,3,n,$.min(),$.min(),Ce.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual($.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ce.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ce.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof me&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(t,n){this.position=t,this.inclusive=n}}function Gv(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(s.field.isKeyField()?i=G.comparator(G.fromName(a.referenceValue),n.key):i=ea(a,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function Kv(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!On(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t,n="asc"){this.field=t,this.dir=n}}function fV(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{}class Ft extends ow{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new mV(t,n,i):n==="array-contains"?new yV(t,i):n==="in"?new _V(t,i):n==="not-in"?new vV(t,i):n==="array-contains-any"?new EV(t,i):new Ft(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new pV(t,i):new gV(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ea(n,this.value)):n!==null&&sr(this.value)===sr(n)&&this.matchesComparison(ea(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fn extends ow{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new fn(t,n)}matches(t){return lw(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function lw(e){return e.op==="and"}function uw(e){return dV(e)&&lw(e)}function dV(e){for(const t of e.filters)if(t instanceof fn)return!1;return!0}function im(e){if(e instanceof Ft)return e.field.canonicalString()+e.op.toString()+na(e.value);if(uw(e))return e.filters.map(t=>im(t)).join(",");{const t=e.filters.map(n=>im(n)).join(",");return`${e.op}(${t})`}}function cw(e,t){return e instanceof Ft?function(i,r){return r instanceof Ft&&i.op===r.op&&i.field.isEqual(r.field)&&On(i.value,r.value)}(e,t):e instanceof fn?function(i,r){return r instanceof fn&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,a,l)=>s&&cw(a,r.filters[l]),!0):!1}(e,t):void Q(19439)}function hw(e){return e instanceof Ft?function(n){return`${n.field.canonicalString()} ${n.op} ${na(n.value)}`}(e):e instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(hw).join(" ,")+"}"}(e):"Filter"}class mV extends Ft{constructor(t,n,i){super(t,n,i),this.key=G.fromName(i.referenceValue)}matches(t){const n=G.comparator(t.key,this.key);return this.matchesComparison(n)}}class pV extends Ft{constructor(t,n){super(t,"in",n),this.keys=fw("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class gV extends Ft{constructor(t,n){super(t,"not-in",n),this.keys=fw("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function fw(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(i=>G.fromName(i.referenceValue))}class yV extends Ft{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return zp(n)&&Go(n.arrayValue,this.value)}}class _V extends Ft{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Go(this.value.arrayValue,n)}}class vV extends Ft{constructor(t,n){super(t,"not-in",n)}matches(t){if(Go(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Go(this.value.arrayValue,n)}}class EV extends Ft{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Go(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(t,n=null,i=[],r=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function Qv(e,t=null,n=[],i=[],r=null,s=null,a=null){return new TV(e,t,n,i,r,s,a)}function jp(e){const t=W(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>im(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),ch(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>na(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>na(i)).join(",")),t.Te=n}return t.Te}function qp(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fV(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!cw(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Kv(e.startAt,t.startAt)&&Kv(e.endAt,t.endAt)}function rm(e){return G.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(t,n=null,i=[],r=[],s=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function AV(e,t,n,i,r,s,a,l){return new va(e,t,n,i,r,s,a,l)}function fh(e){return new va(e)}function Yv(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function dw(e){return e.collectionGroup!==null}function Eo(e){const t=W(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new $t(ae.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Ko(s,i))}),n.has(ae.keyField().canonicalString())||t.Ie.push(new Ko(ae.keyField(),i))}return t.Ie}function bn(e){const t=W(e);return t.Ee||(t.Ee=SV(t,Eo(e))),t.Ee}function SV(e,t){if(e.limitType==="F")return Qv(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Ko(r.field,s)});const n=e.endAt?new Nc(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Nc(e.startAt.position,e.startAt.inclusive):null;return Qv(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function sm(e,t){const n=e.filters.concat([t]);return new va(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function am(e,t,n){return new va(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dh(e,t){return qp(bn(e),bn(t))&&e.limitType===t.limitType}function mw(e){return`${jp(bn(e))}|lt:${e.limitType}`}function ds(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>hw(r)).join(", ")}]`),ch(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>na(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>na(r)).join(",")),`Target(${i})`}(bn(e))}; limitType=${e.limitType})`}function mh(e,t){return t.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):G.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(e,t)&&function(i,r){for(const s of Eo(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(e,t)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(e,t)&&function(i,r){return!(i.startAt&&!function(a,l,u){const c=Gv(a,l,u);return a.inclusive?c<=0:c<0}(i.startAt,Eo(i),r)||i.endAt&&!function(a,l,u){const c=Gv(a,l,u);return a.inclusive?c>=0:c>0}(i.endAt,Eo(i),r))}(e,t)}function wV(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function pw(e){return(t,n)=>{let i=!1;for(const r of Eo(e)){const s=RV(r,t,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function RV(e,t,n){const i=e.field.isKeyField()?G.comparator(t.key,n.key):function(s,a,l){const u=a.data.field(s),c=l.data.field(s);return u!==null&&c!==null?ea(u,c):Q(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Q(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,n]);r.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){fr(this.inner,(n,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return ZS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=new Dt(G.comparator);function ci(){return bV}const gw=new Dt(G.comparator);function Za(...e){let t=gw;for(const n of e)t=t.insert(n.key,n);return t}function yw(e){let t=gw;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Rr(){return To()}function _w(){return To()}function To(){return new Zr(e=>e.toString(),(e,t)=>e.isEqual(t))}const IV=new Dt(G.comparator),CV=new $t(G.comparator);function st(...e){let t=CV;for(const n of e)t=t.add(n);return t}const DV=new $t(rt);function NV(){return DV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(t)?"-0":t}}function vw(e){return{integerValue:""+e}}function OV(e,t){return rV(t)?vw(t):Hp(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(){this._=void 0}}function MV(e,t,n){return e instanceof Qo?function(r,s){const a={fields:{[ew]:{stringValue:tw},[iw]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Bp(s)&&(s=hh(s)),s&&(a.fields[nw]=s),{mapValue:a}}(n,t):e instanceof ia?Tw(e,t):e instanceof Yo?Aw(e,t):function(r,s){const a=Ew(r,s),l=$v(a)+$v(r.Ae);return nm(a)&&nm(r.Ae)?vw(l):Hp(r.serializer,l)}(e,t)}function VV(e,t,n){return e instanceof ia?Tw(e,t):e instanceof Yo?Aw(e,t):n}function Ew(e,t){return e instanceof Oc?function(i){return nm(i)||function(s){return!!s&&"doubleValue"in s}(i)}(t)?t:{integerValue:0}:null}class Qo extends ph{}class ia extends ph{constructor(t){super(),this.elements=t}}function Tw(e,t){const n=Sw(t);for(const i of e.elements)n.some(r=>On(r,i))||n.push(i);return{arrayValue:{values:n}}}class Yo extends ph{constructor(t){super(),this.elements=t}}function Aw(e,t){let n=Sw(t);for(const i of e.elements)n=n.filter(r=>!On(r,i));return{arrayValue:{values:n}}}class Oc extends ph{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function $v(e){return zt(e.integerValue||e.doubleValue)}function Sw(e){return zp(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,n){this.field=t,this.transform=n}}function PV(e,t){return e.field.isEqual(t.field)&&function(i,r){return i instanceof ia&&r instanceof ia||i instanceof Yo&&r instanceof Yo?ta(i.elements,r.elements,On):i instanceof Oc&&r instanceof Oc?On(i.Ae,r.Ae):i instanceof Qo&&r instanceof Qo}(e.transform,t.transform)}class xV{constructor(t,n){this.version=t,this.transformResults=n}}class cn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new cn}static exists(t){return new cn(void 0,t)}static updateTime(t){return new cn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lu(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class gh{}function Rw(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Iw(e.key,cn.none()):new Tl(e.key,e.data,cn.none());{const n=e.data,i=Ce.empty();let r=new $t(ae.comparator);for(let s of t.fields)if(!r.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?i.delete(s):i.set(s,a),r=r.add(s)}return new dr(e.key,i,new Le(r.toArray()),cn.none())}}function kV(e,t,n){e instanceof Tl?function(r,s,a){const l=r.value.clone(),u=Wv(r.fieldTransforms,s,a.transformResults);l.setAll(u),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof dr?function(r,s,a){if(!Lu(r.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Wv(r.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(bw(r)),u.setAll(l),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(r,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Ao(e,t,n,i){return e instanceof Tl?function(s,a,l,u){if(!Lu(s.precondition,a))return l;const c=s.value.clone(),f=Zv(s.fieldTransforms,u,a);return c.setAll(f),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof dr?function(s,a,l,u){if(!Lu(s.precondition,a))return l;const c=Zv(s.fieldTransforms,u,a),f=a.data;return f.setAll(bw(s)),f.setAll(c),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(e,t,n,i):function(s,a,l){return Lu(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function UV(e,t){let n=null;for(const i of e.fieldTransforms){const r=t.data.field(i.field),s=Ew(i.transform,r||null);s!=null&&(n===null&&(n=Ce.empty()),n.set(i.field,s))}return n||null}function Xv(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ta(i,r,(s,a)=>PV(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Tl extends gh{constructor(t,n,i,r=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class dr extends gh{constructor(t,n,i,r,s=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bw(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Wv(e,t,n){const i=new Map;ht(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,l=t.data.field(s.field);i.set(s.field,VV(a,l,n[r]))}return i}function Zv(e,t,n){const i=new Map;for(const r of e){const s=r.transform,a=n.data.field(r.field);i.set(r.field,MV(s,a,t))}return i}class Iw extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LV extends gh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(t,n,i,r){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&kV(s,t,i[r])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ao(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ao(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=_w();return this.mutations.forEach(r=>{const s=t.get(r.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(r.key)?null:l;const u=Rw(a,l);u!==null&&i.set(r.key,u),a.isValidDocument()||a.convertToNoDocument($.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),st())}isEqual(t){return this.batchId===t.batchId&&ta(this.mutations,t.mutations,(n,i)=>Xv(n,i))&&ta(this.baseMutations,t.baseMutations,(n,i)=>Xv(n,i))}}class Fp{constructor(t,n,i,r){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(t,n,i){ht(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=function(){return IV}();const s=t.mutations;for(let a=0;a<s.length;a++)r=r.insert(s[a].key,i[a].version);return new Fp(t,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,at;function qV(e){switch(e){case x.OK:return Q(64938);case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0;default:return Q(15467,{code:e})}}function Cw(e){if(e===void 0)return ui("GRPC error has no .code"),x.UNKNOWN;switch(e){case qt.OK:return x.OK;case qt.CANCELLED:return x.CANCELLED;case qt.UNKNOWN:return x.UNKNOWN;case qt.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case qt.INTERNAL:return x.INTERNAL;case qt.UNAVAILABLE:return x.UNAVAILABLE;case qt.UNAUTHENTICATED:return x.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case qt.NOT_FOUND:return x.NOT_FOUND;case qt.ALREADY_EXISTS:return x.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return x.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case qt.ABORTED:return x.ABORTED;case qt.OUT_OF_RANGE:return x.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return x.UNIMPLEMENTED;case qt.DATA_LOSS:return x.DATA_LOSS;default:return Q(39323,{code:e})}}(at=qt||(qt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new Yi([4294967295,4294967295],0);function Jv(e){const t=HV().encode(e),n=new jS;return n.update(t),new Uint8Array(n.digest())}function tE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Yi([n,i],0),new Yi([r,s],0)]}class Gp{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Ja(`Invalid padding: ${n}`);if(i<0)throw new Ja(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ja(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Ja(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Yi.fromNumber(this.ge)}ye(t,n,i){let r=t.add(n.multiply(Yi.fromNumber(i)));return r.compare(FV)===1&&(r=new Yi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Jv(t),[i,r]=tE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);if(!this.we(a))return!1}return!0}static create(t,n,i){const r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Gp(s,r,n);return i.forEach(l=>a.insert(l)),a}insert(t){if(this.ge===0)return;const n=Jv(t),[i,r]=tE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(i,r,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Ja extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n,i,r,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const r=new Map;return r.set(t,Al.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new yh($.min(),r,new Dt(rt),ci(),st())}}class Al{constructor(t,n,i,r,s){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new Al(i,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(t,n,i,r){this.be=t,this.removedTargetIds=n,this.key=i,this.De=r}}class Dw{constructor(t,n){this.targetId=t,this.Ce=n}}class Nw{constructor(t,n,i=le.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=r}}class eE{constructor(){this.ve=0,this.Fe=nE(),this.Me=le.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=st(),n=st(),i=st();return this.Fe.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:Q(38017,{changeType:s})}}),new Al(this.Me,this.xe,t,n,i)}qe(){this.Oe=!1,this.Fe=nE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class GV{constructor(t){this.Ge=t,this.ze=new Map,this.je=ci(),this.Je=fu(),this.He=fu(),this.Ye=new Dt(rt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const i=this.nt(n);switch(t.state){case 0:this.rt(n)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),i.Le(t.resumeToken));break;default:Q(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((i,r)=>{this.rt(r)&&n(r)})}st(t){const n=t.targetId,i=t.Ce.count,r=this.ot(n);if(r){const s=r.target;if(rm(s))if(i===0){const a=new G(s.path);this.et(n,a,me.newNoDocument(a,$.min()))}else ht(i===1,20013,{expectedCount:i});else{const a=this._t(n);if(a!==i){const l=this.ut(t),u=l?this.ct(l,t,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let a,l;try{a=rr(i).toUint8Array()}catch(u){if(u instanceof JS)return Js("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Gp(a,r,s)}catch(u){return Js(u instanceof Ja?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.ge===0?null:l}ct(t,n,i){return n.Ce.count===i-this.Pt(t,n.targetId)?0:2}Pt(t,n){const i=this.Ge.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.et(n,s,null),r++)}),r}Tt(t){const n=new Map;this.ze.forEach((s,a)=>{const l=this.ot(a);if(l){if(s.current&&rm(l.target)){const u=new G(l.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,me.newNoDocument(u,t))}s.Be&&(n.set(a,s.ke()),s.qe())}});let i=st();this.He.forEach((s,a)=>{let l=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(i=i.add(s))}),this.je.forEach((s,a)=>a.setReadTime(t));const r=new yh(t,n,this.Ye,this.je,i);return this.je=ci(),this.Je=fu(),this.He=fu(),this.Ye=new Dt(rt),r}Xe(t,n){if(!this.rt(t))return;const i=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,i),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,n)?r.Qe(n,1):r.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),i&&(this.je=this.je.insert(n,i))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new eE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new $t(rt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new $t(rt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||F("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new eE),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function fu(){return new Dt(G.comparator)}function nE(){return new Dt(G.comparator)}const KV={asc:"ASCENDING",desc:"DESCENDING"},QV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YV={and:"AND",or:"OR"};class $V{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function om(e,t){return e.useProto3Json||ch(t)?t:{value:t}}function Mc(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ow(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function XV(e,t){return Mc(e,t.toTimestamp())}function In(e){return ht(!!e,49232),$.fromTimestamp(function(n){const i=ir(n);return new At(i.seconds,i.nanos)}(e))}function Kp(e,t){return lm(e,t).canonicalString()}function lm(e,t){const n=function(r){return new _t(["projects",r.projectId,"databases",r.database])}(e).child("documents");return t===void 0?n:n.child(t)}function Mw(e){const t=_t.fromString(e);return ht(Uw(t),10190,{key:t.toString()}),t}function um(e,t){return Kp(e.databaseId,t.path)}function qf(e,t){const n=Mw(t);if(n.get(1)!==e.databaseId.projectId)throw new q(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new G(Pw(n))}function Vw(e,t){return Kp(e.databaseId,t)}function WV(e){const t=Mw(e);return t.length===4?_t.emptyPath():Pw(t)}function cm(e){return new _t(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pw(e){return ht(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function iE(e,t,n){return{name:um(e,t),fields:n.value.mapValue.fields}}function ZV(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(c,f){return c.useProto3Json?(ht(f===void 0||typeof f=="string",58123),le.fromBase64String(f||"")):(ht(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),le.fromUint8Array(f||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(c){const f=c.code===void 0?x.UNKNOWN:Cw(c.code);return new q(f,c.message||"")}(a);n=new Nw(i,r,s,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=qf(e,i.document.name),s=In(i.document.updateTime),a=i.document.createTime?In(i.document.createTime):$.min(),l=new Ce({mapValue:{fields:i.document.fields}}),u=me.newFoundDocument(r,s,a,l),c=i.targetIds||[],f=i.removedTargetIds||[];n=new Bu(c,f,u.key,u)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=qf(e,i.document),s=i.readTime?In(i.readTime):$.min(),a=me.newNoDocument(r,s),l=i.removedTargetIds||[];n=new Bu([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=qf(e,i.document),s=i.removedTargetIds||[];n=new Bu([],s,r,null)}else{if(!("filter"in t))return Q(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,a=new jV(r,s),l=i.targetId;n=new Dw(l,a)}}return n}function JV(e,t){let n;if(t instanceof Tl)n={update:iE(e,t.key,t.value)};else if(t instanceof Iw)n={delete:um(e,t.key)};else if(t instanceof dr)n={update:iE(e,t.key,t.data),updateMask:lP(t.fieldMask)};else{if(!(t instanceof LV))return Q(16599,{Vt:t.type});n={verify:um(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(s,a){const l=a.transform;if(l instanceof Qo)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ia)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Yo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Oc)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Q(20930,{transform:a.transform})}(0,i))),t.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:XV(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q(27497)}(e,t.precondition)),n}function tP(e,t){return e&&e.length>0?(ht(t!==void 0,14353),e.map(n=>function(r,s){let a=r.updateTime?In(r.updateTime):In(s);return a.isEqual($.min())&&(a=In(s)),new xV(a,r.transformResults||[])}(n,t))):[]}function eP(e,t){return{documents:[Vw(e,t.path)]}}function nP(e,t){const n={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=Vw(e,r);const s=function(c){if(c.length!==0)return kw(fn.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:ms(m.field),direction:sP(m.dir)}}(f))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=om(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:r}}function iP(e){let t=WV(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ht(i===1,65062);const f=n.from[0];f.allDescendants?r=f.collectionId:t=t.child(f.collectionId)}let s=[];n.where&&(s=function(p){const m=xw(p);return m instanceof fn&&uw(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(m=>function(b){return new Ko(ps(b.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,ch(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,y=p.values||[];return new Nc(y,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,y=p.values||[];return new Nc(y,m)}(n.endAt)),AV(t,r,a,s,l,"F",u,c)}function rP(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:r})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function xw(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ps(n.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=ps(n.unaryFilter.field);return Ft.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ps(n.unaryFilter.field);return Ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ps(n.unaryFilter.field);return Ft.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}}(e):e.fieldFilter!==void 0?function(n){return Ft.create(ps(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(i=>xw(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Q(1026)}}(n.compositeFilter.op))}(e):Q(30097,{filter:e})}function sP(e){return KV[e]}function aP(e){return QV[e]}function oP(e){return YV[e]}function ms(e){return{fieldPath:e.canonicalString()}}function ps(e){return ae.fromServerFormat(e.fieldPath)}function kw(e){return e instanceof Ft?function(n){if(n.op==="=="){if(Fv(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NAN"}};if(Hv(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fv(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NAN"}};if(Hv(n.value))return{unaryFilter:{field:ms(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ms(n.field),op:aP(n.op),value:n.value}}}(e):e instanceof fn?function(n){const i=n.getFilters().map(r=>kw(r));return i.length===1?i[0]:{compositeFilter:{op:oP(n.op),filters:i}}}(e):Q(54877,{filter:e})}function lP(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Uw(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t,n,i,r,s=$.min(),a=$.min(),l=le.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(t){return new Ui(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(t){this.yt=t}}function cP(e){const t=iP({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?am(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.Cn=new fP}addToCollectionParentIndex(t,n){return this.Cn.add(n),k.resolve()}getCollectionParents(t,n){return k.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return k.resolve()}deleteFieldIndex(t,n){return k.resolve()}deleteAllFieldIndexes(t){return k.resolve()}createTargetIndexes(t,n){return k.resolve()}getDocumentsMatchingTarget(t,n){return k.resolve(null)}getIndexType(t,n){return k.resolve(0)}getFieldIndexes(t,n){return k.resolve([])}getNextCollectionGroupToUpdate(t){return k.resolve(null)}getMinOffset(t,n){return k.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,n){return k.resolve(nr.min())}updateCollectionGroup(t,n,i){return k.resolve()}updateIndexEntries(t,n){return k.resolve()}}class fP{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n]||new $t(_t.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(t){const n=t.lastSegment(),i=t.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(t){return(this.index[t]||new $t(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Lw=41943040;class Ie{static withCacheSize(t){return new Ie(t,Ie.DEFAULT_COLLECTION_PERCENTILE,Ie.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ie.DEFAULT_COLLECTION_PERCENTILE=10,Ie.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ie.DEFAULT=new Ie(Lw,Ie.DEFAULT_COLLECTION_PERCENTILE,Ie.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ie.DISABLED=new Ie(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ra(0)}static cr(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="LruGarbageCollector",dP=1048576;function aE([e,t],[n,i]){const r=rt(e,n);return r===0?rt(t,i):r}class mP{constructor(t){this.Ir=t,this.buffer=new $t(aE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();aE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pP{constructor(t,n,i){this.garbageCollector=t,this.asyncQueue=n,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){F(sE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){_a(n)?F(sE,"Ignoring IndexedDB error during garbage collection: ",n):await ya(n)}await this.Vr(3e5)})}}class gP{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(i=>Math.floor(n/100*i))}nthSequenceNumber(t,n){if(n===0)return k.resolve(uh.ce);const i=new mP(n);return this.mr.forEachTarget(t,r=>i.Ar(r.sequenceNumber)).next(()=>this.mr.pr(t,r=>i.Ar(r))).next(()=>i.maxValue)}removeTargets(t,n,i){return this.mr.removeTargets(t,n,i)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(F("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(rE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(F("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let i,r,s,a,l,u,c;const f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(F("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),r=this.params.maximumSequenceNumbersToCollect):r=p,a=Date.now(),this.nthSequenceNumber(t,r))).next(p=>(i=p,l=Date.now(),this.removeTargets(t,i,n))).next(p=>(s=p,u=Date.now(),this.removeOrphanedDocuments(t,i))).next(p=>(c=Date.now(),fs()<=it.DEBUG&&F("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${r} in `+(l-a)+`ms
	Removed ${s} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:p})))}}function yP(e,t){return new gP(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this.changes=new Zr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,me.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?k.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t,n,i,r){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,n))).next(r=>(i!==null&&Ao(i.mutation,r,Le.empty(),At.now()),r))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,st()).next(()=>i))}getLocalViewOfDocuments(t,n,i=st()){const r=Rr();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,i).next(s=>{let a=Za();return s.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const i=Rr();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,st()))}populateOverlays(t,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,i,r){let s=ci();const a=To(),l=function(){return To()}();return n.forEach((u,c)=>{const f=i.get(c.key);r.has(c.key)&&(f===void 0||f.mutation instanceof dr)?s=s.insert(c.key,c):f!==void 0?(a.set(c.key,f.mutation.getFieldMask()),Ao(f.mutation,c,f.mutation.getFieldMask(),At.now())):a.set(c.key,Le.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((c,f)=>a.set(c,f)),n.forEach((c,f)=>l.set(c,new vP(f,a.get(c)??null))),l))}recalculateAndSaveOverlays(t,n){const i=To();let r=new Dt((a,l)=>a-l),s=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=i.get(u)||Le.empty();f=l.applyToLocalView(c,f),i.set(u,f);const p=(r.get(l.batchId)||st()).add(u);r=r.insert(l.batchId,p)})}).next(()=>{const a=[],l=r.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=_w();f.forEach(m=>{if(!s.has(m)){const y=Rw(n.get(m),i.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,p))}return k.waitFor(a)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i,r){return function(a){return G.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):dw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i,r):this.getDocumentsMatchingCollectionQuery(t,n,i,r)}getNextDocuments(t,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,r).next(s=>{const a=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,r-s.size):k.resolve(Rr());let l=qo,u=s;return a.next(c=>k.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),s.get(f)?k.resolve():this.remoteDocumentCache.getEntry(t,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,u,c,st())).next(f=>({batchId:l,changes:yw(f)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new G(n)).next(i=>{let r=Za();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,n,i,r){const s=n.collectionGroup;let a=Za();return this.indexManager.getCollectionParents(t,s).next(l=>k.forEach(l,u=>{const c=function(p,m){return new va(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,i,r).next(f=>{f.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s,r))).next(a=>{s.forEach((u,c)=>{const f=c.getKey();a.get(f)===null&&(a=a.insert(f,me.newInvalidDocument(f)))});let l=Za();return a.forEach((u,c)=>{const f=s.get(u);f!==void 0&&Ao(f.mutation,c,Le.empty(),At.now()),mh(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return k.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:In(r.createTime)}}(n)),k.resolve()}getNamedQuery(t,n){return k.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(r){return{name:r.name,query:cP(r.bundledQuery),readTime:In(r.readTime)}}(n)),k.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.overlays=new Dt(G.comparator),this.qr=new Map}getOverlay(t,n){return k.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Rr();return k.forEach(n,r=>this.getOverlay(t,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((r,s)=>{this.St(t,n,s)}),k.resolve()}removeOverlaysForBatchId(t,n,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(i)),k.resolve()}getOverlaysForCollection(t,n,i){const r=Rr(),s=n.length+1,a=new G(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>i&&r.set(u.getKey(),u)}return k.resolve(r)}getOverlaysForCollectionGroup(t,n,i,r){let s=new Dt((c,f)=>c-f);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let f=s.get(c.largestBatchId);f===null&&(f=Rr(),s=s.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Rr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=r)););return k.resolve(l)}St(t,n,i){const r=this.overlays.get(i.key);if(r!==null){const a=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,a)}this.overlays=this.overlays.insert(i.key,new zV(n,i));let s=this.qr.get(n);s===void 0&&(s=st(),this.qr.set(n,s)),this.qr.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(){this.sessionToken=le.EMPTY_BYTE_STRING}getSessionToken(t){return k.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,k.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(){this.Qr=new $t(Wt.$r),this.Ur=new $t(Wt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const i=new Wt(t,n);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Gr(new Wt(t,n))}zr(t,n){t.forEach(i=>this.removeReference(i,n))}jr(t){const n=new G(new _t([])),i=new Wt(n,t),r=new Wt(n,t+1),s=[];return this.Ur.forEachInRange([i,r],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new G(new _t([])),i=new Wt(n,t),r=new Wt(n,t+1);let s=st();return this.Ur.forEachInRange([i,r],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new Wt(t,0),i=this.Qr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class Wt{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return G.comparator(t.key,n.key)||rt(t.Yr,n.Yr)}static Kr(t,n){return rt(t.Yr,n.Yr)||G.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Wt.$r)}checkEmpty(t){return k.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,r){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new BV(s,n,i,r);this.mutationQueue.push(a);for(const l of r)this.Zr=this.Zr.add(new Wt(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return k.resolve(a)}lookupMutationBatch(t,n){return k.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,r=this.ei(i),s=r<0?0:r;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(this.mutationQueue.length===0?Lp:this.tr-1)}getAllMutationBatches(t){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new Wt(n,0),r=new Wt(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([i,r],a=>{const l=this.Xr(a.Yr);s.push(l)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new $t(rt);return n.forEach(r=>{const s=new Wt(r,0),a=new Wt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],l=>{i=i.add(l.Yr)})}),k.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,r=i.length+1;let s=i;G.isDocumentKey(s)||(s=s.child(""));const a=new Wt(new G(s),0);let l=new $t(rt);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(l=l.add(u.Yr)),!0)},a),k.resolve(this.ti(l))}ti(t){const n=[];return t.forEach(i=>{const r=this.Xr(i);r!==null&&n.push(r)}),n}removeMutationBatch(t,n){ht(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return k.forEach(n.mutations,r=>{const s=new Wt(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Zr=i})}ir(t){}containsKey(t,n){const i=new Wt(n,0),r=this.Zr.firstAfterOrEqual(i);return k.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,k.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(t){this.ri=t,this.docs=function(){return new Dt(G.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,a=this.ri(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return k.resolve(i?i.document.mutableCopy():me.newInvalidDocument(n))}getEntries(t,n){let i=ci();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():me.newInvalidDocument(r))}),k.resolve(i)}getDocumentsMatchingQuery(t,n,i,r){let s=ci();const a=n.path,l=new G(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||tV(JM(f),i)<=0||(r.has(f.key)||mh(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(t,n,i,r){Q(9500)}ii(t,n){return k.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new bP(this)}getSize(t){return k.resolve(this.size)}}class bP extends _P{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)}),k.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(t){this.persistence=t,this.si=new Zr(n=>jp(n),qp),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.oi=0,this._i=new Qp,this.targetCount=0,this.ai=ra.ur()}forEachTarget(t,n){return this.si.forEach((i,r)=>n(r)),k.resolve()}getLastRemoteSnapshotVersion(t){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return k.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.oi&&(this.oi=n),k.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new ra(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,k.resolve()}updateTargetData(t,n){return this.Pr(n),k.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,k.resolve()}removeTargets(t,n,i){let r=0;const s=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&i.get(l.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),r++)}),k.waitFor(s).next(()=>r)}getTargetCount(t){return k.resolve(this.targetCount)}getTargetData(t,n){const i=this.si.get(n)||null;return k.resolve(i)}addMatchingKeys(t,n,i){return this._i.Wr(n,i),k.resolve()}removeMatchingKeys(t,n,i){this._i.zr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(a=>{s.push(r.markPotentiallyOrphaned(t,a))}),k.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),k.resolve()}getMatchingKeysForTargetId(t,n){const i=this._i.Hr(n);return k.resolve(i)}containsKey(t,n){return k.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t,n){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new SP,this.referenceDelegate=t(this),this.Pi=new IP(this),this.indexManager=new hP,this.remoteDocumentCache=function(r){return new RP(r)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new uP(n),this.Ii=new TP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new AP,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.ui[t.toKey()];return i||(i=new wP(n,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,i){F("MemoryPersistence","Starting transaction:",t);const r=new CP(this.ci.next());return this.referenceDelegate.Ei(),i(r).next(s=>this.referenceDelegate.di(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Ai(t,n){return k.or(Object.values(this.ui).map(i=>()=>i.containsKey(t,n)))}}class CP extends nV{constructor(t){super(),this.currentSequenceNumber=t}}class Yp{constructor(t){this.persistence=t,this.Ri=new Qp,this.Vi=null}static mi(t){return new Yp(t)}get fi(){if(this.Vi)return this.Vi;throw Q(60996)}addReference(t,n,i){return this.Ri.addReference(i,n),this.fi.delete(i.toString()),k.resolve()}removeReference(t,n,i){return this.Ri.removeReference(i,n),this.fi.add(i.toString()),k.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),k.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(r=>this.fi.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(r=>{r.forEach(s=>this.fi.add(s.toString()))}).next(()=>i.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.fi,i=>{const r=G.fromPath(i);return this.gi(t,r).next(s=>{s||n.removeEntry(r,$.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(i=>{i?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return k.or([()=>k.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class Vc{constructor(t,n){this.persistence=t,this.pi=new Zr(i=>sV(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=yP(this,n)}static mi(t,n){return new Vc(t,n)}Ei(){}di(t){return k.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>n.next(r=>i+r))}wr(t){let n=0;return this.pr(t,i=>{n++}).next(()=>n)}pr(t,n){return k.forEach(this.pi,(i,r)=>this.br(t,i,r).next(s=>s?k.resolve():n(r)))}removeTargets(t,n,i){return this.persistence.getTargetCache().removeTargets(t,n,i)}removeOrphanedDocuments(t,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.ii(t,a=>this.br(t,a,n).next(l=>{l||(i++,s.removeEntry(a,$.min()))})).next(()=>s.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),k.resolve()}removeTarget(t,n){const i=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),k.resolve()}removeReference(t,n,i){return this.pi.set(i,t.currentSequenceNumber),k.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),k.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ku(t.data.value)),n}br(t,n,i){return k.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const r=this.pi.get(n);return k.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(t,n,i,r){this.targetId=t,this.fromCache=n,this.Es=i,this.ds=r}static As(t,n){let i=st(),r=st();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new $p(t,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return r2()?8:iV(ye())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,i,r){const s={result:null};return this.ys(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(t,n,r,i).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new DP;return this.Ss(t,n,a).next(l=>{if(s.result=l,this.Vs)return this.bs(t,n,a,l.size)})}).next(()=>s.result)}bs(t,n,i,r){return i.documentReadCount<this.fs?(fs()<=it.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",ds(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),k.resolve()):(fs()<=it.DEBUG&&F("QueryEngine","Query:",ds(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(fs()<=it.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",ds(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bn(n))):k.resolve())}ys(t,n){if(Yv(n))return k.resolve(null);let i=bn(n);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=am(n,null,"F"),i=bn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const a=st(...s);return this.ps.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,i).next(u=>{const c=this.Ds(n,l);return this.Cs(n,c,a,u.readTime)?this.ys(t,am(n,null,"F")):this.vs(t,c,n,u)}))})))}ws(t,n,i,r){return Yv(n)||r.isEqual($.min())?k.resolve(null):this.ps.getDocuments(t,i).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,i,r)?k.resolve(null):(fs()<=it.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ds(n)),this.vs(t,a,n,ZM(r,qo)).next(l=>l))})}Ds(t,n){let i=new $t(pw(t));return n.forEach((r,s)=>{mh(t,s)&&(i=i.add(s))}),i}Cs(t,n,i,r){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Ss(t,n,i){return fs()<=it.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",ds(n)),this.ps.getDocumentsMatchingQuery(t,n,nr.min(),i)}vs(t,n,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="LocalStore",OP=3e8;class MP{constructor(t,n,i,r){this.persistence=t,this.Fs=n,this.serializer=r,this.Ms=new Dt(rt),this.xs=new Zr(s=>jp(s),qp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new EP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function VP(e,t,n,i){return new MP(e,t,n,i)}async function zw(e,t){const n=W(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const a=[],l=[];let u=st();for(const c of r){a.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of s){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(i,u).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:l}))})})}function PP(e,t){const n=W(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,m=p.keys();let y=k.resolve();return m.forEach(b=>{y=y.next(()=>f.getEntry(u,b)).next(C=>{const N=c.docVersions.get(b);ht(N!==null,48541),C.version.compareTo(N)<0&&(p.applyToRemoteDocument(C,c),C.isValidDocument()&&(C.setReadTime(c.commitVersion),f.addEntry(C)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,i,t,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=st();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(t))).next(()=>n.localDocuments.getDocuments(i,r))})}function jw(e){const t=W(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function xP(e,t){const n=W(e),i=t.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const l=[];t.targetChanges.forEach((f,p)=>{const m=r.get(p);if(!m)return;l.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,p).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(p)!==null?y=y.withResumeToken(le.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,i)),r=r.insert(p,y),function(C,N,E){return C.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=OP?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,y,f)&&l.push(n.Pi.updateTargetData(s,y))});let u=ci(),c=st();if(t.documentUpdates.forEach(f=>{t.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),l.push(kP(s,a,t.documentUpdates).next(f=>{u=f.ks,c=f.qs})),!i.isEqual($.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(p=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,i));l.push(f)}return k.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=r,s))}function kP(e,t,n){let i=st(),r=st();return n.forEach(s=>i=i.add(s)),t.getEntries(e,i).next(s=>{let a=ci();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(l)),u.isNoDocument()&&u.version.isEqual($.min())?(t.removeEntry(l,u.readTime),a=a.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),a=a.insert(l,u)):F(Xp,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{ks:a,qs:r}})}function UP(e,t){const n=W(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=Lp),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function LP(e,t){const n=W(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Pi.getTargetData(i,t).next(s=>s?(r=s,k.resolve(r)):n.Pi.allocateTargetId(i).next(a=>(r=new Ui(t,a,"TargetPurposeListen",i.currentSequenceNumber),n.Pi.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(i.targetId,i),n.xs.set(t,i.targetId)),i})}async function hm(e,t,n){const i=W(e),r=i.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,a=>i.persistence.referenceDelegate.removeTarget(a,r))}catch(a){if(!_a(a))throw a;F(Xp,`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function oE(e,t,n){const i=W(e);let r=$.min(),s=st();return i.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,f){const p=W(u),m=p.xs.get(f);return m!==void 0?k.resolve(p.Ms.get(m)):p.Pi.getTargetData(c,f)}(i,a,bn(t)).next(l=>{if(l)return r=l.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(a,l.targetId).next(u=>{s=u})}).next(()=>i.Fs.getDocumentsMatchingQuery(a,t,n?r:$.min(),n?s:st())).next(l=>(BP(i,wV(t),l),{documents:l,Qs:s})))}function BP(e,t,n){let i=e.Os.get(t)||$.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),e.Os.set(t,i)}class lE{constructor(){this.activeTargetIds=NV()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class zP{constructor(){this.Mo=new lE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,i){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new lE,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="ConnectivityMonitor";class cE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){F(uE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){F(uE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du=null;function fm(){return du===null?du=function(){return 268435456+Math.round(2147483648*Math.random())}():du++,"0x"+du.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="RestConnection",qP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HP{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Cc?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,n,i,r,s){const a=fm(),l=this.zo(t,n.toUriEncodedString());F(Hf,`Sending RPC '${t}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,r,s);const{host:c}=new URL(l),f=cr(c);return this.Jo(t,l,u,i,f).then(p=>(F(Hf,`Received RPC '${t}' ${a}: `,p),p),p=>{throw Js(Hf,`RPC '${t}' ${a} failed with error: `,p,"url: ",l,"request:",i),p})}Ho(t,n,i,r,s,a){return this.Go(t,n,i,r,s)}jo(t,n,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}zo(t,n){const i=qP[t];return`${this.Uo}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe="WebChannelConnection";class GP extends HP{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,i,r,s){const a=fm();return new Promise((l,u)=>{const c=new qS;c.setWithCredentials(!0),c.listenOnce(HS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case xu.NO_ERROR:const p=c.getResponseJson();F(fe,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(p)),l(p);break;case xu.TIMEOUT:F(fe,`RPC '${t}' ${a} timed out`),u(new q(x.DEADLINE_EXCEEDED,"Request time out"));break;case xu.HTTP_ERROR:const m=c.getStatus();if(F(fe,`RPC '${t}' ${a} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const b=y==null?void 0:y.error;if(b&&b.status&&b.message){const C=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(_)>=0?_:x.UNKNOWN}(b.status);u(new q(C,b.message))}else u(new q(x.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new q(x.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{l_:t,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{F(fe,`RPC '${t}' ${a} completed.`)}});const f=JSON.stringify(r);F(fe,`RPC '${t}' ${a} sending request:`,r),c.send(n,"POST",f,i,15)})}T_(t,n,i){const r=fm(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=KS(),l=GS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,i),u.encodeInitMessageHeaders=!0;const f=s.join("");F(fe,`Creating RPC '${t}' stream ${r}: ${f}`,u);const p=a.createWebChannel(f,u);this.I_(p);let m=!1,y=!1;const b=new FP({Yo:N=>{y?F(fe,`Not sending because RPC '${t}' stream ${r} is closed:`,N):(m||(F(fe,`Opening RPC '${t}' stream ${r} transport.`),p.open(),m=!0),F(fe,`RPC '${t}' stream ${r} sending:`,N),p.send(N))},Zo:()=>p.close()}),C=(N,E,_)=>{N.listen(E,S=>{try{_(S)}catch(D){setTimeout(()=>{throw D},0)}})};return C(p,Wa.EventType.OPEN,()=>{y||(F(fe,`RPC '${t}' stream ${r} transport opened.`),b.o_())}),C(p,Wa.EventType.CLOSE,()=>{y||(y=!0,F(fe,`RPC '${t}' stream ${r} transport closed`),b.a_(),this.E_(p))}),C(p,Wa.EventType.ERROR,N=>{y||(y=!0,Js(fe,`RPC '${t}' stream ${r} transport errored. Name:`,N.name,"Message:",N.message),b.a_(new q(x.UNAVAILABLE,"The operation could not be completed")))}),C(p,Wa.EventType.MESSAGE,N=>{var E;if(!y){const _=N.data[0];ht(!!_,16349);const S=_,D=(S==null?void 0:S.error)||((E=S[0])==null?void 0:E.error);if(D){F(fe,`RPC '${t}' stream ${r} received error:`,D);const L=D.status;let j=function(T){const w=qt[T];if(w!==void 0)return Cw(w)}(L),A=D.message;j===void 0&&(j=x.INTERNAL,A="Unknown error status: "+L+" with message "+D.message),y=!0,b.a_(new q(j,A)),p.close()}else F(fe,`RPC '${t}' stream ${r} received:`,_),b.u_(_)}}),C(l,FS.STAT_EVENT,N=>{N.stat===Jd.PROXY?F(fe,`RPC '${t}' stream ${r} detected buffering proxy`):N.stat===Jd.NOPROXY&&F(fe,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{b.__()},0),b}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(e){return new $V(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,n,i=1e3,r=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=i,this.A_=r,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&F("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="PersistentStream";class Hw{constructor(t,n,i,r,s,a,l,u){this.Mi=t,this.S_=i,this.b_=r,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new qw(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.D_===n&&this.G_(i,r)},i=>{t(()=>{const r=new q(x.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)})})}G_(t,n){const i=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(r=>{i(()=>this.z_(r))}),this.stream.onMessage(r=>{i(()=>++this.F_==1?this.J_(r):this.onNext(r))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return F(hE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(F(hE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KP extends Hw{constructor(t,n,i,r,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=ZV(this.serializer,t),i=function(s){if(!("targetChange"in s))return $.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?$.min():a.readTime?In(a.readTime):$.min()}(t);return this.listener.H_(n,i)}Y_(t){const n={};n.database=cm(this.serializer),n.addTarget=function(s,a){let l;const u=a.target;if(l=rm(u)?{documents:eP(s,u)}:{query:nP(s,u).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Ow(s,a.resumeToken);const c=om(s,a.expectedCount);c!==null&&(l.expectedCount=c)}else if(a.snapshotVersion.compareTo($.min())>0){l.readTime=Mc(s,a.snapshotVersion.toTimestamp());const c=om(s,a.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,t);const i=rP(this.serializer,t);i&&(n.labels=i),this.q_(n)}Z_(t){const n={};n.database=cm(this.serializer),n.removeTarget=t,this.q_(n)}}class QP extends Hw{constructor(t,n,i,r,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=tP(t.writeResults,t.commitTime),i=In(t.commitTime);return this.listener.na(i,n)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>JV(this.serializer,i))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{}class $P extends YP{constructor(t,n,i,r){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new q(x.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(t,lm(n,i),r,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(x.UNKNOWN,s.toString())})}Ho(t,n,i,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(t,lm(n,i),r,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new q(x.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class XP{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ui(n),this.aa=!1):F("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hr="RemoteStore";class WP{constructor(t,n,i,r,s){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{i.enqueueAndForget(async()=>{Jr(this)&&(F(Hr,"Restarting streams for network reachability change."),await async function(u){const c=W(u);c.Ea.add(4),await Sl(c),c.Ra.set("Unknown"),c.Ea.delete(4),await vh(c)}(this))})}),this.Ra=new XP(i,r)}}async function vh(e){if(Jr(e))for(const t of e.da)await t(!0)}async function Sl(e){for(const t of e.da)await t(!1)}function Fw(e,t){const n=W(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),tg(n)?Jp(n):Ea(n).O_()&&Zp(n,t))}function Wp(e,t){const n=W(e),i=Ea(n);n.Ia.delete(t),i.O_()&&Gw(n,t),n.Ia.size===0&&(i.O_()?i.L_():Jr(n)&&n.Ra.set("Unknown"))}function Zp(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ea(e).Y_(t)}function Gw(e,t){e.Va.Ue(t),Ea(e).Z_(t)}function Jp(e){e.Va=new GV({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Ea(e).start(),e.Ra.ua()}function tg(e){return Jr(e)&&!Ea(e).x_()&&e.Ia.size>0}function Jr(e){return W(e).Ea.size===0}function Kw(e){e.Va=void 0}async function ZP(e){e.Ra.set("Online")}async function JP(e){e.Ia.forEach((t,n)=>{Zp(e,t)})}async function t4(e,t){Kw(e),tg(e)?(e.Ra.ha(t),Jp(e)):e.Ra.set("Unknown")}async function e4(e,t,n){if(e.Ra.set("Online"),t instanceof Nw&&t.state===2&&t.cause)try{await async function(r,s){const a=s.cause;for(const l of s.targetIds)r.Ia.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.Ia.delete(l),r.Va.removeTarget(l))}(e,t)}catch(i){F(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Pc(e,i)}else if(t instanceof Bu?e.Va.Ze(t):t instanceof Dw?e.Va.st(t):e.Va.tt(t),!n.isEqual($.min()))try{const i=await jw(e.localStore);n.compareTo(i)>=0&&await function(s,a){const l=s.Va.Tt(a);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=s.Ia.get(c);f&&s.Ia.set(c,f.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,c)=>{const f=s.Ia.get(u);if(!f)return;s.Ia.set(u,f.withResumeToken(le.EMPTY_BYTE_STRING,f.snapshotVersion)),Gw(s,u);const p=new Ui(f.target,u,c,f.sequenceNumber);Zp(s,p)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(i){F(Hr,"Failed to raise snapshot:",i),await Pc(e,i)}}async function Pc(e,t,n){if(!_a(t))throw t;e.Ea.add(1),await Sl(e),e.Ra.set("Offline"),n||(n=()=>jw(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{F(Hr,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await vh(e)})}function Qw(e,t){return t().catch(n=>Pc(e,n,t))}async function Eh(e){const t=W(e),n=ar(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lp;for(;n4(t);)try{const r=await UP(t.localStore,i);if(r===null){t.Ta.length===0&&n.L_();break}i=r.batchId,i4(t,r)}catch(r){await Pc(t,r)}Yw(t)&&$w(t)}function n4(e){return Jr(e)&&e.Ta.length<10}function i4(e,t){e.Ta.push(t);const n=ar(e);n.O_()&&n.X_&&n.ea(t.mutations)}function Yw(e){return Jr(e)&&!ar(e).x_()&&e.Ta.length>0}function $w(e){ar(e).start()}async function r4(e){ar(e).ra()}async function s4(e){const t=ar(e);for(const n of e.Ta)t.ea(n.mutations)}async function a4(e,t,n){const i=e.Ta.shift(),r=Fp.from(i,t,n);await Qw(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Eh(e)}async function o4(e,t){t&&ar(e).X_&&await async function(i,r){if(function(a){return qV(a)&&a!==x.ABORTED}(r.code)){const s=i.Ta.shift();ar(i).B_(),await Qw(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Eh(i)}}(e,t),Yw(e)&&$w(e)}async function fE(e,t){const n=W(e);n.asyncQueue.verifyOperationInProgress(),F(Hr,"RemoteStore received new credentials");const i=Jr(n);n.Ea.add(3),await Sl(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await vh(n)}async function l4(e,t){const n=W(e);t?(n.Ea.delete(2),await vh(n)):t||(n.Ea.add(2),await Sl(n),n.Ra.set("Unknown"))}function Ea(e){return e.ma||(e.ma=function(n,i,r){const s=W(n);return s.sa(),new KP(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Xo:ZP.bind(null,e),t_:JP.bind(null,e),r_:t4.bind(null,e),H_:e4.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),tg(e)?Jp(e):e.Ra.set("Unknown")):(await e.ma.stop(),Kw(e))})),e.ma}function ar(e){return e.fa||(e.fa=function(n,i,r){const s=W(n);return s.sa(),new QP(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:r4.bind(null,e),r_:o4.bind(null,e),ta:s4.bind(null,e),na:a4.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Eh(e)):(await e.fa.stop(),e.Ta.length>0&&(F(Hr,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n,i,r,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,r,s){const a=Date.now()+i,l=new eg(t,n,a,r,s);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(x.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(e,t){if(ui("AsyncQueue",`${t}: ${e}`),_a(e))return new q(x.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static emptySet(t){return new zs(t.comparator)}constructor(t){this.comparator=t?(n,i)=>t(n,i)||G.comparator(n.key,i.key):(n,i)=>G.comparator(n.key,i.key),this.keyedMap=Za(),this.sortedSet=new Dt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof zs)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new zs;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.ga=new Dt(G.comparator)}track(t){const n=t.doc.key,i=this.ga.get(n);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(n,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(n):t.type===1&&i.type===2?this.ga=this.ga.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Q(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,i)=>{t.push(i)}),t}}class sa{constructor(t,n,i,r,s,a,l,u,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,r,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new sa(t,n,zs.emptySet(n),a,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class c4{constructor(){this.queries=mE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const r=W(n),s=r.queries;r.queries=mE(),s.forEach((a,l)=>{for(const u of l.Sa)u.onError(i)})})(this,new q(x.ABORTED,"Firestore shutting down"))}}function mE(){return new Zr(e=>mw(e),dh)}async function Xw(e,t){const n=W(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.ba()&&t.Da()&&(i=2):(s=new u4,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const l=ng(a,`Initialization of query '${ds(t.query)}' failed`);return void t.onError(l)}n.queries.set(r,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&ig(n)}async function Ww(e,t){const n=W(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?r=t.Da()?0:1:!s.ba()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function h4(e,t){const n=W(e);let i=!1;for(const r of t){const s=r.query,a=n.queries.get(s);if(a){for(const l of a.Sa)l.Fa(r)&&(i=!0);a.wa=r}}i&&ig(n)}function f4(e,t,n){const i=W(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function ig(e){e.Ca.forEach(t=>{t.next()})}var dm,pE;(pE=dm||(dm={})).Ma="default",pE.Cache="cache";class Zw{constructor(t,n,i){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new sa(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const i=n!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=sa.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.key=t}}class tR{constructor(t){this.key=t}}class d4{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=st(),this.mutatedKeys=st(),this.eu=pw(t),this.tu=new zs(this.eu)}get nu(){return this.Ya}ru(t,n){const i=n?n.iu:new dE,r=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=r,l=!1;const u=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,c=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((f,p)=>{const m=r.get(f),y=mh(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),C=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let N=!1;m&&y?m.data.isEqual(y.data)?b!==C&&(i.track({type:3,doc:y}),N=!0):this.su(m,y)||(i.track({type:2,doc:y}),N=!0,(u&&this.eu(y,u)>0||c&&this.eu(y,c)<0)&&(l=!0)):!m&&y?(i.track({type:0,doc:y}),N=!0):m&&!y&&(i.track({type:1,doc:m}),N=!0,(u||c)&&(l=!0)),N&&(y?(a=a.add(y),s=C?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),i.track({type:1,doc:f})}return{tu:a,iu:i,Cs:l,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i,r){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((f,p)=>function(y,b){const C=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{Rt:N})}};return C(y)-C(b)}(f.type,p.type)||this.eu(f.doc,p.doc)),this.ou(i),r=r??!1;const l=n&&!r?this._u():[],u=this.Xa.size===0&&this.current&&!r?1:0,c=u!==this.Za;return this.Za=u,a.length!==0||c?{snapshot:new sa(this.query,t.tu,s,a,t.mutatedKeys,u===0,c,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new dE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=st(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const n=[];return t.forEach(i=>{this.Xa.has(i)||n.push(new tR(i))}),this.Xa.forEach(i=>{t.has(i)||n.push(new Jw(i))}),n}cu(t){this.Ya=t.Qs,this.Xa=st();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return sa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rg="SyncEngine";class m4{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class p4{constructor(t){this.key=t,this.hu=!1}}class g4{constructor(t,n,i,r,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Zr(l=>mw(l),dh),this.Iu=new Map,this.Eu=new Set,this.du=new Dt(G.comparator),this.Au=new Map,this.Ru=new Qp,this.Vu={},this.mu=new Map,this.fu=ra.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function y4(e,t,n=!0){const i=aR(e);let r;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await eR(i,t,n,!0),r}async function _4(e,t){const n=aR(e);await eR(n,t,!0,!1)}async function eR(e,t,n,i){const r=await LP(e.localStore,bn(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return i&&(l=await v4(e,t,s,a==="current",r.resumeToken)),e.isPrimaryClient&&n&&Fw(e.remoteStore,r),l}async function v4(e,t,n,i,r){e.pu=(p,m,y)=>async function(C,N,E,_){let S=N.view.ru(E);S.Cs&&(S=await oE(C.localStore,N.query,!1).then(({documents:A})=>N.view.ru(A,S)));const D=_&&_.targetChanges.get(N.targetId),L=_&&_.targetMismatches.get(N.targetId)!=null,j=N.view.applyChanges(S,C.isPrimaryClient,D,L);return yE(C,N.targetId,j.au),j.snapshot}(e,p,m,y);const s=await oE(e.localStore,t,!0),a=new d4(t,s.Qs),l=a.ru(s.documents),u=Al.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",r),c=a.applyChanges(l,e.isPrimaryClient,u);yE(e,n,c.au);const f=new m4(t,n,a);return e.Tu.set(t,f),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function E4(e,t,n){const i=W(e),r=i.Tu.get(t),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(a=>!dh(a,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await hm(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Wp(i.remoteStore,r.targetId),mm(i,r.targetId)}).catch(ya)):(mm(i,r.targetId),await hm(i.localStore,r.targetId,!0))}async function T4(e,t){const n=W(e),i=n.Tu.get(t),r=n.Iu.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Wp(n.remoteStore,i.targetId))}async function A4(e,t,n){const i=D4(e);try{const r=await function(a,l){const u=W(a),c=At.now(),f=l.reduce((y,b)=>y.add(b.key),st());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=ci(),C=st();return u.Ns.getEntries(y,f).next(N=>{b=N,b.forEach((E,_)=>{_.isValidDocument()||(C=C.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(N=>{p=N;const E=[];for(const _ of l){const S=UV(_,p.get(_.key).overlayedDocument);S!=null&&E.push(new dr(_.key,S,aw(S.value.mapValue),cn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,E,l)}).next(N=>{m=N;const E=N.applyToLocalDocumentSet(p,C);return u.documentOverlayCache.saveOverlays(y,N.batchId,E)})}).then(()=>({batchId:m.batchId,changes:yw(p)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,l,u){let c=a.Vu[a.currentUser.toKey()];c||(c=new Dt(rt)),c=c.insert(l,u),a.Vu[a.currentUser.toKey()]=c}(i,r.batchId,n),await wl(i,r.changes),await Eh(i.remoteStore)}catch(r){const s=ng(r,"Failed to persist write");n.reject(s)}}async function nR(e,t){const n=W(e);try{const i=await xP(n.localStore,t);t.targetChanges.forEach((r,s)=>{const a=n.Au.get(s);a&&(ht(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?a.hu=!0:r.modifiedDocuments.size>0?ht(a.hu,14607):r.removedDocuments.size>0&&(ht(a.hu,42227),a.hu=!1))}),await wl(n,i,t)}catch(i){await ya(i)}}function gE(e,t,n){const i=W(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Tu.forEach((s,a)=>{const l=a.view.va(t);l.snapshot&&r.push(l.snapshot)}),function(a,l){const u=W(a);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const m of p.Sa)m.va(l)&&(c=!0)}),c&&ig(u)}(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function S4(e,t,n){const i=W(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Au.get(t),s=r&&r.key;if(s){let a=new Dt(G.comparator);a=a.insert(s,me.newNoDocument(s,$.min()));const l=st().add(s),u=new yh($.min(),new Map,new Dt(rt),a,l);await nR(i,u),i.du=i.du.remove(s),i.Au.delete(t),sg(i)}else await hm(i.localStore,t,!1).then(()=>mm(i,t,n)).catch(ya)}async function w4(e,t){const n=W(e),i=t.batch.batchId;try{const r=await PP(n.localStore,t);rR(n,i,null),iR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await wl(n,r)}catch(r){await ya(r)}}async function R4(e,t,n){const i=W(e);try{const r=await function(a,l){const u=W(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(ht(p!==null,37113),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(i.localStore,t);rR(i,t,n),iR(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await wl(i,r)}catch(r){await ya(r)}}function iR(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function rR(e,t,n){const i=W(e);let r=i.Vu[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(n?s.reject(n):s.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function mm(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(i=>{e.Ru.containsKey(i)||sR(e,i)})}function sR(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(Wp(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),sg(e))}function yE(e,t,n){for(const i of n)i instanceof Jw?(e.Ru.addReference(i.key,t),b4(e,i)):i instanceof tR?(F(rg,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||sR(e,i.key)):Q(19791,{wu:i})}function b4(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(F(rg,"New document in limbo: "+n),e.Eu.add(i),sg(e))}function sg(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new G(_t.fromString(t)),i=e.fu.next();e.Au.set(i,new p4(n)),e.du=e.du.insert(n,i),Fw(e.remoteStore,new Ui(bn(fh(n.path)),i,"TargetPurposeLimboResolution",uh.ce))}}async function wl(e,t,n){const i=W(e),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((l,u)=>{a.push(i.pu(u,t,n).then(c=>{var f;if((c||n)&&i.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:f.current;i.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){r.push(c);const p=$p.As(u.targetId,c);s.push(p)}}))}),await Promise.all(a),i.Pu.H_(r),await async function(u,c){const f=W(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>k.forEach(c,m=>k.forEach(m.Es,y=>f.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>k.forEach(m.ds,y=>f.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!_a(p))throw p;F(Xp,"Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const y=f.Ms.get(m),b=y.snapshotVersion,C=y.withLastLimboFreeSnapshotVersion(b);f.Ms=f.Ms.insert(m,C)}}}(i.localStore,s))}async function I4(e,t){const n=W(e);if(!n.currentUser.isEqual(t)){F(rg,"User change. New user:",t.toKey());const i=await zw(n.localStore,t);n.currentUser=t,function(s,a){s.mu.forEach(l=>{l.forEach(u=>{u.reject(new q(x.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await wl(n,i.Ls)}}function C4(e,t){const n=W(e),i=n.Au.get(t);if(i&&i.hu)return st().add(i.key);{let r=st();const s=n.Iu.get(t);if(!s)return r;for(const a of s){const l=n.Tu.get(a);r=r.unionWith(l.view.nu)}return r}}function aR(e){const t=W(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=nR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=C4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=S4.bind(null,t),t.Pu.H_=h4.bind(null,t.eventManager),t.Pu.yu=f4.bind(null,t.eventManager),t}function D4(e){const t=W(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=w4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=R4.bind(null,t),t}class xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return VP(this.persistence,new NP,t.initialUser,this.serializer)}Cu(t){return new Bw(Yp.mi,this.serializer)}Du(t){return new zP}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xc.provider={build:()=>new xc};class N4 extends xc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){ht(this.persistence.referenceDelegate instanceof Vc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new pP(i,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ie.withCacheSize(this.cacheSizeBytes):Ie.DEFAULT;return new Bw(i=>Vc.mi(i,n),this.serializer)}}class pm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=I4.bind(null,this.syncEngine),await l4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new c4}()}createDatastore(t){const n=_h(t.databaseInfo.databaseId),i=function(s){return new GP(s)}(t.databaseInfo);return function(s,a,l,u){return new $P(s,a,l,u)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,r,s,a,l){return new WP(i,r,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>gE(this.syncEngine,n,0),function(){return cE.v()?new cE:new jP}())}createSyncEngine(t,n){return function(r,s,a,l,u,c,f){const p=new g4(r,s,a,l,u,c);return f&&(p.gu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(r){const s=W(r);F(Hr,"RemoteStore shutting down."),s.Ea.add(5),await Sl(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}pm.provider={build:()=>new pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ui("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="FirestoreClient";class O4{constructor(t,n,i,r,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=de.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async a=>{F(or,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(i,a=>(F(or,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=ng(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Gf(e,t){e.asyncQueue.verifyOperationInProgress(),F(or,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async r=>{i.isEqual(r)||(await zw(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function _E(e,t){e.asyncQueue.verifyOperationInProgress();const n=await M4(e);F(or,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(i=>fE(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,r)=>fE(t.remoteStore,r)),e._onlineComponents=t}async function M4(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){F(or,"Using user provided OfflineComponentProvider");try{await Gf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(r){return r.name==="FirebaseError"?r.code===x.FAILED_PRECONDITION||r.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Js("Error using user provided cache. Falling back to memory cache: "+n),await Gf(e,new xc)}}else F(or,"Using default OfflineComponentProvider"),await Gf(e,new N4(void 0));return e._offlineComponents}async function lR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(F(or,"Using user provided OnlineComponentProvider"),await _E(e,e._uninitializedComponentsProvider._online)):(F(or,"Using default OnlineComponentProvider"),await _E(e,new pm))),e._onlineComponents}function V4(e){return lR(e).then(t=>t.syncEngine)}async function gm(e){const t=await lR(e),n=t.eventManager;return n.onListen=y4.bind(null,t.syncEngine),n.onUnlisten=E4.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_4.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=T4.bind(null,t.syncEngine),n}function P4(e,t,n={}){const i=new $i;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,u,c){const f=new oR({next:m=>{f.Nu(),a.enqueueAndForget(()=>Ww(s,p));const y=m.docs.has(l);!y&&m.fromCache?c.reject(new q(x.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&u&&u.source==="server"?c.reject(new q(x.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new Zw(fh(l.path),f,{includeMetadataChanges:!0,qa:!0});return Xw(s,p)}(await gm(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="firestore.googleapis.com",EE=!0;class TE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new q(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cR,this.ssl=EE}else this.host=t.host,this.ssl=t.ssl??EE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Lw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<dP)throw new q(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uR(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(x.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(x.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(x.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Th{constructor(t,n,i,r){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new q(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new jM;switch(i.type){case"firstParty":return new GM(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=vE.get(n);i&&(F("ComponentProvider","Removing Datastore"),vE.delete(n),i.terminate())}(this),Promise.resolve()}}function x4(e,t,n,i={}){var c;e=un(e,Th);const r=cr(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;r&&(Sp(`https://${l}`),wp("Firestore",!0)),s.host!==cR&&s.host!==l&&Js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:l,ssl:r,emulatorOptions:i};if(!tr(u,a)&&(e._setSettings(u),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=de.MOCK_USER;else{f=tS(i.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new q(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new de(m)}e._authCredentials=new qM(new YS(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ts(this.firestore,t,this._query)}}class Vt{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vt(this.firestore,t,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(El(n,Vt._jsonSchema))return new Vt(t,i||null,new G(_t.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Gt("string",Vt._jsonSchemaVersion),referencePath:Gt("string")};class Xi extends ts{constructor(t,n,i){super(t,n,fh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vt(this.firestore,null,new G(t))}withConverter(t){return new Xi(this.firestore,t,this._path)}}function hR(e,t,...n){if(e=Pt(e),$S("collection","path",t),e instanceof Th){const i=_t.fromString(t,...n);return Pv(i),new Xi(e,null,i)}{if(!(e instanceof Vt||e instanceof Xi))throw new q(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(_t.fromString(t,...n));return Pv(i),new Xi(e.firestore,null,i)}}function nn(e,t,...n){if(e=Pt(e),arguments.length===1&&(t=Up.newId()),$S("doc","path",t),e instanceof Th){const i=_t.fromString(t,...n);return Vv(i),new Vt(e,null,new G(i))}{if(!(e instanceof Vt||e instanceof Xi))throw new q(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(_t.fromString(t,...n));return Vv(i),new Vt(e.firestore,e instanceof Xi?e.converter:null,new G(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="AsyncQueue";class SE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new qw(this,"async_queue_retry"),this._c=()=>{const i=Ff();i&&F(AE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=Ff();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Ff();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new $i;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!_a(t))throw t;F(AE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,ui("INTERNAL UNHANDLED ERROR: ",wE(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const r=eg.createAndSchedule(this,t,n,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&Q(47125,{Pc:wE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function wE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const r=n;for(const s of i)if(s in r&&typeof r[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Fr extends Th{constructor(t,n,i,r){super(t,n,i,r),this.type="firestore",this._queue=new SE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new SE(t),this._firestoreClient=void 0,await t}}}function k4(e,t){const n=typeof e=="object"?e:Ip(),i=typeof e=="string"?e:Cc,r=rh(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=WA("firestore");s&&x4(r,...s)}return r}function ag(e){if(e._terminated)throw new q(x.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||U4(e),e._firestoreClient}function U4(e){var i,r,s;const t=e._freezeSettings(),n=function(l,u,c,f){return new lV(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,uR(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(e._databaseId,((i=e._app)==null?void 0:i.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(r=t.localCache)!=null&&r._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new O4(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ze(le.fromBase64String(t))}catch(n){throw new q(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Ze(le.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ze._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(El(t,Ze._jsonSchema))return Ze.fromBase64String(t.bytes)}}Ze._jsonSchemaVersion="firestore/bytes/1.0",Ze._jsonSchema={type:Gt("string",Ze._jsonSchemaVersion),bytes:Gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ae(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return rt(this._lat,t._lat)||rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Cn._jsonSchemaVersion}}static fromJSON(t){if(El(t,Cn._jsonSchema))return new Cn(t.latitude,t.longitude)}}Cn._jsonSchemaVersion="firestore/geoPoint/1.0",Cn._jsonSchema={type:Gt("string",Cn._jsonSchemaVersion),latitude:Gt("number"),longitude:Gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Dn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(El(t,Dn._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Dn(t.vectorValues);throw new q(x.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dn._jsonSchemaVersion="firestore/vectorValue/1.0",Dn._jsonSchema={type:Gt("string",Dn._jsonSchemaVersion),vectorValues:Gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=/^__.*__$/;class B4{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new dr(t,this.data,this.fieldMask,n,this.fieldTransforms):new Tl(t,this.data,n,this.fieldTransforms)}}class fR{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new dr(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function dR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ac:e})}}class Sh{constructor(t,n,i,r,s,a){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Sh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var r;const n=(r=this.path)==null?void 0:r.child(t),i=this.Vc({path:n,fc:!1});return i.gc(t),i}yc(t){var r;const n=(r=this.path)==null?void 0:r.child(t),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return kc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(dR(this.Ac)&&L4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class z4{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||_h(t)}Cc(t,n,i,r=!1){return new Sh({Ac:t,methodName:n,Dc:i,path:ae.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wh(e){const t=e._freezeSettings(),n=_h(e._databaseId);return new z4(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mR(e,t,n,i,r,s={}){const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,r);ug("Data must be an object, but it was:",a,i);const l=pR(i,a);let u,c;if(s.merge)u=new Le(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const p of s.mergeFields){const m=ym(t,p,n);if(!a.contains(m))throw new q(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);yR(f,m)||f.push(m)}u=new Le(f),c=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=a.fieldTransforms;return new B4(new Ce(l),u,c)}class Rh extends Rl{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}function j4(e,t,n){return new Sh({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class og extends Rl{_toFieldTransform(t){return new ww(t.path,new Qo)}isEqual(t){return t instanceof og}}class lg extends Rl{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=j4(this,t,!0),i=this.vc.map(s=>Ta(s,n)),r=new ia(i);return new ww(t.path,r)}isEqual(t){return t instanceof lg&&tr(this.vc,t.vc)}}function q4(e,t,n,i){const r=e.Cc(1,t,n);ug("Data must be an object, but it was:",r,i);const s=[],a=Ce.empty();fr(i,(u,c)=>{const f=cg(t,u,n);c=Pt(c);const p=r.yc(f);if(c instanceof Rh)s.push(f);else{const m=Ta(c,p);m!=null&&(s.push(f),a.set(f,m))}});const l=new Le(s);return new fR(a,l,r.fieldTransforms)}function H4(e,t,n,i,r,s){const a=e.Cc(1,t,n),l=[ym(t,i,n)],u=[r];if(s.length%2!=0)throw new q(x.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)l.push(ym(t,s[m])),u.push(s[m+1]);const c=[],f=Ce.empty();for(let m=l.length-1;m>=0;--m)if(!yR(c,l[m])){const y=l[m];let b=u[m];b=Pt(b);const C=a.yc(y);if(b instanceof Rh)c.push(y);else{const N=Ta(b,C);N!=null&&(c.push(y),f.set(y,N))}}const p=new Le(c);return new fR(f,p,a.fieldTransforms)}function F4(e,t,n,i=!1){return Ta(n,e.Cc(i?4:3,t))}function Ta(e,t){if(gR(e=Pt(e)))return ug("Unsupported field value:",t,e),pR(e,t);if(e instanceof Rl)return function(i,r){if(!dR(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(i,r){const s=[];let a=0;for(const l of i){let u=Ta(l,r.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(i,r){if((i=Pt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return OV(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=At.fromDate(i);return{timestampValue:Mc(r.serializer,s)}}if(i instanceof At){const s=new At(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Mc(r.serializer,s)}}if(i instanceof Cn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ze)return{bytesValue:Ow(r.serializer,i._byteString)};if(i instanceof Vt){const s=r.databaseId,a=i.firestore._databaseId;if(!a.isEqual(s))throw r.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Kp(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Dn)return function(a,l){return{mapValue:{fields:{[rw]:{stringValue:sw},[Dc]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw l.Sc("VectorValues must only contain numeric values.");return Hp(l.serializer,c)})}}}}}}(i,r);throw r.Sc(`Unsupported field value: ${lh(i)}`)}(e,t)}function pR(e,t){const n={};return ZS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fr(e,(i,r)=>{const s=Ta(r,t.mc(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function gR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof At||e instanceof Cn||e instanceof Ze||e instanceof Vt||e instanceof Rl||e instanceof Dn)}function ug(e,t,n){if(!gR(n)||!XS(n)){const i=lh(n);throw i==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function ym(e,t,n){if((t=Pt(t))instanceof Ah)return t._internalPath;if(typeof t=="string")return cg(e,t);throw kc("Field path arguments must be of type string or ",e,!1,void 0,n)}const G4=new RegExp("[~\\*/\\[\\]]");function cg(e,t,n){if(t.search(G4)>=0)throw kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ah(...t.split("."))._internalPath}catch{throw kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function kc(e,t,n,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${i}`),a&&(u+=` in document ${r}`),u+=")"),new q(x.INVALID_ARGUMENT,l+e+u)}function yR(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(t,n,i,r,s){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new K4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(hg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class K4 extends _R{data(){return super.data()}}function hg(e,t){return typeof t=="string"?cg(e,t):t instanceof Ah?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class vR extends fg{}function Y4(e,t,...n){let i=[];t instanceof fg&&i.push(t),i=i.concat(n),function(s){const a=s.filter(u=>u instanceof mg).length,l=s.filter(u=>u instanceof dg).length;if(a>1||a>0&&l>0)throw new q(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class dg extends vR{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new dg(t,n,i)}_apply(t){const n=this._parse(t);return ER(t._query,n),new ts(t.firestore,t.converter,sm(t._query,n))}_parse(t){const n=wh(t.firestore);return function(s,a,l,u,c,f,p){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new q(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){IE(p,f);const b=[];for(const C of p)b.push(bE(u,s,C));m={arrayValue:{values:b}}}else m=bE(u,s,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||IE(p,f),m=F4(l,a,p,f==="in"||f==="not-in");return Ft.create(c,f,m)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class mg extends fg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new mg(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,s){let a=r;const l=s.getFlattenedFilters();for(const u of l)ER(a,u),a=sm(a,u)}(t._query,n),new ts(t.firestore,t.converter,sm(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class pg extends vR{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new pg(t,n)}_apply(t){const n=function(r,s,a){if(r.startAt!==null)throw new q(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new q(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ko(s,a)}(t._query,this._field,this._direction);return new ts(t.firestore,t.converter,function(r,s){const a=r.explicitOrderBy.concat([s]);return new va(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,n))}}function $4(e,t="asc"){const n=t,i=hg("orderBy",e);return pg._create(i,n)}function bE(e,t,n){if(typeof(n=Pt(n))=="string"){if(n==="")throw new q(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dw(t)&&n.indexOf("/")!==-1)throw new q(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(_t.fromString(n));if(!G.isDocumentKey(i))throw new q(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return qv(e,new G(i))}if(n instanceof Vt)return qv(e,n._key);throw new q(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(n)}.`)}function IE(e,t){if(!Array.isArray(e)||e.length===0)throw new q(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ER(e,t){const n=function(r,s){for(const a of r)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class X4{convertValue(t,n="none"){switch(sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return zt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(rr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Q(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return fr(t,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(t){var i,r,s;const n=(s=(r=(i=t.fields)==null?void 0:i[Dc].arrayValue)==null?void 0:r.values)==null?void 0:s.map(a=>zt(a.doubleValue));return new Dn(n)}convertGeoPoint(t){return new Cn(zt(t.latitude),zt(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=hh(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ho(t));default:return null}}convertTimestamp(t){const n=ir(t);return new At(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=_t.fromString(t);ht(Uw(i),9688,{name:t});const r=new Fo(i.get(1),i.get(3)),s=new G(i.popFirst(5));return r.isEqual(n)||ui(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class to{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Vr extends _R{constructor(t,n,i,r,s,a){super(t,n,i,r,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(hg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new q(x.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Vr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vr._jsonSchema={type:Gt("string",Vr._jsonSchemaVersion),bundleSource:Gt("string","DocumentSnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class zu extends Vr{data(t={}){return super.data(t)}}class js{constructor(t,n,i,r){this._firestore=t,this._userDataWriter=n,this._snapshot=r,this.metadata=new to(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new zu(this._firestore,this._userDataWriter,i.key,i,new to(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>{const u=new zu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new to(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new zu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new to(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,f=-1;return l.type!==0&&(c=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:W4(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new q(x.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=js._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Up.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function W4(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(e){e=un(e,Vt);const t=un(e.firestore,Fr);return P4(ag(t),e._key).then(n=>wR(t,e,n))}js._jsonSchemaVersion="firestore/querySnapshot/1.0",js._jsonSchema={type:Gt("string",js._jsonSchemaVersion),bundleSource:Gt("string","QuerySnapshot"),bundleName:Gt("string"),bundle:Gt("string")};class SR extends X4{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ze(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}function bl(e,t,n){e=un(e,Vt);const i=un(e.firestore,Fr),r=TR(e.converter,t,n);return gg(i,[mR(wh(i),"setDoc",e._key,r,e.converter!==null,n).toMutation(e._key,cn.none())])}function bh(e,t,n,...i){e=un(e,Vt);const r=un(e.firestore,Fr),s=wh(r);let a;return a=typeof(t=Pt(t))=="string"||t instanceof Ah?H4(s,"updateDoc",e._key,t,n,i):q4(s,"updateDoc",e._key,t),gg(r,[a.toMutation(e._key,cn.exists(!0))])}function Z4(e,t){const n=un(e.firestore,Fr),i=nn(e),r=TR(e.converter,t);return gg(n,[mR(wh(e.firestore),"addDoc",i._key,r,e.converter!==null,{}).toMutation(i._key,cn.exists(!1))]).then(()=>i)}function J4(e,...t){var u,c,f;e=Pt(e);let n={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||RE(t[i])||(n=t[i++]);const r={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(RE(t[i])){const p=t[i];t[i]=(u=p.next)==null?void 0:u.bind(p),t[i+1]=(c=p.error)==null?void 0:c.bind(p),t[i+2]=(f=p.complete)==null?void 0:f.bind(p)}let s,a,l;if(e instanceof Vt)a=un(e.firestore,Fr),l=fh(e._key.path),s={next:p=>{t[i]&&t[i](wR(a,e,p))},error:t[i+1],complete:t[i+2]};else{const p=un(e,ts);a=un(p.firestore,Fr),l=p._query;const m=new SR(a);s={next:y=>{t[i]&&t[i](new js(a,m,p,y))},error:t[i+1],complete:t[i+2]},Q4(e._query)}return function(m,y,b,C){const N=new oR(C),E=new Zw(y,N,b);return m.asyncQueue.enqueueAndForget(async()=>Xw(await gm(m),E)),()=>{N.Nu(),m.asyncQueue.enqueueAndForget(async()=>Ww(await gm(m),E))}}(ag(a),l,r,s)}function gg(e,t){return function(i,r){const s=new $i;return i.asyncQueue.enqueueAndForget(async()=>A4(await V4(i),r,s)),s.promise}(ag(e),t)}function wR(e,t,n){const i=n.docs.get(t._key),r=new SR(e);return new Vr(e,r,t._key,i,new to(n.hasPendingWrites,n.fromCache),t.converter)}function tx(){return new og("serverTimestamp")}function ex(...e){return new lg("arrayUnion",e)}(function(t,n=!0){(function(r){ga=r})(Wr),Br(new er("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),l=new Fr(new HM(i.getProvider("auth-internal")),new KM(a,i.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fo(c.options.projectId,f)}(a,r),a);return s={useFetchStreams:n,...s},l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Sn(Dv,Nv,t),Sn(Dv,Nv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="firebasestorage.googleapis.com",bR="storageBucket",nx=2*60*1e3,ix=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt extends xn{constructor(t,n,i=0){super(Kf(t),`Firebase Storage: ${n} (${Kf(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kt.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Kf(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xt;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xt||(xt={}));function Kf(e){return"storage/"+e}function yg(){const e="An unknown error occurred, please check the error payload for server response.";return new kt(xt.UNKNOWN,e)}function rx(e){return new kt(xt.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}function sx(e){return new kt(xt.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ax(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new kt(xt.UNAUTHENTICATED,e)}function ox(){return new kt(xt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lx(e){return new kt(xt.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}function ux(){return new kt(xt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cx(){return new kt(xt.CANCELED,"User canceled the upload/download.")}function hx(e){return new kt(xt.INVALID_URL,"Invalid URL '"+e+"'.")}function fx(e){return new kt(xt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function dx(){return new kt(xt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bR+"' property when initializing the app?")}function mx(){return new kt(xt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function px(){return new kt(xt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gx(e){return new kt(xt.UNSUPPORTED_ENVIRONMENT,`${e} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _m(e){return new kt(xt.INVALID_ARGUMENT,e)}function IR(){return new kt(xt.APP_DELETED,"The Firebase app was deleted.")}function yx(e){return new kt(xt.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function So(e,t){return new kt(xt.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Fa(e){throw new kt(xt.INTERNAL_ERROR,"Internal error: "+e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let i;try{i=Be.makeFromUrl(t,n)}catch{return new Be(t,"")}if(i.path==="")return i;throw fx(t)}static makeFromUrl(t,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(D){D.path.charAt(D.path.length-1)==="/"&&(D.path_=D.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+r+a,"i"),u={bucket:1,path:3};function c(D){D.path_=decodeURIComponent(D.path)}const f="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${f}/b/${r}/o${m}`,"i"),b={bucket:1,path:3},C=n===RR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",E=new RegExp(`^https?://${C}/${r}/${N}`,"i"),S=[{regex:l,indices:u,postModify:s},{regex:y,indices:b,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let D=0;D<S.length;D++){const L=S[D],j=L.regex.exec(t);if(j){const A=j[L.indices.bucket];let v=j[L.indices.path];v||(v=""),i=new Be(A,v),L.postModify(i);break}}if(i==null)throw hx(t);return i}}class _x{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(e,t,n){let i=1,r=null,s=null,a=!1,l=0;function u(){return l===2}let c=!1;function f(...N){c||(c=!0,t.apply(null,N))}function p(N){r=setTimeout(()=>{r=null,e(y,u())},N)}function m(){s&&clearTimeout(s)}function y(N,...E){if(c){m();return}if(N){m(),f.call(null,N,...E);return}if(u()||a){m(),f.call(null,N,...E);return}i<64&&(i*=2);let S;l===1?(l=2,S=0):S=(i+Math.random())*1e3,p(S)}let b=!1;function C(N){b||(b=!0,m(),!c&&(r!==null?(N||(l=2),clearTimeout(r),p(0)):N||(l=1)))}return p(0),s=setTimeout(()=>{a=!0,C(!0)},n),C}function Ex(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(e){return e!==void 0}function Ax(e){return typeof e=="object"&&!Array.isArray(e)}function _g(e){return typeof e=="string"||e instanceof String}function CE(e){return vg()&&e instanceof Blob}function vg(){return typeof Blob<"u"}function DE(e,t,n,i){if(i<t)throw _m(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw _m(`Invalid value for '${e}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(e,t,n){let i=t;return n==null&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function CR(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){const r=t(i)+"="+t(e[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var Pr;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(Pr||(Pr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(e,t){const n=e>=500&&e<600,r=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t,n,i,r,s,a,l,u,c,f,p,m=!0,y=!1){this.url_=t,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=f,this.connectionFactory_=p,this.retry=m,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,C)=>{this.resolve_=b,this.reject_=C,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new mu(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===Pr.NO_ERROR,u=s.getStatus();if(!l||Sx(u,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Pr.ABORT;i(!1,new mu(!1,null,f));return}const c=this.successCodes_.indexOf(u)!==-1;i(!0,new mu(c,s))})},n=(i,r)=>{const s=this.resolve_,a=this.reject_,l=r.connection;if(r.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());Tx(u)?s(u):s()}catch(u){a(u)}else if(l!==null){const u=yg();u.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,u)):a(u)}else if(r.canceled){const u=this.appDelete_?IR():cx();a(u)}else{const u=ux();a(u)}};this.canceled_?n(!1,new mu(!1,null,!0)):this.backoffId_=vx(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&Ex(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class mu{constructor(t,n,i){this.wasSuccessCode=t,this.connection=n,this.canceled=!!i}}function Rx(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function bx(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function Ix(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Cx(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function Dx(e,t,n,i,r,s,a=!0,l=!1){const u=CR(e.urlParams),c=e.url+u,f=Object.assign({},e.headers);return Ix(f,t),Rx(f,n),bx(f,s),Cx(f,i),new wx(c,e.method,f,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Ox(...e){const t=Nx();if(t!==void 0){const n=new t;for(let i=0;i<e.length;i++)n.append(e[i]);return n.getBlob()}else{if(vg())return new Blob(e);throw new kt(xt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Mx(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(e){if(typeof atob>"u")throw gx("base-64");return atob(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qf{constructor(t,n){this.data=t,this.contentType=n||null}}function Px(e,t){switch(e){case vn.RAW:return new Qf(DR(t));case vn.BASE64:case vn.BASE64URL:return new Qf(NR(e,t));case vn.DATA_URL:return new Qf(kx(t),Ux(t))}throw yg()}function DR(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(n<e.length-1&&(e.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const s=i,a=e.charCodeAt(++n);i=65536|(s&1023)<<10|a&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function xx(e){let t;try{t=decodeURIComponent(e)}catch{throw So(vn.DATA_URL,"Malformed data URL.")}return DR(t)}function NR(e,t){switch(e){case vn.BASE64:{const r=t.indexOf("-")!==-1,s=t.indexOf("_")!==-1;if(r||s)throw So(e,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case vn.BASE64URL:{const r=t.indexOf("+")!==-1,s=t.indexOf("/")!==-1;if(r||s)throw So(e,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Vx(t)}catch(r){throw r.message.includes("polyfill")?r:So(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class OR{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw So(vn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=n[1]||null;i!=null&&(this.base64=Lx(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function kx(e){const t=new OR(e);return t.base64?NR(vn.BASE64,t.rest):xx(t.rest)}function Ux(e){return new OR(e).contentType}function Lx(e,t){return e.length>=t.length?e.substring(e.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t,n){let i=0,r="";CE(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,n){if(CE(this.data_)){const i=this.data_,r=Mx(i,t,n);return r===null?null:new Mi(r)}else{const i=new Uint8Array(this.data_.buffer,t,n-t);return new Mi(i,!0)}}static getBlob(...t){if(vg()){const n=t.map(i=>i instanceof Mi?i.data_:i);return new Mi(Ox.apply(null,n))}else{const n=t.map(a=>_g(a)?Px(vn.RAW,a).data:a.data_);let i=0;n.forEach(a=>{i+=a.byteLength});const r=new Uint8Array(i);let s=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)r[s++]=a[l]}),new Mi(r,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(e){let t;try{t=JSON.parse(e)}catch{return null}return Ax(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function zx(e,t){const n=t.split("/").filter(i=>i.length>0).join("/");return e.length===0?n:e+"/"+n}function VR(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(e,t){return t}class Ee{constructor(t,n,i,r){this.server=t,this.local=n||t,this.writable=!!i,this.xform=r||jx}}let pu=null;function qx(e){return!_g(e)||e.length<2?e:VR(e)}function PR(){if(pu)return pu;const e=[];e.push(new Ee("bucket")),e.push(new Ee("generation")),e.push(new Ee("metageneration")),e.push(new Ee("name","fullPath",!0));function t(s,a){return qx(a)}const n=new Ee("name");n.xform=t,e.push(n);function i(s,a){return a!==void 0?Number(a):a}const r=new Ee("size");return r.xform=i,e.push(r),e.push(new Ee("timeCreated")),e.push(new Ee("updated")),e.push(new Ee("md5Hash",null,!0)),e.push(new Ee("cacheControl",null,!0)),e.push(new Ee("contentDisposition",null,!0)),e.push(new Ee("contentEncoding",null,!0)),e.push(new Ee("contentLanguage",null,!0)),e.push(new Ee("contentType",null,!0)),e.push(new Ee("metadata","customMetadata",!0)),pu=e,pu}function Hx(e,t){function n(){const i=e.bucket,r=e.fullPath,s=new Be(i,r);return t._makeStorageReference(s)}Object.defineProperty(e,"ref",{get:n})}function Fx(e,t,n){const i={};i.type="file";const r=n.length;for(let s=0;s<r;s++){const a=n[s];i[a.local]=a.xform(i,t[a.server])}return Hx(i,e),i}function xR(e,t,n){const i=MR(t);return i===null?null:Fx(e,i,n)}function Gx(e,t,n,i){const r=MR(t);if(r===null||!_g(r.downloadTokens))return null;const s=r.downloadTokens;if(s.length===0)return null;const a=encodeURIComponent;return s.split(",").map(c=>{const f=e.bucket,p=e.fullPath,m="/b/"+a(f)+"/o/"+a(p),y=Eg(m,n,i),b=CR({alt:"media",token:c});return y+b})[0]}function Kx(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(n[s.server]=e[s.local])}return JSON.stringify(n)}class kR{constructor(t,n,i,r){this.url=t,this.method=n,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UR(e){if(!e)throw yg()}function Qx(e,t){function n(i,r){const s=xR(e,r,t);return UR(s!==null),s}return n}function Yx(e,t){function n(i,r){const s=xR(e,r,t);return UR(s!==null),Gx(s,r,e.host,e._protocol)}return n}function LR(e){function t(n,i){let r;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?r=ox():r=ax():n.getStatus()===402?r=sx(e.bucket):n.getStatus()===403?r=lx(e.path):r=i,r.status=n.getStatus(),r.serverResponse=i.serverResponse,r}return t}function $x(e){const t=LR(e);function n(i,r){let s=t(i,r);return i.getStatus()===404&&(s=rx(e.path)),s.serverResponse=r.serverResponse,s}return n}function Xx(e,t,n){const i=t.fullServerUrl(),r=Eg(i,e.host,e._protocol),s="GET",a=e.maxOperationRetryTime,l=new kR(r,s,Yx(e,n),a);return l.errorHandler=$x(t),l}function Wx(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}function Zx(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=Wx(null,t)),i}function Jx(e,t,n,i,r){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let S="";for(let D=0;D<2;D++)S=S+Math.random().toString().slice(2);return S}const u=l();a["Content-Type"]="multipart/related; boundary="+u;const c=Zx(t,i,r),f=Kx(c,n),p="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+f+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,m=`\r
--`+u+"--",y=Mi.getBlob(p,i,m);if(y===null)throw mx();const b={name:c.fullPath},C=Eg(s,e.host,e._protocol),N="POST",E=e.maxUploadRetryTime,_=new kR(C,N,Qx(e,n),E);return _.urlParams=b,_.headers=a,_.body=y.uploadData(),_.errorHandler=LR(t),_}class tk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Pr.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Pr.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Pr.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,i,r,s){if(this.sent_)throw Fa("cannot .send() more than once");if(cr(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class ek extends tk{initXhr(){this.xhr_.responseType="text"}}function BR(){return new ek}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,n){this._service=t,n instanceof Be?this._location=n:this._location=Be.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Gr(t,n)}get root(){const t=new Be(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VR(this._location.path)}get storage(){return this._service}get parent(){const t=Bx(this._location.path);if(t===null)return null;const n=new Be(this._location.bucket,t);return new Gr(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw yx(t)}}function nk(e,t,n){e._throwIfRoot("uploadBytes");const i=Jx(e.storage,e._location,PR(),new Mi(t,!0),n);return e.storage.makeRequestWithTokens(i,BR).then(r=>({metadata:r,ref:e}))}function ik(e){e._throwIfRoot("getDownloadURL");const t=Xx(e.storage,e._location,PR());return e.storage.makeRequestWithTokens(t,BR).then(n=>{if(n===null)throw px();return n})}function rk(e,t){const n=zx(e._location.path,t),i=new Be(e._location.bucket,n);return new Gr(e.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(e){return/^[A-Za-z]+:\/\//.test(e)}function ak(e,t){return new Gr(e,t)}function zR(e,t){if(e instanceof Tg){const n=e;if(n._bucket==null)throw dx();const i=new Gr(n,n._bucket);return t!=null?zR(i,t):i}else return t!==void 0?rk(e,t):e}function ok(e,t){if(t&&sk(t)){if(e instanceof Tg)return ak(e,t);throw _m("To use ref(service, url), the first argument must be a Storage instance.")}else return zR(e,t)}function NE(e,t){const n=t==null?void 0:t[bR];return n==null?null:Be.makeFromBucketSpec(n,e)}function lk(e,t,n,i={}){e.host=`${t}:${n}`;const r=cr(t);r&&(Sp(`https://${e.host}/b`),wp("Storage",!0)),e._isUsingEmulator=!0,e._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(e._overrideAuthToken=typeof s=="string"?s:tS(s,e.app.options.projectId))}class Tg{constructor(t,n,i,r,s,a=!1){this.app=t,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=RR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nx,this._maxUploadRetryTime=ix,this._requests=new Set,r!=null?this._bucket=Be.makeFromBucketSpec(r,this._host):this._bucket=NE(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Be.makeFromBucketSpec(this._url,t):this._bucket=NE(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){DE("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){DE("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Ue(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Gr(this,t)}_makeRequest(t,n,i,r,s=!0){if(this._deleted)return new _x(IR());{const a=Dx(t,this._appId,i,r,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(t,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,i,r).getPromise()}}const OE="@firebase/storage",ME="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="storage";function uk(e,t,n){return e=Pt(e),nk(e,t,n)}function ck(e){return e=Pt(e),ik(e)}function hk(e,t){return e=Pt(e),ok(e,t)}function fk(e=Ip(),t){e=Pt(e);const i=rh(e,jR).getImmediate({identifier:t}),r=WA("storage");return r&&dk(i,...r),i}function dk(e,t,n,i={}){lk(e,t,n,i)}function mk(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new Tg(n,i,r,t,Wr)}function pk(){Br(new er(jR,mk,"PUBLIC").setMultipleInstances(!0)),Sn(OE,ME,""),Sn(OE,ME,"esm2020")}pk();const gk={VITE_FIREBASE_API_KEY:"your_prod_api_key",VITE_FIREBASE_APP_ID:"your_prod_app_id",VITE_FIREBASE_AUTH_DOMAIN:"aurfc-prod-4f0d0.firebaseapp.com",VITE_FIREBASE_MESSAGING_SENDER_ID:"your_prod_sender_id",VITE_FIREBASE_PROJECT_ID:"aurfc-prod-4f0d0",VITE_FIREBASE_STORAGE_BUCKET:"aurfc-prod-4f0d0.appspot.com"},Er=gk,yk={apiKey:Er.VITE_FIREBASE_API_KEY,authDomain:Er.VITE_FIREBASE_AUTH_DOMAIN,projectId:Er.VITE_FIREBASE_PROJECT_ID,storageBucket:Er.VITE_FIREBASE_STORAGE_BUCKET,messagingSenderId:Er.VITE_FIREBASE_MESSAGING_SENDER_ID,appId:Er.VITE_FIREBASE_APP_ID,measurementId:Er.VITE_FIREBASE_MEASUREMENT_ID},Ag=iS(yk),mr=BM(Ag),Ge=k4(Ag),_k=fk(Ag),vk=async(e,t,n,i)=>{if(n==="junior"&&!i)throw new Error("Parental consent required for junior users");try{const s=(await wO(mr,e,t)).user;return await bl(nn(Ge,"users",s.uid),{email:e,role:n,consent:n==="junior"?i:!0}),s}catch(r){throw r}},Ek=async(e,t)=>{try{return(await RO(mr,e,t)).user}catch(n){throw n}},Tk=async e=>{try{await SO(mr,e)}catch(t){throw t}},Ak=async e=>{try{await bO(e)}catch(t){throw t}},Sk=async(e,t)=>{try{const n=nn(Ge,"users",e);await bl(n,t,{merge:!0})}catch(n){throw n}};function wk(){const[e,t]=P.useState(""),[n,i]=P.useState(""),[r,s]=P.useState(null),[a,l]=P.useState(""),u=async f=>{f.preventDefault();try{await Ek(e,n)}catch(p){s(p.message)}},c=async()=>{try{await Tk(a),alert("Password reset email sent")}catch(f){s(f.message)}};return z.jsxs("div",{children:[z.jsx("h2",{children:"Login"}),z.jsxs("form",{onSubmit:u,children:[z.jsx("input",{type:"email",value:e,onChange:f=>t(f.target.value),placeholder:"Email",required:!0}),z.jsx("input",{type:"password",value:n,onChange:f=>i(f.target.value),placeholder:"Password",required:!0}),z.jsx("button",{type:"submit",children:"Login"})]}),r&&z.jsx("p",{children:r}),z.jsx("input",{type:"email",value:a,onChange:f=>l(f.target.value),placeholder:"Email for reset"}),z.jsx("button",{type:"button",onClick:c,children:"Reset Password"})]})}function Rk(){const[e,t]=P.useState(""),[n,i]=P.useState(""),[r,s]=P.useState("player"),[a,l]=P.useState(!1),[u,c]=P.useState(null),f=async p=>{p.preventDefault();try{await vk(e,n,r,a);const m=auth.currentUser;await Ak(m)}catch(m){c(m.message)}};return z.jsxs("div",{children:[z.jsx("h2",{children:"Sign Up"}),z.jsxs("form",{onSubmit:f,children:[z.jsx("input",{type:"email",value:e,onChange:p=>t(p.target.value),placeholder:"Email",required:!0}),z.jsx("input",{type:"password",value:n,onChange:p=>i(p.target.value),placeholder:"Password",required:!0}),z.jsxs("select",{value:r,onChange:p=>s(p.target.value),children:[z.jsx("option",{value:"admin",children:"Admin"}),z.jsx("option",{value:"coach",children:"Coach"}),z.jsx("option",{value:"player",children:"Player"}),z.jsx("option",{value:"parent",children:"Parent"}),z.jsx("option",{value:"junior",children:"Junior"})]}),r==="junior"&&z.jsxs("label",{children:[z.jsx("input",{type:"checkbox",checked:a,onChange:p=>l(p.target.checked)}),"Parental Consent"]}),z.jsx("button",{type:"submit",children:"Sign Up"})]}),u&&z.jsx("p",{children:u})]})}function bk(){const[e,t]=P.useState(""),[n,i]=P.useState(null),r=mr.currentUser;P.useEffect(()=>{(async()=>{if(r){const l=await AR(nn(Ge,"users",r.uid));l.exists()&&t(l.data().name||"")}})()},[r]);const s=async a=>{a.preventDefault();try{await Sk(r.uid,{name:e}),alert("Profile updated")}catch(l){i(l.message)}};return z.jsxs("div",{children:[z.jsx("h2",{children:"Update Profile"}),z.jsxs("form",{onSubmit:s,children:[z.jsx("input",{type:"text",value:e,onChange:a=>t(a.target.value),placeholder:"Name"}),z.jsx("button",{type:"submit",children:"Update"})]}),n&&z.jsx("p",{children:n})]})}const Ik=async(e,t)=>{try{const n=hR(Ge,"chats",e,"messages");return(await Z4(n,{...t,timestamp:tx()})).id}catch(n){throw n}},Ck=(e,t)=>{const n=hR(Ge,"chats",e,"messages"),i=Y4(n,$4("timestamp","asc"));return J4(i,r=>{const s=r.docs.map(a=>({id:a.id,...a.data()}));t(s)})};function Dk({roomId:e}){const[t,n]=P.useState([]),[i,r]=P.useState("");P.useEffect(()=>Ck(e,n),[e]);const s=async()=>{i.trim()&&(await Ik(e,{text:i,userId:mr.currentUser.uid}),r(""))};return z.jsxs("div",{children:[z.jsx("h2",{children:"Chat Room"}),z.jsx("div",{children:t.map(a=>z.jsx("p",{children:a.text},a.id))}),z.jsx("input",{value:i,onChange:a=>r(a.target.value)}),z.jsx("button",{onClick:s,children:"Send"})]})}const Nk=async(e,t)=>{try{const n=nn(Ge,"teams",e);await bl(n,t)}catch(n){throw n}},Ok=async(e,t)=>{try{const n=nn(Ge,"performances",e);await bh(n,t)}catch(n){throw n}},Mk=async(e,t)=>{try{const n=nn(Ge,"drills",e);await bl(n,t)}catch(n){throw n}};function Vk(){const[e,t]=P.useState(""),[n,i]=P.useState(""),[r,s]=P.useState("");if(mr.currentUser.role!=="coach")return z.jsx("p",{children:"Access denied"});const l=async()=>{await Nk("team1",JSON.parse(e))},u=async()=>{await Ok("player1",JSON.parse(n))},c=async()=>{await Mk("drill1",JSON.parse(r))};return z.jsxs("div",{children:[z.jsx("h2",{children:"Team Management"}),z.jsx("textarea",{value:e,onChange:f=>t(f.target.value),placeholder:"Team data JSON"}),z.jsx("button",{onClick:l,children:"Create Roster"}),z.jsx("textarea",{value:n,onChange:f=>i(f.target.value),placeholder:"Performance JSON"}),z.jsx("button",{onClick:u,children:"Track Performance"}),z.jsx("textarea",{value:r,onChange:f=>s(f.target.value),placeholder:"Drill JSON"}),z.jsx("button",{onClick:c,children:"Create Drill"})]})}const Pk=async(e,t)=>{try{const n=nn(Ge,"events",e);await bl(n,t)}catch(n){throw n}},xk=async(e,t)=>{try{const n=nn(Ge,"events",e);await bh(n,{rsvps:ex(t)})}catch(n){throw n}},kk=async(e,t)=>{try{const n=nn(Ge,"events",e);await bh(n,t)}catch(n){throw n}};function Uk(){const[e,t]=P.useState(""),n=mr.currentUser,i=async()=>{await Pk("event1",JSON.parse(e))},r=async()=>{await xk("event1",n.uid)},s=async()=>{await kk("event1",{attended:[n.uid]})};return z.jsxs("div",{children:[z.jsx("h2",{children:"Calendar"}),z.jsx("textarea",{value:e,onChange:a=>t(a.target.value),placeholder:"Event JSON"}),z.jsx("button",{onClick:i,children:"Create Event"}),z.jsx("button",{onClick:r,children:"RSVP"}),z.jsx("button",{onClick:s,children:"Mark Attendance"})]})}const Lk=async(e,t,n)=>{try{const i=hk(_k,`juniors/${e}/${t}`);await uk(i,n);const r=await ck(i),s=nn(Ge,"juniors",e);await bh(s,{content:r})}catch(i){throw i}},Bk=async e=>{try{const t=nn(Ge,"juniors",e),n=await AR(t);return n.exists()?n.data():null}catch(t){throw t}};function zk(){const[e,t]=P.useState(null),n=mr.currentUser,i=async()=>{e&&await Lk(n.uid,e.name,e)};return z.jsxs("div",{children:[z.jsx("h2",{children:"Junior Portal"}),z.jsx("input",{type:"file",onChange:r=>t(r.target.files[0])}),z.jsx("button",{onClick:i,children:"Upload"})]})}function jk({juniorId:e}){const[t,n]=P.useState(null);return P.useEffect(()=>{(async()=>{const r=await Bk(e);n(r)})()},[e]),z.jsxs("div",{children:[z.jsx("h2",{children:"Parent Dashboard"}),t?z.jsx("pre",{children:JSON.stringify(t,null,2)}):z.jsx("p",{children:"Loading..."})]})}function qk(){return z.jsx(OD,{children:z.jsx("div",{className:"App",children:z.jsxs(lD,{children:[z.jsx(Hn,{path:"/",element:z.jsx(wk,{})})," ",z.jsx(Hn,{path:"/signup",element:z.jsx(Rk,{})}),z.jsx(Hn,{path:"/profile",element:z.jsx(bk,{})}),z.jsx(Hn,{path:"/chat/:roomId",element:z.jsx(Dk,{})}),z.jsx(Hn,{path:"/team-management",element:z.jsx(Vk,{})}),z.jsx(Hn,{path:"/calendar",element:z.jsx(Uk,{})}),z.jsx(Hn,{path:"/junior-portal",element:z.jsx(zk,{})}),z.jsx(Hn,{path:"/parent-dashboard/:juniorId",element:z.jsx(jk,{})})]})})})}const Hk=yC.createRoot(document.getElementById("root"));Hk.render(z.jsx(Ub.StrictMode,{children:z.jsx(qk,{})}));
